;(function(global){var __wxConfig = global.WXConfig;!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=141)}([function(e,t,n){n.r(t),n.d(t,"publish",(function(){return r.publish})),n.d(t,"subscribe",(function(){return a.subscribe})),n.d(t,"getSurroundedCallbacks",(function(){return i.getSurroundedCallbacks})),n.d(t,"callbackInvoke",(function(){return i.callbackInvoke})),n.d(t,"mainInvokeMethod",(function(){return i.mainInvokeMethod})),n.d(t,"invokeMethod",(function(){return i.invokeMethod})),n.d(t,"invokeMethodAsync",(function(){return i.invokeMethodAsync})),n.d(t,"invokeMethodWithPlugin",(function(){return i.invokeMethodWithPlugin})),n.d(t,"_invokeMethod",(function(){return i._invokeMethod})),n.d(t,"onMethod",(function(){return o.onMethod})),n.d(t,"beforeInvoke",(function(){return u})),n.d(t,"beforeInvokePromise",(function(){return l})),n.d(t,"beforeInvokeFail",(function(){return d})),n.d(t,"beforeInvokeComplete",(function(){return f})),n.d(t,"beforeInvokeCallback",(function(){return p})),n.d(t,"invoke",(function(){return h.invoke})),n.d(t,"on",(function(){return v.on})),n.d(t,"baseOperateWXData",(function(){return P}));var r=n(99),a=n(101),i=n(88),o=n(104),s=n(31),c=n(4);function u(e,t,n){var r=Object(c.paramCheck)(t,n);return!r||(d(e,t,"parameter error: "+r),!1)}function l(e,t){var n=Object(c.paramCheck)(e,t);if(n)throw new Error("parameter error: "+n)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;p({name:e,args:t,errMsg:n,errCode:r,success:!1})}function f(e){var t=e.name,n=e.args,r=void 0===n?{}:n,a=e.errMsg,i=void 0===a?"":a,o=e.res,c=void 0===o?{}:o;r=r||{};var u=t+":"+i,l=__errorTracer__.surroundThirdByTryCatch(r.complete||s.noop,"at api "+t+" complete callback function");c.errMsg=u,l(c)}function p(e){var t=e.name,n=e.args,r=void 0===n?{}:n,a=e.success,i=void 0===a||a,o=e.errMsg,u=void 0===o?"":o,l=e.errCode,d=e.res,f=void 0===d?{}:d;r=r||{};var p=i?t+":ok":t+":fail "+u,h=__errorTracer__.surroundThirdByTryCatch((i?r.success:r.fail)||s.noop,"at api "+t+" "+(i?"success":"fail")+" callback function"),v=__errorTracer__.surroundThirdByTryCatch(r.complete||s.noop,"at api "+t+" complete callback function");f.errMsg=p,Object(c.isNumber)(l)&&(f.errCode=l),h(f),v(f)}var h=n(103),v=n(105),g=(n(100),n(102),n(13)),y=n(1),m=n(5),_="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",b="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";function O(e){return function(t){return Object(c.isString)(t)&&t.length>e?t.substr(0,e):t}}function E(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(c.getDataType)(e);switch(n){case"Number":case"Boolean":return e;case"String":return O(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return"[Error:"+E(e.message)+"|"+E(e.stack)+"]";case"Object":return t?Object.keys(e).map((function(t){return E(t)+"="+E(e[t],!1)})).sort((function(e,t){return e.length-t.length})).join("&")||"{}":"["+n+"]";default:return"["+n+"]"}}function I(e){var t=e.WXDataApiName,n=e.argument,r=e.isSuccess,a=e.invokeTime,i=e.costTime,o=e.result,s=e.errMsg,c=e.isConfirm,u=e.queueLength,l=e.wxdataQueueTimestamp,d=e.wxdataDequeueTimestamp,f=e.beginCGITimestamp,p=e.CGICallbackTimestamp,h=e.beginCGITimestampAfterConfirm,v=e.CGICallbackTimestampAfterConfirm,g=e.wxlibCallbackTimestamp,I=e.requestInQueue,S=e.requestingCount,C=e.cost1,k=e.cost2,T=e.cost3,A=e.cost4,P=e.cost5,w=e.cost6;Math.random()<.05&&setTimeout((function(){var e=m.default.currentNetworkType,D=y.default.appType+1e3,R=y.default.appLaunchInfo&&void 0!==y.default.appLaunchInfo.scene?y.default.appLaunchInfo.scene:0,M=[t,E(JSON.stringify(n)),r?1:0,a,i,e,E(o),D,R,_,b,s&&E(s)||"",c?1:0,u,C,k,T,A,P,w,0,I?1:0,S,a,l,d,f,p,h,v,g].map(O(1024)).join(",");Reporter.reportKeyValue({key:"WeAppOperateWXData",value:M})}),0)}Object(c.isString)(_)&&(_=_.replace(" ","")),Object(c.isString)(b)&&(b=b.replace(" ","-"));var S=0,C=wxNativeConsole.createLogger("baseOperateWXData"),k=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg"],T=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo"],A=["qbase_commapi","webapi_botdemo"];function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e);n._isFromBaseOperateWXData=!0;var r=t.beforeAll,a=t.beforeSuccess,o=t.beforeFail,s=n.data&&n.data.api_name;k.includes(s)?n.requestInQueue=!0:n.requestInQueue=!1,T.includes(s)?n.isImportant=!0:n.isImportant=!1,A.includes(n.data&&n.data.api_name)&&(n.keepAlive=!0);var c={WXDataApiName:s,argument:n,invokeTime:Date.now(),requestInQueue:n.requestInQueue,requestingCount:++S};C.info(n.data.api_name+" _options.requestInQueue",n.requestInQueue);for(var u=arguments.length,l=new Array(u>2?u-2:0),d=2;d<u;d++)l[d-2]=arguments[d];i.invokeMethod.apply(void 0,["operateWXData",n,{beforeAll:function(e){var n=Date.now();S--,c.costTime=n-c.invokeTime;try{if(e&&e.data&&e.data.data?c.result=JSON.stringify(e.data):c.result=e.data,e.clientInfo&&"object"===Object(g.default)(e.clientInfo)){var a=e.clientInfo;Object.keys(a).forEach((function(e){c[e]=a[e]})),c.cost1=a.wxdataQueueTimestamp-c.invokeTime,c.cost2=a.wxdataDequeueTimestamp-a.wxdataQueueTimestamp,c.cost3=a.beginCGITimestamp-a.wxdataDequeueTimestamp,c.cost4=a.CGICallbackTimestamp-a.beginCGITimestamp,c.cost5=a.wxlibCallbackTimestamp-a.CGICallbackTimestamp,c.cost6=n-a.wxlibCallbackTimestamp}}catch(e){C.error(e)}"function"==typeof r&&r.call(t,e)},beforeSuccess:function(e){c.isSuccess=!0,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=c),"function"==typeof a&&a.call(t,e),I(c)},beforeFail:function(e){c.isSuccess=!1,c.errMsg=e.errMsg,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=c),"function"==typeof o&&o.call(t,e),I(c)}}].concat(l))}},function(e,t,n){n.r(t);var r=__wxConfig;t.default=r},function(e,t,n){n.r(t),n.d(t,"PLATFORM",(function(){return a})),n.d(t,"IS_DEVTOOLS",(function(){return i})),n.d(t,"IS_ANDROID",(function(){return o})),n.d(t,"IS_IOS",(function(){return s})),n.d(t,"IS_WINDOWS",(function(){return c})),n.d(t,"IS_MAC",(function(){return u})),n.d(t,"IS_MINA",(function(){return l})),n.d(t,"IS_PC",(function(){return d})),n.d(t,"debugEnabled",(function(){return f})),n.d(t,"HOST",(function(){return p})),n.d(t,"IS_HOST_SDK",(function(){return h})),n.d(t,"IS_HOST_WMPF",(function(){return v})),n.d(t,"IS_HOST_WECHAT",(function(){return g})),n.d(t,"IS_USE_NATIVE_MAP",(function(){return y}));var r=n(1),a=r.default.platform,i="devtools"===r.default.platform,o="android"===r.default.platform,s="ios"===r.default.platform,c="windows"===r.default.platform,u="mac"===r.default.platform,l="mina"===r.default.platform,d=c||u;function f(){if(r.default&&"debug"in r.default&&void 0!==r.default.debug)return!!r.default.debug}var p=r.default.host||{},h="SDK"===p.env,v="WMPF"===p.env,g="WeChat"===p.env,y=p.forceUseNativeMap||!1},function(e,t,n){var r;n.r(t),n.d(t,"ACTIONS",(function(){return r})),n.d(t,"COMMON_EVENT",(function(){return v.COMMON_EVENT})),n.d(t,"ROOT_EVENT",(function(){return v.ROOT_EVENT})),n.d(t,"BUTTON_EVENT",(function(){return v.BUTTON_EVENT})),n.d(t,"TEXT_EVENT",(function(){return v.TEXT_EVENT})),n.d(t,"VIDEO_EVENT",(function(){return v.VIDEO_EVENT})),n.d(t,"FEEDBACK_EVENT",(function(){return v.FEEDBACK_EVENT})),n.d(t,"ENDPAGE_EVENT",(function(){return v.ENDPAGE_EVENT})),n.d(t,"CAROUSEL_EVENT",(function(){return v.CAROUSEL_EVENT})),n.d(t,"REWARDEDVIDEO_EVENT",(function(){return v.REWARDEDVIDEO_EVENT})),n.d(t,"CUSTOM_EVENT",(function(){return g.CUSTOM_EVENT})),n.d(t,"ROOT_TYPES",(function(){return a})),n.d(t,"LAYOUT_TYPES",(function(){return i})),n.d(t,"IMAGE_TYPES",(function(){return o})),n.d(t,"TEXT_TYPES",(function(){return s})),n.d(t,"BUTTON_TYPES",(function(){return c})),n.d(t,"VIDEO_TYPES",(function(){return u})),n.d(t,"FEEDBACK_TYPES",(function(){return l})),n.d(t,"COUNTDOWN_TYPES",(function(){return d})),n.d(t,"ENDPAGE_TYPES",(function(){return f})),n.d(t,"FOR_TYPES",(function(){return p})),n.d(t,"CAROUSEL_TYPES",(function(){return h})),n.d(t,"IDKEY",(function(){return _.CUSTOMAD_IDKEY})),n.d(t,"ERROR_CODE",(function(){return y})),n.d(t,"DOWNLOAD_STATE",(function(){return m})),n.d(t,"AD_TYPE_IMAGE",(function(){return b})),n.d(t,"AD_TYPE_VIDEO",(function(){return O})),n.d(t,"scalableStyles",(function(){return E})),function(e){e.HIDEAD="hideAd",e.SETSTYLE="setStyle",e.REPORTIDKEY="reportIdKey",e.TRIGGEREVENT="triggerEvent",e.SETEXPRVARS="setExprVar",e.VIDEOTOGGLEMUTED="videoToggleMuted",e.VIDEOPLAY="videoPlay",e.VIDEOPAUSE="videoPause",e.VIDEOSTOP="videoStop",e.BUTTONSETTEXT="buttonSetText",e.RELOADAD="reloadAd",e.REPORTMMDATA="reportMMData",e.ENDPAGEHIDE="endPageHide",e.IMAGESETSRC="imageSetSrc",e.TEXTSETTEXT="textSetText",e.ANIMATE="animate",e.TRIGGERBTNCLICK="triggerBtnClick",e.CHANGEMULTISHOW="changeMultiShow",e.LANDAD="landAd",e.SPLASHSKIPAD="splashSkipAd",e.ADDCHILDREN="addChildren",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic"}(r||(r={}));var a,i,o,s,c,u,l,d,f,p,h,v=n(81),g=n(52);!function(e){e[e.COMMON=1]="COMMON",e[e.FULLSCREEN=2]="FULLSCREEN"}(a||(a={})),function(e){e[e.COMMON=1]="COMMON",e[e.ROW=2]="ROW",e[e.COLUMN=3]="COLUMN",e[e.PROPORTION=4]="PROPORTION"}(i||(i={})),function(e){e[e.COMMON=1]="COMMON",e[e.ICON=2]="ICON",e[e.AD=3]="AD"}(o||(o={})),function(e){e[e.COMMON=1]="COMMON",e[e.NICKNAME=2]="NICKNAME",e[e.DESC=3]="DESC",e[e.RELATION=4]="RELATION"}(s||(s={})),function(e){e[e.COMMON=1]="COMMON",e[e.LOGICCOMMON=2]="LOGICCOMMON"}(c||(c={})),function(e){e[e.COMMON=1]="COMMON",e[e.AD=2]="AD"}(u||(u={})),function(e){e[e.COMMON=1]="COMMON",e[e.SIMPLE=2]="SIMPLE"}(l||(l={})),function(e){e[e.COMMON=1]="COMMON"}(d||(d={})),function(e){e[e.COMMON=1]="COMMON"}(f||(f={})),function(e){e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e[e.ADS=2]="ADS"}(p||(p={})),function(e){e[e.NONE=0]="NONE",e[e.ROWLOOP=1]="ROWLOOP",e[e.COLUMNLOOP=2]="COLUMNLOOP"}(h||(h={}));var y,m,_=n(98);!function(e){e[e.ERR_RENDER=2001]="ERR_RENDER",e[e.ERR_TPL_NONE=2002]="ERR_TPL_NONE",e[e.ERR_TPL_PARSE=2003]="ERR_TPL_PARSE",e[e.ERR_SHOW_FAILED1=2004]="ERR_SHOW_FAILED1",e[e.ERR_SHOW_FAILED2=2005]="ERR_SHOW_FAILED2"}(y||(y={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ING=1]="ING",e[e.PAUSE=2]="PAUSE",e[e.SUCCESS=3]="SUCCESS",e[e.INSTALLED=4]="INSTALLED"}(m||(m={}));var b="image",O="video",E=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"]},function(e,t,n){n.r(t),function(e){n.d(t,"getDataType",(function(){return a})),n.d(t,"safeInstanceOf",(function(){return i})),n.d(t,"isString",(function(){return o})),n.d(t,"isNumber",(function(){return s})),n.d(t,"isBoolean",(function(){return c})),n.d(t,"isUndefined",(function(){return u})),n.d(t,"isNull",(function(){return l})),n.d(t,"isNaN",(function(){return d})),n.d(t,"isFinite",(function(){return f})),n.d(t,"isInfinity",(function(){return p})),n.d(t,"isInteger",(function(){return h})),n.d(t,"isObject",(function(){return v})),n.d(t,"isNonNullObject",(function(){return g})),n.d(t,"isJustObject",(function(){return y})),n.d(t,"isArray",(function(){return m})),n.d(t,"isFunction",(function(){return _})),n.d(t,"isDate",(function(){return b})),n.d(t,"isRegExp",(function(){return O})),n.d(t,"isError",(function(){return E})),n.d(t,"isSymbol",(function(){return I})),n.d(t,"isMap",(function(){return S})),n.d(t,"isWeakMap",(function(){return C})),n.d(t,"isSet",(function(){return k})),n.d(t,"isWeakSet",(function(){return T})),n.d(t,"isPromise",(function(){return A})),n.d(t,"isEmptyObject",(function(){return P})),n.d(t,"isArrayBuffer",(function(){return w})),n.d(t,"isDataView",(function(){return D})),n.d(t,"isTypedArray",(function(){return R})),n.d(t,"isVirtualNode",(function(){return M})),n.d(t,"isVirtualText",(function(){return j})),n.d(t,"paramCheck",(function(){return x})),n.d(t,"safelyToString",(function(){return L}));var r=Object.prototype.toString;function a(e){return r.call(e).slice(8,-1)}function i(e,t){return null!=e&&(e instanceof t||null!=e.constructor&&e.constructor.name===t.name)}var o=function(e){return"String"===a(e)},s=function(e){return"Number"===a(e)},c=function(e){return!0===e||!1===e||"Boolean"===a(e)},u=function(e){return void 0===e},l=function(e){return null===e},d=Number.isNaN||function(e){return e!=e},f=Number.isFinite||function(t){return s(t)&&e.isFinite(t)},p=function(e){return s(e)&&Math.abs(e)===1/0},h=function(e){return f(e)&&Math.floor(e)===e},v=function(e){return"Object"===a(e)},g=function(e){return v(e)&&!l(e)},y=function(e){return"Object"===a(e)},m=Array.isArray||function(e){return"Array"===a(e)},_=function(e){return"function"==typeof e},b=function(e){return"Date"===a(e)},O=function(e){return"RegExp"===a(e)},E=function(e){return"Error"===a(e)},I=function(e){return"Symbol"===a(e)},S=function(e){return"Map"===a(e)},C=function(e){return"WeakMap"===a(e)},k=function(e){return"Set"===a(e)},T=function(e){return"WeakSet"===a(e)},A=function(e){return"Promise"===a(e)},P=function(e){for(var t in e)return!1;return!0},w=function(e){return"ArrayBuffer"===a(e)},D=function(e){return"DataView"===a(e)},R=function(e){return ArrayBuffer.isView(e)&&!D(e)},M=function(e){return e&&"WxVirtualNode"===e.type},j=function(e){return e&&"WxVirtualText"===e.type};function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parameter",r=a(t),i=a(e);if(i!==r)return n+" should be "+r+" instead of "+i+";";var o="";switch(r){case"Object":Object.keys(t).forEach((function(r){o+=x(e[r],t[r],n+"."+r)}));break;case"Array":if(e.length<t.length)return n+" should have at least "+t.length+" item;";for(var s=0;s<t.length;++s)o+=x(e[s],t[s],n+"["+s+"]")}return o}function L(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}}.call(this,n(97))},function(e,t,n){n.r(t);var r=n(73);t.default={lastRoute:"",lastOpenType:"",query:{},runningStatus:"active",navigatorLock:!1,openUrlLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:r.AppStatus.FORE_GROUND,navigationBarTitleMap:{},currentNetworkType:""}},function(e,t,n){n.r(t),n.d(t,"CRT_SIZE",(function(){return a})),n.d(t,"POS_ID_MAP",(function(){return i})),n.d(t,"POS_TYPE_MAP",(function(){return o})),n.d(t,"EXPOSURE_TYPE_MAP",(function(){return s})),n.d(t,"ANALYSE_INFO_DEBUG_TYPE",(function(){return c})),n.d(t,"FLOW_EXP_MAP",(function(){return u})),n.d(t,"PRODUCT_TYPE",(function(){return l})),n.d(t,"WX_AD_PATH",(function(){return d})),n.d(t,"SPLASHAD_FETCH_LOG",(function(){return f})),n.d(t,"ID_KEY_MAP",(function(){return p})),n.d(t,"SPLASHAD_IDKEY",(function(){return h})),n.d(t,"AD_TYPE_MAP",(function(){return v})),n.d(t,"REPORT_TYPE_MAP",(function(){return g})),n.d(t,"REPORT_EXPOSURE_TYPE_MAP",(function(){return y})),n.d(t,"NET_TYPE_MAP",(function(){return m})),n.d(t,"SPLASHAD_ERROR_CODE",(function(){return _})),n.d(t,"BIG_PIC_TITLE_MAP",(function(){return b}));var r=n(3);n.d(t,"CUSTOMAD_IDKEY",(function(){return r.IDKEY})),n.d(t,"CUSTOMAD_ERROR_CODE",(function(){return r.ERROR_CODE}));var a={CRT_SIZE_REWARD_VEDIO169:559,CRT_SIZE_REWARD_VEDIO916:560,CRT_SIZE_REWARD_LANDINGPAGE:910,CRT_SIZE_SPLASH_AD:1003,CRT_SIZE_IN_TEXT_DESC_CARD:841,CRT_SIZE_MULTI_POS_NEW_PIC:927,CRT_SIZE_MULTI_POS_VIDEO:929,CRT_SIZE_GRID:972,CRT_SIZE_BIG_PIC:998,CRT_SIZE_VERTICAL_VIDEO_NEW_916:721},i={banner:"8040321819858439","incentive-video":"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885"},o={banner:3,"incentive-video":1,interstitialAd:4,grid:7,splashAd:8,customAd:9},s={banner:"showed","incentive-video":"viewable",interstitialAd:"viewable",grid:"viewable",splashAd:"viewable",customAd:"viewable"},c={"incentive-video":3,banner:4,interstitialAd:5,grid:6,customAd:7},u={94794:"widget_gray_batchload_app",94801:"widget_gray_vb_check",94804:"widget_gray_time_limit",94805:"widget_gray_video_download_v2",95489:"widget_gray_unlimit_fetch_tag",95767:"widget_gray_rewardedpage_exposure",100036:"widget_gray_report_install_follow",100332:"widget_gray_rewardedpage_exposure_v2",101246:"widget_gray_reward_new_endpage",104502:"widget_gray_reward_use_gauss_blur",104504:"widget_gray_reward_use_expand_style",105786:"widget_gray_banner_limit_click",105818:"widget_gray_splash_data_channel_parallel",107048:"widget_gray_splash_click_area_switch"},l={WECHAT:23,OPEN_PLATFORM_APP_MOB:12,APPLE_APP_STORE:19,MINI_GAME:46,JD_URL:25,WE_CHAT_SHOP:30,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31},d="wxfile://ad",f=d+"/adinfos.txt",p={splashAd:1288,customAd:1390},h={dataLoadSuccess:0,dataLoadFail:1,dataPreloadSuccess:2,dataPreloadFail:3,handleDataFail:4,launchAcceptShouldShow:5,menuAcceptShouldShow:6,readFileFail:7,launchShowSplashAdSuccess:8,menuShowSplashAdSuccess:9,showSplashAdFail:10,firstRenderFail:11,firstInsertFail:12,secondRenderFail:13,secondInsertFail:14,iosThirdInsertFail:15,checkAdStateFail:16,adOfflineClose:17,readFileDataFail:18,firstShowSuccess:19,showSplashAdMenuSuccess:20,showSplashAdMenuFail:21,secondShowSuccess:22,removeFileDataFail:23,landingPageFail:24,frequencyControlFail:25,frequencyControlReturn:26,bulkCopyFileFail:27,getAdInfosFail:28,getAidFail:29,setExposureTagFail:30,NO_ADINFOS:31,NO_AID:32,MATERIAL_NOT_READY:33,CHECK_AD_STATUS_ERROR:34,CRT_ORIENTATION_NOT_SURE:35,EXPOSURE_TIMES_LIMIT:36,START_CHECK_AD_STATUS:37,CHECK_AD_STATUS_SUCCESS:38,OTHER_ADS_EMIT_FETCH:39,WRITE_ADINFOS_SUCCESS:40,WRITE_ADINFOS_FAIL:41,SHOW_SPLASH_FAIL:10},v={banner:5,"incentive-video":6,interstitialAd:8,customAd:9,grid:13,splashAd:14},g={click:1,exposure:0},y={showed:0,viewable:1,incentiveVideoCard:2},m={wifi:1,"2g":2,"3g":3,"4g":4,"5g":5},_={NO_ADINFOS:2001,NO_AID:2002,MATERIAL_NOT_READY:2003,CHECK_AD_STATUS_ERROR:2004,CRT_ORIENTATION_NOT_SURE:2005,EXPOSURE_TIMES_LIMIT:2006,SHOW_SPLASH_FAIL:2007},b={12:"应用",19:"应用",23:"公众号",25:"商品",29:"活动",30:"商品",31:"活动",36:"优惠",39:"店铺",43:"活动",46:"小游戏",47:"优惠"}},function(e,t,n){function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"surroundByTryCatchFactory",(function(){return _})),n.d(t,"paramCheck",(function(){return p.paramCheck})),n.d(t,"getDataType",(function(){return p.getDataType})),n.d(t,"isObject",(function(){return p.isObject})),n.d(t,"getRealRoute",(function(){return b})),n.d(t,"convertProtocolPath",(function(){return O})),n.d(t,"getRealRouteWithProtocol",(function(){return E})),n.d(t,"getRouteDomain",(function(){return I})),n.d(t,"routesHaveSameDomain",(function(){return S})),n.d(t,"urlEncodeFormData",(function(){return C})),n.d(t,"getQueryString",(function(){return k})),n.d(t,"addQueryStringToUrl",(function(){return T})),n.d(t,"validateUrl",(function(){return A})),n.d(t,"assign",(function(){return P})),n.d(t,"encodeUrlQuery",(function(){return w})),n.d(t,"transWxmlToHtml",(function(){return D})),n.d(t,"removeHtmlSuffixFromUrl",(function(){return R})),n.d(t,"AppServiceSdkKnownError",(function(){return M})),n.d(t,"ThirdScriptError",(function(){return j})),n.d(t,"extend",(function(){return x})),n.d(t,"arrayBufferToBase64",(function(){return F})),n.d(t,"base64ToArrayBuffer",(function(){return V})),n.d(t,"blobToArrayBuffer",(function(){return W})),n.d(t,"convertObjectValueToString",(function(){return U})),n.d(t,"guid",(function(){return G})),n.d(t,"checkClientVersion",(function(){return Y})),n.d(t,"renameProperty",(function(){return q})),n.d(t,"compareVersion",(function(){return K})),n.d(t,"successCallback",(function(){return z})),n.d(t,"successWithMessage",(function(){return Z})),n.d(t,"failWithMessage",(function(){return X}));var r=n(8),a=n(15),i=n(16),o=n(7),s=n(78);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return(u=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Object(s.default)(a,n.prototype),a}).apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,Object(o.default)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(s.default)(r,e)})(e)}var d=n(13),f=n(1),p=n(4),h=n(2),v=n(62);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(o.default)(e);if(t){var a=Object(o.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(i.default)(this,n)}}var y=/^[-+a-zA-Z0-9]+:\/\//,m=/^__[-+a-zA-Z0-9]+__\//;function _(e,t){return __errorTracer__.wrapSystemFunction("appServiceSDKScriptError",t,e)}function b(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n&&(t=D(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return b(e,t.substr(2),!1);var r,a,i=t.split("/");for(r=0,a=i.length;r<a&&".."===i[r];r++);i.splice(0,r);var o=e.length>0?e.split("/"):[];o.splice(o.length-r-1,r+1);var s=o.concat(i),c=s.join("/");return c}function O(e){var t=e.match(y);if(!t)return e;var n=t[0];if("plugin://"===n){var r=n.length,a=e.indexOf("/",r);if(a>=0){var i=e.slice(r,a),o=f.default.plugins&&f.default.plugins[i]?f.default.plugins[i].provider:i;e=e.slice(0,r)+o+e.slice(a)}var s=e.indexOf("?");s<0&&(s=e.length);var c=e.slice(0,s),u=exparser.Component._list[c];if(!u)throw new M('Page "'+c+'" is not found');e=u.is+e.slice(s)}else if("plugin-private://"===n){var l=e.indexOf("?");l<0&&(l=e.length);var d=e.slice(0,l);e="/"+__appServiceEngine__.convertComponentAliasToRoute(d)+e.slice(l)}else{if("wx://"!==n)throw new M('Unknown URL protocol "'+n+'"');e="/__wx__/"+e.slice(5)}return e}function E(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y.test(t);)t=O(t);return b(e,t,n)}function I(e){var t=e.match(y),n=e.match(m),r="";if(t){var a=t[0];if("plugin://"===a){var i=a.length,o=e.indexOf("/",i);if(o>=0){var s=e.slice(i,o);r=f.default.plugins&&f.default.plugins[s]?f.default.plugins[s].provider:s}}else if("plugin-private://"===a){var c=a.length,u=e.indexOf("/",c);if(u>=0)r=e.slice(c,u)}else"wx://"===a&&(r="//")}if(n){var l=n[0];if("__plugin__/"===l){var d=l.length,p=e.indexOf("/",d);if(p>=0)r=e.slice(d,p)}else"__wx__/"===l&&(r="//")}return r}function S(e,t){var n=I(t);return!n||I(__virtualDOM__.convertRouteToComponentAlias(e))===n}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("object"!==Object(d.default)(e))return e;var n=[];for(var r in e)if(Object(v.hasOwnProperty)(e,r))if(t)try{n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]))}catch(t){n.push(r+"="+e[r])}else n.push(r+"="+e[r]);return n.join("&")}function k(e){var t={};if(e.indexOf("?")>-1){var n=e.indexOf("?")+1,r=e.substring(n);if(r.indexOf("#")>-1&&(r=r.substring(0,r.indexOf("#"))),!r)return t;for(var a=r.split("&"),i=0;i<a.length;i++){var o=a[i].split("=");t[o[0]]=o[1]}}return t}function T(e,t){if("string"==typeof e&&"object"===Object(d.default)(t)&&null!==t&&Object.keys(t).length>0){var n=e.split("?");return n[0]+"?"+C(P((n[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("="),r=n[0],a=n[1];e[r]=a}return e}),{}),Object.keys(t).reduce((function(e,n){return"object"===Object(d.default)(t[n])?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e}),{})))}return e}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http";return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)e[n]=t[n];return e}),{})}function w(e){if("string"==typeof e){var t=e.split("?"),n=t[0],r=(t[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("="),r=n[0],a=n[1];e[r]=a}return e}),{}),a=[];for(var i in r)Object(v.hasOwnProperty)(r,i)&&a.push(i+"="+encodeURIComponent(r[i]));return a.length>0?n+"?"+a.join("&"):e}return e}function D(e){if("string"!=typeof e)return e;var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?t+"?"+n:t}function R(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}var M=function(e){Object(a.default)(n,e);var t=g(n);function n(e){var a;return Object(r.default)(this,n),(a=t.call(this,"APP-SERVICE-SDK:"+e)).type="AppServiceSdkKnownError",a}return n}(l(Error)),j=function(e){Object(a.default)(n,e);var t=g(n);function n(e){var a;return Object(r.default)(this,n),(a=t.call(this,""+e)).type="ThirdScriptError",a}return n}(l(Error));function x(e,t){for(var n in t)e[n]=t[n];return e}var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",N=N||function(e){for(var t,n,r=String(e),a="",i=0,o=L;r.charAt(0|i)||(o="=",i%1);a+=o.charAt(63&t>>8-i%1*8)){if((n=r.charCodeAt(i+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|n}return a},B=B||function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var r,a,i=0,o=0;a=t.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)a=L.indexOf(a);return n};function F(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,a=0;a<r;a++)t+=String.fromCharCode(n[a]);return N(t)}function V(e){for(var t=B(e),n=t.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=t.charCodeAt(a);return r.buffer}function W(e,t){var n=new FileReader;n.onload=function(){t(this.result)},n.readAsArrayBuffer(e)}function U(e){return Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]?t[n]=e[n]+"":t[n]=Object.prototype.toString.apply(e[n]),t}),{})}function G(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var H=f.default.clientVersion||1;function Y(e,t){switch(h.PLATFORM){case"devtools":return!0;case"ios":return H>e;case"android":return H>t;default:return!1}}function q(e,t,n){!1!==Object(p.isObject)(e)&&t!==n&&Object(v.hasOwnProperty)(e,t)&&(e[n]=e[t],delete e[t])}function K(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var r=0;r<n;r++){var a=parseInt(e[r],10),i=parseInt(t[r],10);if(a>i)return 1;if(a<i)return-1}return 0}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t?{errMsg:t}:void 0;"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t?{errMsg:t}:void 0;"function"==typeof e.fail&&e.fail(n),"function"==typeof e.complete&&e.complete(n)}},function(e,t,n){n.r(t),n.d(t,"surroundByTryCatchFactory",(function(){return d})),n.d(t,"surroundWXByTryCatch",(function(){return p})),n.d(t,"timeout",(function(){return h})),n.d(t,"deepFreeze",(function(){return v})),n.d(t,"EventEmitter",(function(){return g})),n.d(t,"getDataLength",(function(){return y})),n.d(t,"checkAPIAvailable",(function(){return m})),n.d(t,"isGame",(function(){return _})),n.d(t,"isApp",(function(){return b})),n.d(t,"promisify",(function(){return O})),n.d(t,"transformToCamelCaseVar",(function(){return E})),n.d(t,"transformToUnderScoreCaseVar",(function(){return I})),n.d(t,"capitalizeFirstLetter",(function(){return S})),n.d(t,"skipURLCheck",(function(){return C})),n.d(t,"versionCompare",(function(){return k})),n.d(t,"executeOnlyOnce",(function(){return T})),n.d(t,"filterObject",(function(){return A})),n.d(t,"hideInnerRequest",(function(){return P})),n.d(t,"isSinglePageMode",(function(){return w})),n.d(t,"isIn3rdApp",(function(){return D})),n.d(t,"isIsolateContext",(function(){return R})),n.d(t,"compareClientVersion",(function(){return M}));var r=n(8),a=n(11),i=n(13),o=n(35),s=n(1),c=n(26),u=n(2),l=n(4);function d(e,t,n){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:n,error:e,extend:t})}}}}function f(e,t,n,r){Object.defineProperty(e,n,{get:function(){var e=this;return"function"==typeof t[n]?d((function(){return Object(c.checkWxInterfaceSupported)(n),Object(c.wrappedByCheckPermissionInTap)(n,t[n]).apply(e,arguments)}),"wx."+n,r):t[n]},enumerable:!0,configurable:!0})}var p=function(e,t){var n={};for(var r in e)f(n,e,r,t);return n},h=function(e,t){var n=t.timeout;if("number"==typeof n){var r=!1,a=setTimeout((function(){var e={errMsg:"request timeout"};r=!0,"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)}),n),i=["success","fail","complete"].reduce((function(e,n){return e[n]=function(e){r||(clearTimeout(a),"function"==typeof t[n]&&t[n](e))},e}),{});e(Object.assign({},t,i))}else e(t)};function v(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n;try{n=e[t]}catch(e){}"object"!==Object(i.default)(n)&&"function"!=typeof n||Object.isFrozen(n)||v(n)})),e}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxListeners:2e3};Object(r.default)(this,e),this.emitter=new o.default(t),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}return Object(a.default)(e,[{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"on",value:function(e,t){if(t&&"function"==typeof t){var n=__errorTracer__.surroundThirdByTryCatch(t,"at "+e+" callback function");this.callbackMap.set(t,n),this.originalCallbackMap.set(n,t),this.emitter.on(e,n)}}},{key:"off",value:function(e,t){var n=this;if(t&&"function"==typeof t){var r=this.callbackMap.get(t);this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r)}else this.emitter.listeners(e).forEach((function(e){var t=n.originalCallbackMap.get(e);n.callbackMap.delete(t),n.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}},{key:"listeners",value:function(e){return this.emitter.listeners(e)}}]),e}();function y(e){return"string"==typeof e?e.length:"object"===Object(i.default)(e)&&null!==e&&"number"==typeof e.byteLength?e.byteLength:0}function m(e){var t="unknown";if(s.default.appContactInfo&&s.default.appContactInfo.operationInfo&&s.default.appContactInfo.operationInfo.jsonInfo&&s.default.appContactInfo.operationInfo.jsonInfo.apiAvailable){var n=s.default.appContactInfo.operationInfo.jsonInfo.apiAvailable;"number"==typeof n[e]&&(t=1===n[e])}return t}function _(){return 4===s.default.appType}function b(){return 0===s.default.appType}function O(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,r){e(Object.assign(t,{success:n,fail:r}))}))}}function E(e){return e.replace(/_+(\w)/g,(function(){return arguments[2]?arguments[1].toUpperCase():arguments[0]}))}function I(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()}function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}function C(){return u.IS_DEVTOOLS?!s.default.urlCheck:!0===s.default.debug}function k(e,t){var n,r=String(e).split(".").map((function(e){return parseInt(e,10)})),a=String(t).split(".").map((function(e){return parseInt(e,10)})),i=Math.max(r.length,a.length);if(null!=e&&null!=t){if(0===e.length&&0===t.length)return 0;if(0===e.length)return-1;if(0===t.length)return 1;for(var o=0;o<i&&0===(n=s(r[o],a[o]));o++);return n}function s(e,t){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),e>t?1:e<t?-1:0}console.error("versionCompare()参数格式错误")}function T(e){var t=!1;return function(){if(!t)return t=!0,e.apply(void 0,arguments)}}function A(e,t){return t.reduce((function(t,n){return Object(l.isUndefined)(e[n])||(t[n]=e[n]),t}),{})}function P(e){if(!u.IS_DEVTOOLS||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),n=t[1]||"",r=n.length>0?"&":"";e=t[0]+"?"+n+r+"devtools_ignore=true"}return e}function w(){return s.default.appLaunchInfo&&"singlePage"===s.default.appLaunchInfo.mode}function D(){var e=s.default.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}var R=function(){return s.default.isIsolateContext};function M(e,t){var n=function(e){if("string"==typeof e){for(var t=e.split(".").map((function(e){return parseInt(e,10)}));t.length<4;)t.push(0);return function(e){for(var t=e.length,n=0,r=0;r<t;++r)n=n<<8|e[r];return n}(t.slice(0,4))}return"number"==typeof e?268435455&e:e};return(e=n(e))>(t=n(t))?1:e<t?-1:0}},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.r(t),n.d(t,"default",(function(){return a}))},function(e,t,n){e.exports=n(127)},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var r=n(78);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.default)(e,t)}},function(e,t,n){n.r(t),n.d(t,"default",(function(){return i}));var r=n(13),a=n(22);function i(e,t){return!t||"object"!==Object(r.default)(t)&&"function"!=typeof t?Object(a.default)(e):t}},function(e,t,n){n.r(t),n.d(t,"Component",(function(){return l})),n.d(t,"getPrivateThis",(function(){return s})),n.d(t,"removePrivateThis",(function(){return u})),n.d(t,"init",(function(){return d})),n.d(t,"create",(function(){return c}));var r=n(8),a=n(24),i=n(27),o=new WeakMap,s=function(e){return o.get(e)},c=function e(t){var n=this,r=s(this),o={view:a.View,text:a.Text,image:a.Image,video:a.Video,"image-previewer":a.ImagePreviewer}[t.name],c="";t.attributes.id?c=Object(i.splitLineToCamelCase)(t.attributes.id):wxNativeConsole.error(t.name+" 缺少id");var u=Object.keys(t.attributes).reduce((function(e,n){var a=t.attributes[n],o=Object(i.splitLineToCamelCase)(n);return"id"===n?(e.style=Object.assign(e.style||{},r.style[c]),e):"class"===n?(e.style=a.split(/\s+/).reduce((function(e,t){return Object.assign(e,r.style[t])}),e.style||{}),e):(/\{\{.+\}\}/.test(a)||(e[o]=""===a||"true"===a||"false"!==a&&a),e)}),{});u.name=c;var l=new o(u);return r[c]=l,t.children.forEach((function(t){var r=e.call(n,t);l.add(r)})),l},u=function(e){o.delete(e)},l=function e(){Object(r.default)(this,e);o.set(this,{})},d=function(e,t,n){var r=s(this);r.xom=e,r.style=t,r.state=n,c.call(this,e)}},function(e,t,n){n.r(t),n.d(t,"getEventManager",(function(){return c}));var r=n(13),a=n(35),i=new a.default({maxListeners:20,newListener:!1}),o=new a.default({maxListeners:20,newListener:!1});var s={};function c(e){if(e=e[0].toUpperCase()+e.slice(1),!s[e]){var t=new WeakMap;s[e]={getGlobalListeners:function(){return i.listeners(e)},getInternalListeners:function(){return o.listeners(e)},emit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.emit.apply(o,[e].concat(n)),i.emit.apply(i,[e].concat(n))},emitGlobal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.emit.apply(i,[e].concat(n))},emitInternal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.emit.apply(o,[e].concat(n))},internalOnMethod:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"function"==typeof t&&(n.prepend?n.once?o.prependOnceListener(e,t):o.prependListener(e,t):n.once?o.once(e,t):o.on(e,t))},internalOffMethod:function(t){"function"==typeof t&&o.off(e,t)},onMethod:function(n){var a=function(e,t){return"function"!=typeof t?(console.error("on"+e+" should accept a function instead of "+Object(r.default)(t)),null):__errorTracer__.surroundThirdByTryCatch(t,"at api on"+e+" callback function")}(e,n);a&&(t.set(n,a),i.on(e,a))},offMethod:function(n){if(function(e,t){return!t||"function"==typeof t||(console.error("off"+e+" should accept a function instead of "+Object(r.default)(t)),!1)}(e,n))if(n){if(t.has(n)){var a=t.get(n);t.delete(n),i.off(e,a)}}else t=new WeakMap,i.removeAllListeners(e)}}}return s[e]}},function(e,t,n){n.r(t),n.d(t,"pick",(function(){return r.pick})),n.d(t,"omit",(function(){return r.omit})),n.d(t,"isObject",(function(){return r.isObject})),n.d(t,"mergeDeep",(function(){return r.mergeDeep})),n.d(t,"getMembers",(function(){return r.getMembers})),n.d(t,"get",(function(){return r.get})),n.d(t,"flatten",(function(){return r.flatten})),n.d(t,"cloneDeep",(function(){return r.cloneDeep})),n.d(t,"isRootElement",(function(){return s})),n.d(t,"getChildren",(function(){return c})),n.d(t,"getVisibleChildren",(function(){return u})),n.d(t,"traverseElement",(function(){return l})),n.d(t,"getDataFromPaths",(function(){return d})),n.d(t,"urlEncode",(function(){return y})),n.d(t,"urlDecode",(function(){return m})),n.d(t,"getQueryString",(function(){return _})),n.d(t,"addUrlParam",(function(){return b})),n.d(t,"allSettled",(function(){return O})),n.d(t,"getInitDeviceOrientation",(function(){return S}));var r=n(106),a=n(64);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t;return e.parent===a.Layout||!(null===(t=e.parent)||void 0===t?void 0:t.referComponent)},c=function(e){return Object.keys(e.children).map((function(t){return e.children[t]}))},u=function(e){return c(e).filter((function(e){return!0!==(null==e?void 0:e.style.hidden)}))},l=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"downward";"downward"===r&&n(t);var a,o=i(c(t));try{for(o.s();!(a=o.n()).done;){var s=a.value;e(s,n,r)}}catch(e){o.e(e)}finally{o.f()}"upward"===r&&n(t)},d=function(e,t){var n,a=i(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.path,c=o.value,u=o.condition;if(void 0===u||u){var l=c||(s?Object(r.get)(e,s):"");if(l)return l}}}catch(e){a.e(e)}finally{a.f()}return null},f=n(32);function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=63,g=function(e){var t=e.toString(16).toUpperCase();return t.length<2?"%0"+t:"%"+t},y=function(e){if(!e)return"";var t,n=[],r=/[ \r\n!*"'();:@&=+$,/?%#[\]<>{}|`^\\\u0080-\uffff]/,a=p(String(e));try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.match(r)){var o=i.codePointAt?i.codePointAt(0):i.charCodeAt(0);o<128?n.push(g(o)):o<2048?n.push([g(192+(o>>6)),g(128+(o&v))].join("")):o<65536?n.push([g(224+(o>>12)),g(128+(o>>6&v)),g(128+(o&v))].join("")):o<2097152&&n.push([g(240+(o>>18)),g(128+(o>>12&v)),g(128+(o>>6&v)),g(128+(o&v))].join(""))}else n.push(i)}}catch(e){a.e(e)}finally{a.f()}return n.join("")},m=function(e){if(!e)return"";for(var t=function(e){if(!e)throw new Error("invalid text")},n=function(e){return String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e)},r=e.replace(/%[a-fA-F0-9]{2}/gi,(function(e){return String.fromCharCode(parseInt(e.replace("%",""),16))})),a=0,i="";a<r.length;){var o=r.charCodeAt(a);if(o<128)i+=n(o),a+=1;else if(o>=192&&o<224){t(a+1<r.length),i+=n((31&o)<<6|r.charCodeAt(a+1)&v),a+=2}else if(o<240){t(a+2<r.length);var s=r.charCodeAt(a+1),c=r.charCodeAt(a+2);i+=n((15&o)<<12|(s&v)<<6|c&v),a+=3}else{t(a+3<r.length);var u=r.charCodeAt(a+1),l=r.charCodeAt(a+2),d=r.charCodeAt(a+3);i+=n([(7&o)<<18,(u&v)<<12,(l&v)<<6,d&v].reduce((function(e,t){return e|t}),0)),a+=4}}return i},_=function(e){var t={};if(e.indexOf("?")>-1){var n=e.indexOf("?")+1,r=e.substring(n);r.indexOf("#")>-1&&(r=r.substring(0,r.indexOf("#")));var a,i=p(r.split("&"));try{for(i.s();!(a=i.n()).done;){var o=a.value.split("="),s=Object(f.default)(o,2),c=s[0],u=s[1];t[c]=m(u)}}catch(e){i.e(e)}finally{i.f()}}return t},b=function(e,t){if(!e)return"";if(!t)return e;var n=e.split("#"),r=n[0].indexOf("?")>-1?"&":"?",a="",i=Object.keys(t);if(i.length>0){var o,s=p(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;a=a.concat(c+"="+y(t[c])+"&")}}catch(e){s.e(e)}finally{s.f()}return a.length>0&&(a=a.substring(0,a.length-1)),n[0]+r+a+(n[1]?"#"+n[1]:"")}return e},O=function(e){return Promise.all(e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))})))},E=n(34),I=n(1),S=function(){var e=Object(E.getInitScreenSize)();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":I.default.deviceOrientation&&/^landscape/.test(I.default.deviceOrientation)?"landscape":I.default.deviceOrientation||"portrait"}},function(e,t,n){n.r(t),n.d(t,"openUrl",(function(){return l})),n.d(t,"openADCanvas",(function(){return d})),n.d(t,"navigateToMiniProgram",(function(){return f})),n.d(t,"operateWXData",(function(){return h})),n.d(t,"adOperateWXData",(function(){return p})),n.d(t,"showSplashAd",(function(){return v})),n.d(t,"closeSplashAd",(function(){return g})),n.d(t,"showSplashAdMenu",(function(){return y})),n.d(t,"splashAdFirstStepViewLayoutStateChange",(function(){return m})),n.d(t,"splashAdAllViewLayoutStateChange",(function(){return _})),n.d(t,"fs",(function(){return u._fs}));var r=n(0),a=n(27),i=n(39),o=n(9),s=n(29),c=n(2),u=n(67),l=Object(a.promisify)((function(e){var t=e.url,n=e.adInfo,a=e.adUxInfo,i={url:t,adInfo:n,success:e.success,fail:e.fail,complete:e.complete};a&&(i.adUxInfo=a),Object(r.invokeMethod)("private_openUrl",i)})),d=Object(a.promisify)((function(e){var t=e.canvasInfo,n=e.posType,a=e.success,o=e.fail,s=e.complete;Object(r.invokeMethod)("openADCanvas",{canvasId:t.canvas_id,preLoad:0,noStore:0,extraData:JSON.stringify({pos_type:n}),adInfoXml:Object(i.htmlDecode)(t.ad_info_xml),openFirstSightVoice:1,success:a,fail:o,complete:s})})),f=Object(a.promisify)((function(e){var t=e.appId,n=e.path,a=e.traceid,i=e.aid,s=e.adInfo,c=e.adUxInfo,u=e.success,l=e.fail,d=e.complete,f=a+":"+i,p={appId:t,path:Object(o.transWxmlToHtml)(n).trim(),scene:1095,sourcetype:1,sceneNote:f,adInfo:s,success:u,fail:l,complete:d};c&&(p.adUxInfo=c),Object(r.invokeMethod)("navigateToMiniProgram",p)})),p=Object(a.promisify)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.beforeInvoke)("adOperateWXData",a,{apiName:""})){var i={api_name:a.apiName,data:a.reqData||{},operate_directly:e},o={data:i,isImportant:!0===n,requestInQueue:!a.hasOwnProperty("requestInQueue")||Boolean(a.requestInQueue)};Object(r.invokeMethod)("adOperateWXData",Object.assign({},o,a),{beforeAll:function(e){void 0!==t&&(e.errMsg=e.errMsg.replace("adOperateWXData",t))},beforeSuccess:function(e){c.IS_ANDROID&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.respData=e.data,delete e.data}})}}}(!1,"adOperateWXDataForAd")),h=Object(a.promisify)(Object(s.constructOperateWXData)(!1,"operateWXDataForAd"));function v(e){Object(r._invokeMethod)("showSplashAd",e)}function g(e){Object(r._invokeMethod)("closeSplashAd",e)}function y(e){Object(r._invokeMethod)("showSplashAdMenu",e)}function m(e){Object(r._invokeMethod)("splashAdFirstStepViewLayoutStateChange",e)}function _(e){Object(r._invokeMethod)("splashAdAllViewLayoutStateChange",e)}},function(e,t,n){n.r(t),n.d(t,"default",(function(){return i}));var r=n(0),a=n(2);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};return function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=o(c),Object(r.baseOperateWXData)(Object.assign({},c,{data:Object.assign({api_name:t},i,n?{data:n}:void 0),requestInQueue:!c.hasOwnProperty("requestInQueue")||Boolean(c.requestInQueue)}),{beforeAll:function(t){t.errMsg=t.errMsg.replace("operateWXData",e)},beforeSuccess:function(e){if(a.IS_ANDROID&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data.data){e.rawData=e.data.data;var t=JSON.parse(e.data.data);e=Object.assign(e,t)}e.data.signature&&(e.signature=e.data.signature),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv,e.data.cloud_id&&(e.cloudID=e.data.cloud_id)),delete e.data,e=s(e)}})}}},function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"onNativeEvent",(function(){return o})),n.d(t,"offNativeEvent",(function(){return s}));var r=n(104),a=n(18),i={},o=function(e,t){var n=Object(a.getEventManager)("WeixinJSBridge-"+e);i[e]||(Object(r.onMethod)(e,(function(){n.emit.apply(n,arguments)})),i[e]=!0),n.internalOnMethod(t)},s=function(e,t){Object(a.getEventManager)("WeixinJSBridge-"+e).internalOffMethod(t)}},function(e,t,n){n.r(t),n.d(t,"View",(function(){return p})),n.d(t,"Text",(function(){return v})),n.d(t,"Image",(function(){return k})),n.d(t,"Video",(function(){return W})),n.d(t,"Camera",(function(){return fe})),n.d(t,"LivePlayer",(function(){return ye})),n.d(t,"LivePusher",(function(){return Se})),n.d(t,"WebView",(function(){return ke.WebView})),n.d(t,"getWebViewIdList",(function(){return ke.getWebViewIdList})),n.d(t,"ImagePreviewer",(function(){return Pe})),n.d(t,"webviewLayout",(function(){return E})),n.d(t,"nativeviewLayout",(function(){return I}));var r=n(8),a=n(11),i=n(30),o=n(15),s=n(16),c=n(7),u=n(0),l=n(45),d=n(27);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.default)(e);if(t){var a=Object(c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.default)(this,n)}}var p=function(e){Object(o.default)(n,e);var t=f(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.id,o=a.parentId,s=a.style,c=a.props,u=void 0===c?{}:c,l=a.type,d=void 0===l?"text":l,f=a.name,p=void 0===f?"":f,h=a.autoInsert,v=void 0!==h&&h,g=a.eventType,y=void 0===g?"touch":g,m=a.clickState,_=void 0!==m&&m,b=a.bubbleEvent,O=void 0!==b&&b;Object(r.default)(this,n),(e=t.call(this,{id:i,style:s,props:Object.assign(u,{fullscreen:!1}),name:p,parentId:o})).type="text"===d?"TextView":"ImageView",e.eventType=y,e.autoInsert=v,e.bubbleEvent=O,"touch"===e.eventType&&_&&e.ready().then((function(){e.mask=new n({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click"}),e.mask.name="mask",e.add(e.mask)})).catch((function(){}));var E=Date.now(),I={x:0,y:0};e.on("touchstart",(function(t){_&&e.mask&&(e.mask.style.hidden=!1),E=Date.now(),I=t}));var S=function(t){_&&e.mask&&(e.mask.style.hidden=!0);var n={x:0,y:0};try{n=e.getAbsolutePosition()}catch(e){}var r={x:0,y:0};Array.isArray(t)?r=t.pop():t.x&&t.y&&(r=t);var a={absoluteX:n.left+I.x,absoluteY:n.top+I.y,relativeX:I.x,relativeY:I.y,absoluteEndX:n.left+r.x,absoluteEndY:n.top+r.y,relativeEndX:r.x,relativeEndY:r.y,pressInterval:Date.now()-E};e.emit("click",a)};return e.on("touchend",S),e.on("touchcancel",S),e.autoInsert&&e.insert(),e}return Object(a.default)(n,[{key:"toNativeData",value:function(){var e=this,t=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&t.push("objectFit");var n=t.reduce((function(t,n){return t[n]=e.computedStyle[n],"borderColor"===n&&(t[n]=Object(d.hex)(e.computedStyle[n])),t}),{});n.bgColor=Object(d.hex)(this.computedStyle.backgroundColor),n.scaleX=this.computedStyle.scaleWidth,n.scaleY=this.computedStyle.scaleHeight;var r={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(r={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(r.width=0,r.height=0),this.mask&&(this.mask.style.width=r.width,this.mask.style.height=r.height),n.padding=[0,0,0,0],void 0!==n.borderRadius&&n.borderRadius||(n.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:r,hide:this.computedStyle.hidden,style:n,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:n.fixed}}},{key:"insert",value:function(){var e=this,t=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise((function(n,r){Object(u.invokeMethod)("insert"+e.type,Object.assign(t,{success:function(t){Object(d.log)(e.name,e.id,"ready"),e.emit("ready"),n(t)},fail:r}))}))}},{key:"update",value:function(){var e=this;this.shouldUpdate=!1;var t=this.toNativeData();return new Promise((function(n,r){Object(u.invokeMethod)("update"+e.type,Object.assign(t,{success:n,fail:r}))}))}},{key:"destroy",value:function(){var e=this;Object(i.default)(Object(c.default)(n.prototype),"destroy",this).call(this);var t={dest:this.dest,viewId:this.id};return new Promise((function(n,r){Object(u.invokeMethod)("remove"+e.type,Object.assign(t,{success:n,fail:r}))}))}},{key:"animate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,r=t.top,a=t.opacity,i=t.scaleWidth,o=t.scaleHeight,s=t.rotate,c=void 0===s?0:s,l=t.duration,d=void 0===l?500:l,f={dest:this.dest,viewId:this.id,easing:"ease-in",duration:d,finalStyle:{left:n,top:r,opacity:a,rotate:c,scaleX:i,scaleY:o}};return new Promise((function(e,t){Object(u.invokeMethod)("animateCoverView",Object.assign(f,{success:e,fail:t}))})).then((function(t){return void 0!==n&&(e.style.left=n),void 0!==r&&(e.style.top=r),void 0!==i&&(e.style.scaleWidth=i),void 0!==o&&(e.style.scaleHeight=o),void 0!==a&&(e.style.opacity=a),void 0!==c&&(e.style.rotate=c),t}))}}]),n}(l.Element);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.default)(e);if(t){var a=Object(c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.default)(this,n)}}var v=function(e){Object(o.default)(n,e);var t=h(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,i=e.style,o=e.value,s=void 0===o?"":o,c=e.name,u=void 0===c?"":c,l=e.autoInsert,d=void 0!==l&&l,f=e.eventType,p=e.bubbleEvent,h=e.clickState;return Object(r.default)(this,n),t.call(this,{id:a,style:i,props:{value:s},type:"text",name:u,autoInsert:d,eventType:f,bubbleEvent:p,clickState:h})}return Object(a.default)(n,[{key:"toNativeData",value:function(){var e=this,t=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce((function(t,n){return t[n]=e.computedStyle[n],t}),{});return Object.assign(Object(i.default)(Object(c.default)(n.prototype),"toNativeData",this).call(this),{label:Object.assign(t,{content:this.value})})}}]),n}(p),g=function(){var e,t="inherit",n="row",r="row-reverse",a="column",i="column-reverse",o="flex-start",s="center",c="flex-start",u="center",l="flex-end",d="stretch",f="relative",p="absolute",h={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},v={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},g={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},y={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function m(e){return void 0===e}function _(e){return e===n||e===r}function b(e,t){if(void 0!==e.style.marginStart&&_(t))return e.style.marginStart;var n=null;switch(t){case"row":n=e.style.marginLeft;break;case"row-reverse":n=e.style.marginRight;break;case"column":n=e.style.marginTop;break;case"column-reverse":n=e.style.marginBottom}return void 0!==n?n:void 0!==e.style.margin?e.style.margin:0}function O(e,t){if(void 0!==e.style.marginEnd&&_(t))return e.style.marginEnd;var n=null;switch(t){case"row":n=e.style.marginRight;break;case"row-reverse":n=e.style.marginLeft;break;case"column":n=e.style.marginBottom;break;case"column-reverse":n=e.style.marginTop}return null!=n?n:void 0!==e.style.margin?e.style.margin:0}function E(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&_(t))return e.style.borderStartWidth;var n=null;switch(t){case"row":n=e.style.borderLeftWidth;break;case"row-reverse":n=e.style.borderRightWidth;break;case"column":n=e.style.borderTopWidth;break;case"column-reverse":n=e.style.borderBottomWidth}return null!=n&&n>=0?n:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function I(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&_(t))return e.style.borderEndWidth;var n=null;switch(t){case"row":n=e.style.borderRightWidth;break;case"row-reverse":n=e.style.borderLeftWidth;break;case"column":n=e.style.borderBottomWidth;break;case"column-reverse":n=e.style.borderTopWidth}return null!=n&&n>=0?n:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function S(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&_(t))return e.style.paddingStart;var n=null;switch(t){case"row":n=e.style.paddingLeft;break;case"row-reverse":n=e.style.paddingRight;break;case"column":n=e.style.paddingTop;break;case"column-reverse":n=e.style.paddingBottom}return null!=n&&n>=0?n:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+E(e,t)}function C(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&_(t))return e.style.paddingEnd;var n=null;switch(t){case"row":n=e.style.paddingRight;break;case"row-reverse":n=e.style.paddingLeft;break;case"column":n=e.style.paddingBottom;break;case"column-reverse":n=e.style.paddingTop}return null!=n&&n>=0?n:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+I(e,t)}function k(e,t){return E(e,t)+I(e,t)}function T(e,t){return b(e,t)+O(e,t)}function A(e,t){return S(e,t)+C(e,t)}function P(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function w(e,t){if("rtl"===t){if(e===n)return r;if(e===r)return n}return e}function D(e,t){return function(e){return e===a||e===i}(e)?w(n,t):a}function R(e){return e.style.position?e.style.position:"relative"}function M(e){return R(e)===f&&e.style.flex>0}function j(e,t){return e.layout[y[t]]+T(e,t)}function x(e,t){return void 0!==e.style[y[t]]&&e.style[y[t]]>=0}function L(e,t){return void 0!==e.style[t]}function N(e,t){return void 0!==e.style[t]?e.style[t]:0}function B(e,t,n){var r={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],a={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],i=n;return void 0!==a&&a>=0&&i>a&&(i=a),void 0!==r&&r>=0&&i<r&&(i=r),i}function F(e,t){return e>t?e:t}function V(e,t){void 0===e.layout[y[t]]&&x(e,t)&&(e.layout[y[t]]=F(B(e,t,e.style[y[t]]),A(e,t)))}function W(e,t,n){t.layout[v[n]]=e.layout[y[n]]-t.layout[y[n]]-t.layout[g[n]]}function U(e,t){return void 0!==e.style[h[t]]?N(e,h[t]):-N(e,v[t])}function G(I,G,Y){var q=function(e,n){var r;return(r=e.style.direction?e.style.direction:t)===t&&(r=void 0===n?"ltr":n),r}(I,Y),K=w(function(e){return e.style.flexDirection?e.style.flexDirection:a}(I),q),z=D(K,q),Z=w(n,q);V(I,K),V(I,z),I.layout.direction=q,I.layout[h[K]]+=b(I,K)+U(I,K),I.layout[v[K]]+=O(I,K)+U(I,K),I.layout[h[z]]+=b(I,z)+U(I,z),I.layout[v[z]]+=O(I,z)+U(I,z);var X=I.children.length,J=A(I,Z);if(function(e){return void 0!==e.style.measure}(I)){var Q=!m(I.layout[y[Z]]),$=e;$=x(I,Z)?I.style.width:Q?I.layout[y[Z]]:G-T(I,Z),$-=J;var ee=!x(I,Z)&&!Q,te=!x(I,a)&&m(I.layout[y.column]);if(ee||te){var ne=I.style.measure($);ee&&(I.layout.width=ne.width+J),te&&(I.layout.height=ne.height+A(I,a))}if(0===X)return}var re,ae,ie,oe,se=function(e){return"wrap"===e.style.flexWrap}(I),ce=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(I),ue=S(I,K),le=S(I,z),de=A(I,K),fe=A(I,z),pe=!m(I.layout[y[K]]),he=!m(I.layout[y[z]]),ve=_(K),ge=null,ye=null,me=e;pe&&(me=I.layout[y[K]]-de);for(var _e=0,be=0,Oe=0,Ee=0,Ie=0,Se=0;be<X;){var Ce,ke=0,Te=0,Ae=0,Pe=0,we=pe&&ce===o||!pe&&ce!==s,De=we?X:_e,Re=!0,Me=X,je=null,xe=null,Le=ue,Ne=0;for(re=_e;re<X;++re){if((ie=I.children[re]).lineIndex=Se,ie.nextAbsoluteChild=null,ie.nextFlexChild=null,(qe=P(I,ie))===d&&R(ie)===f&&he&&!x(ie,z))ie.layout[y[z]]=F(B(ie,z,I.layout[y[z]]-fe-T(ie,z)),A(ie,z));else if(R(ie)===p)for(null===ge&&(ge=ie),null!==ye&&(ye.nextAbsoluteChild=ie),ye=ie,ae=0;ae<2;ae++)oe=0!==ae?n:a,!m(I.layout[y[oe]])&&!x(ie,oe)&&L(ie,h[oe])&&L(ie,v[oe])&&(ie.layout[y[oe]]=F(B(ie,oe,I.layout[y[oe]]-A(I,oe)-T(ie,oe)-N(ie,h[oe])-N(ie,v[oe])),A(ie,oe)));var Be=0;if(pe&&M(ie)?(Te++,Ae+=ie.style.flex,null===je&&(je=ie),null!==xe&&(xe.nextFlexChild=ie),xe=ie,Be=A(ie,K)+T(ie,K)):(Ce=e,ve||(Ce=x(I,Z)?I.layout[y[Z]]-J:G-T(I,Z)-J),0===Oe&&H(ie,Ce,q),R(ie)===f&&(Pe++,Be=j(ie,K))),se&&pe&&ke+Be>me&&re!==_e){Pe--,Oe=1;break}we&&(R(ie)!==f||M(ie))&&(we=!1,De=re),Re&&(R(ie)!==f||qe!==d&&qe!==c||m(ie.layout[y[z]]))&&(Re=!1,Me=re),we&&(ie.layout[g[K]]+=Le,pe&&W(I,ie,K),Le+=j(ie,K),Ne=F(Ne,B(ie,z,j(ie,z)))),Re&&(ie.layout[g[z]]+=Ee+le,he&&W(I,ie,z)),Oe=0,ke+=Be,be=re+1}var Fe=0,Ve=0,We=0;if(We=pe?me-ke:F(ke,0)-ke,0!==Te){var Ue,Ge,He=We/Ae;for(xe=je;null!==xe;)(Ue=He*xe.style.flex+A(xe,K))!==(Ge=B(xe,K,Ue))&&(We-=Ge,Ae-=xe.style.flex),xe=xe.nextFlexChild;for((He=We/Ae)<0&&(He=0),xe=je;null!==xe;)xe.layout[y[K]]=B(xe,K,He*xe.style.flex+A(xe,K)),Ce=e,x(I,Z)?Ce=I.layout[y[Z]]-J:ve||(Ce=G-T(I,Z)-J),H(xe,Ce,q),ie=xe,xe=xe.nextFlexChild,ie.nextFlexChild=null}else ce!==o&&(ce===s?Fe=We/2:"flex-end"===ce?Fe=We:"space-between"===ce?(We=F(We,0),Ve=Te+Pe-1!=0?We/(Te+Pe-1):0):"space-around"===ce&&(Fe=(Ve=We/(Te+Pe))/2));for(Le+=Fe,re=De;re<be;++re)R(ie=I.children[re])===p&&L(ie,h[K])?ie.layout[g[K]]=N(ie,h[K])+E(I,K)+b(ie,K):(ie.layout[g[K]]+=Le,pe&&W(I,ie,K),R(ie)===f&&(Le+=Ve+j(ie,K),Ne=F(Ne,B(ie,z,j(ie,z)))));var Ye=I.layout[y[z]];for(he||(Ye=F(B(I,z,Ne+fe),fe)),re=Me;re<be;++re)if(R(ie=I.children[re])===p&&L(ie,h[z]))ie.layout[g[z]]=N(ie,h[z])+E(I,z)+b(ie,z);else{var qe,Ke=le;if(R(ie)===f)if((qe=P(I,ie))===d)m(ie.layout[y[z]])&&(ie.layout[y[z]]=F(B(ie,z,Ye-fe-T(ie,z)),A(ie,z)));else if(qe!==c){var ze=Ye-fe-j(ie,z);Ke+=qe===u?ze/2:ze}ie.layout[g[z]]+=Ee+Ke,he&&W(I,ie,z)}Ee+=Ne,Ie=F(Ie,Le),Se+=1,_e=be}if(Se>1&&he){var Ze=I.layout[y[z]]-fe,Xe=Ze-Ee,Je=0,Qe=le,$e=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(I);$e===l?Qe+=Xe:$e===u?Qe+=Xe/2:$e===d&&Ze>Ee&&(Je=Xe/Se);var et=0;for(re=0;re<Se;++re){var tt=et,nt=0;for(ae=tt;ae<X;++ae)if(R(ie=I.children[ae])===f){if(ie.lineIndex!==re)break;m(ie.layout[y[z]])||(nt=F(nt,ie.layout[y[z]]+T(ie,z)))}for(et=ae,nt+=Je,ae=tt;ae<et;++ae)if(R(ie=I.children[ae])===f){var rt=P(I,ie);if(rt===c)ie.layout[g[z]]=Qe+b(ie,z);else if(rt===l)ie.layout[g[z]]=Qe+nt-O(ie,z)-ie.layout[y[z]];else if(rt===u){var at=ie.layout[y[z]];ie.layout[g[z]]=Qe+(nt-at)/2}else rt===d&&(ie.layout[g[z]]=Qe+b(ie,z))}Qe+=nt}}var it=!1,ot=!1;if(pe||(I.layout[y[K]]=F(B(I,K,Ie+C(I,K)),de),K!==r&&K!==i||(it=!0)),he||(I.layout[y[z]]=F(B(I,z,Ee+fe),fe),z!==r&&z!==i||(ot=!0)),it||ot)for(re=0;re<X;++re)ie=I.children[re],it&&W(I,ie,K),ot&&W(I,ie,z);for(ye=ge;null!==ye;){for(ae=0;ae<2;ae++)oe=0!==ae?n:a,!m(I.layout[y[oe]])&&!x(ye,oe)&&L(ye,h[oe])&&L(ye,v[oe])&&(ye.layout[y[oe]]=F(B(ye,oe,I.layout[y[oe]]-k(I,oe)-T(ye,oe)-N(ye,h[oe])-N(ye,v[oe])),A(ye,oe))),L(ye,v[oe])&&!L(ye,h[oe])&&(ye.layout[h[oe]]=I.layout[y[oe]]-ye.layout[y[oe]]-N(ye,v[oe]));ie=ye,ye=ye.nextAbsoluteChild,ie.nextAbsoluteChild=null}}function H(e,t,n){e.shouldUpdate=!0;var r=e.style.direction||"ltr";!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===r?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=r,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),G(e,t,n),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:G,computeLayout:H,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.default)(e);if(t){var a=Object(c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.default)(this,n)}}var m=function e(t,n){var r=!1;n.layoutBox=n.layoutBox||{},["left","top","width","height"].forEach((function(e){r=r||n.layoutBox[e]!==t.layout[e],n.layoutBox[e]=t.layout[e]})),n.shouldUpdate=n.shouldUpdate||r,t.children.forEach((function(t){var r=n.children[t.id];r&&e(t,r)}))},_=function e(t){var n=Promise.resolve();return t.isInserted?t.shouldUpdate&&(n=t.update()):n=t.insert(),n.then((function(){return Promise.all(Object.keys(t.children).map((function(n){var r=t.children[n];return e(r)})))}))},b=function e(t){t.isInserted?t.shouldUpdate&&t.update():t.insert(),Object.keys(t.children).map((function(n){var r=t.children[n];return e(r)}))},O=function(e){Object(o.default)(n,e);var t=y(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.style,o=a.name,s=a.auto,c=void 0===s||s;Object(r.default)(this,n),e=t.call(this,{style:i,id:0,name:o});var u=null;return e.auto=c,e.on("layout",(function(){e.auto&&(clearTimeout(u),u=setTimeout((function(){return e.layout()}),0))})),e.onebyone=!0,e}return Object(a.default)(n,[{key:"layout",value:function(){var e,t=this,n={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return e=n,g.fillNodes(e),g.computeLayout(e),m(n,this),this.onebyone?_(this).then((function(){return t.emit("update-done")})):(b(this),Promise.resolve().then((function(){return t.emit("update-done")})))}}]),n}(l.Element),E=new O({name:"webview-layout"});E.dest=0;var I=new O({name:"nativeview-layout",auto:!1});I.onebyone=!1,I.dest=1;var S=n(10);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.default)(e);if(t){var a=Object(c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.default)(this,n)}}var k=function(e){Object(o.default)(n,e);var t=C(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,i=e.style,o=e.src,s=void 0===o?"":o,c=e.name,u=void 0===c?"":c,l=e.autoInsert,d=void 0!==l&&l,f=e.eventType,p=e.bubbleEvent,h=e.clickState;return Object(r.default)(this,n),t.call(this,{id:a,style:i,props:{src:s},type:"image",name:u,autoInsert:d,eventType:f,bubbleEvent:p,clickState:h})}return Object(a.default)(n,[{key:"toNativeData",value:function(){return Object.assign(Object(i.default)(Object(c.default)(n.prototype),"toNativeData",this).call(this),{iconPath:Object(S.hideInnerRequest)(this.src)})}}]),n}(p),T=n(22),A=n(115),P=n(23),w=n(2),D=n(1),R=n(44),M={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},j=0,x={};D.default.onReady((function(){j=D.default.appType+1e3,x=D.default.appLaunchInfo}));var L={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92};function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.default)(e);if(t){var a=Object(c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.default)(this,n)}}var B={},F=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];w.IS_ANDROID&&F.push("onVideoFullScreenChange");var V=function(e,t,n){"ad"!==e.scene&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.component,n=e.eventName,r=e.eventData,a=e.src,i=void 0===a?"":a,o=Object(R._getCurrentNetworkType)(),s=wx&&wx.version&&wx.version.version||"",c=Object.keys(x.query||{}).map((function(e){return e+"="+x.query[e]})).join(",");c=encodeURIComponent(c);var u="";switch(n){case"onLoad":u=[r.duration,r.controls?2:1].join(";");break;case"onWaiting":u=[r.position,r.buffered].join(";");break;case"onError":u=r.errMsg.replace(","," ");break;case"onFullScreenChange":u=r.fullScreen?2:1;break;case"onTimeUpdate":u=[r.position,r.buffered].join(";");break;case"onImageLoad":u=[r.isLazyLoad?2:1,r.size,r.loadTime,r.width,r.height,r.originalWidth,r.originalHeight].join(";");break;case"onImageError":u=[r.isLazyLoad?2:1].join(";")}var l=[Math.round(Date.now()/1e3),x.scene,"",x.sessionid||x.sessionId,x.path,c,o,s,M[t],L[n],u,encodeURIComponent(i.substring(0,1024)).substring(0,1024),j].join(",");Reporter.reportKeyValue({key:"MediaCompStatus",value:l})}({component:"video",eventName:t,eventData:n,src:e.src})},W=function(e){Object(o.default)(n,e);var t=N(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.style,o=void 0===i?{}:i,s=a.name,c=a.x,u=void 0===c?0:c,l=a.y,d=void 0===l?0:l,f=a.width,p=void 0===f?300:f,h=a.height,v=void 0===h?200:h,g=a.hide,y=void 0!==g&&g,m=a.src,_=a.poster,b=a.referrerPolicy,O=void 0===b?"no-referrer":b,E=a.initialTime,I=void 0===E?0:E,S=a.playbackRate,C=void 0===S?1:S,k=a.live,P=void 0!==k&&k,w=a.objectFit,D=void 0===w?"contain":w,R=a.controls,M=void 0===R||R,j=a.showProgress,x=void 0===j||j,L=a.showProgressInControlMode,N=void 0===L?x:L,V=a.autoplay,W=void 0!==V&&V,U=a.muted,G=void 0!==U&&U,H=a.loop,Y=void 0!==H&&H,q=a.enableProgressGesture,K=void 0===q||q,z=a.enablePlayGesture,Z=void 0!==z&&z,X=a.showCenterPlayBtn,J=void 0===X||X,Q=a.autoInsert,$=void 0===Q||Q,ee=a.scene,te=void 0===ee?"default":ee,ne=a.preLoad,re=void 0!==ne&&ne,ae=a.obeyMuteSwitch,ie=void 0!==ae&&ae,oe=a.underGameView,se=void 0!==oe&&oe,ce=a.backgroundColor,ue=void 0===ce?"#000000":ce,le=a.zIndex;Object(r.default)(this,n),(e=t.call(this,{style:o,name:s})).isSrcChanged=!1,e.autoInsert=$,e.scene=te,e.preLoad=re,e.underGameView=se,e.zIndex=le,B[e.id]=Object(T.default)(e);var de=null;e.emitter=new A.default,e.deferred=[],e._buffered=0,e._position=0;var fe={x:u,y:d,width:p,height:v,hide:y,src:m,poster:_,initialTime:I,playbackRate:C,live:P,objectFit:D,controls:M,showProgress:x,showProgressInControlMode:N,backgroundColor:ue,autoplay:W,muted:G,loop:Y,enableProgressGesture:K,enablePlayGesture:Z,showCenterPlayBtn:J,obeyMuteSwitch:ie,referrerPolicy:O};return Object.keys(fe).forEach((function(t){Object.defineProperty(Object(T.default)(e),t,{configurable:!0,enumerable:!0,get:function(){return fe[t]},set:function(n){"src"!==t&&fe[t]===n||(fe[t]=n,e.isInserted?("src"===t&&(e.isSrcChanged=!0),"poster"===t&&(e.isPosterChanged=!0),"playbackRate"===t?e.operate("playbackRate",[n]):(clearTimeout(de),de=setTimeout((function(){return e.update()}),0))):e.deferred.push({type:"property",property:t,value:n}))}})})),F.forEach((function(t){var n=t.toLowerCase().replace("video","");e[n]=function(){},e.emitter.on(t,(function(t){e[n](t)}))})),e.autoInsert&&e.insert().then((function(){e.playbackRate&&1!==e.playbackRate&&e.operate("playbackRate",[e.playbackRate])})).then((function(){e.deferred.forEach((function(t){"property"===t.type?e[t.property]=t.value:e.operate(t.method,t.args)}))})),e}return Object(a.default)(n,[{key:"insert",value:function(){var e=this;if(!this.isInserted)return this.isInserted=!0,V(this,"onSrcSet",{}),new Promise((function(t,n){Object(u.invokeMethod)("insertVideoPlayer",Object.assign(e.toNativeData(),{data:JSON.stringify({id:e.id}),filePath:Object(S.hideInnerRequest)(e.src),scene:e.scene,preLoad:e.preLoad,underGameView:e.underGameView,referrerPolicy:e.referrerPolicy,zIndex:e.zIndex,success:function(n){e.emit("ready"),t(n)},fail:n}))}))}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,n){w.IS_IOS?setTimeout((function(){Object(u.invokeMethod)("removeVideoPlayer",{videoPlayerId:e.id,success:t,fail:n})}),0):Object(u.invokeMethod)("removeVideoPlayer",{videoPlayerId:e.id,success:t,fail:n}),F.forEach((function(t){var n=t.replace("Video","").replace("on","off");"function"==typeof e[n]&&e[n]()})),delete B[e.id]}))}},{key:"toNativeData",value:function(){this.layoutBox;var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,customCache:!1,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy};return this.isSrcChanged&&(t.filePath=Object(S.hideInnerRequest)(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=Object(S.hideInnerRequest)(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}},{key:"update",value:function(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&V(this,"onSrcSet",{}),new Promise((function(t,n){Object(u.invokeMethod)("updateVideoPlayer",Object.assign({},e,{success:t,fail:n}))}))}},{key:"operate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(e+" can't be invoked when video is hidden")):new Promise((function(r,a){Object(u.invokeMethod)("operateVideoPlayer",{videoPlayerId:t.id,type:e,data:n,success:r,fail:a})}));this.deferred.push({type:"method",method:e,args:n})}},{key:"play",value:function(){return this.operate("play")}},{key:"pause",value:function(){return this.operate("pause")}},{key:"stop",value:function(){return this.operate("stop")}},{key:"seek",value:function(e){return this.operate("seek",[e])}},{key:"requestFullScreen",value:function(e){return this.operate("requestFullScreen",[e])}},{key:"exitFullScreen",value:function(){return this.operate("exitFullScreen")}}]),n}(l.Element);F.forEach((function(e){var t=e.replace("Video","");W.prototype[t]=function(t){this.emitter.on(e,t)};var n=t.replace("on","off");W.prototype[n]=function(t){this.emitter.off(e,t)}})),F.forEach((function(e){Object(P.onNativeEvent)(e,(function(t){var n=t.videoPlayerId||JSON.parse(t.data).id,r=B[n];if(r)if(r.emitter.emit(e,t),"onVideoProgress"!==e){var a=t;"onVideoTimeUpdate"===e?(r._position=t.position,a={position:t.position,buffered:r._buffered}):"onVideoWaiting"===e&&(a={position:r._position,buffered:r._buffered}),V(r,e.replace("Video",""),a)}else r._buffered=t.buffered}))}));var U=n(35),G=n(46),H=n(25),Y=n(28),q=[],K={add:function(e){e&&q.indexOf(e)<0&&q.push(e)},remove:function(e){var t=q.indexOf(e);t>=0&&q.splice(t,1)},get size(){return q.length}},z=n(124),Z=n(67),X=new WeakMap,J=new WeakMap,Q=new WeakMap,$={},ee={},te={},ne=new WeakMap,re=new WeakMap,ae=0,ie={};function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:++ae;return te[e]?(ie[e]||(ie[e]=[]),ie[e].push({id:n,callback:t})):(te[e]=n,t()),n}function se(e,t){if(te[e]===t&&(delete te[e],ie[e]&&ie[e].length)){var n=ie[e].shift(),r=n.id;oe(e,n.callback,r)}}if(!z.wxSAB.new){var ce=0;Object.assign(z.wxSAB,{new:function(e){var t=++ce;return ee[t]=e,Object.keys($).forEach((function(n){var r=X.get($[n]);__safeway__.worker.postMsgToWorker(r,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:t},!1)})),t},get:function(e){return ee[e]},destroy:function(e){delete ee[e]},Lock:oe,Unlock:se})}__safeway__.worker.onWorkerMsg((function(e,t){var n=$[e],r=J.get(n),a=re.get(n);if(t.__log__&&t.logs)(i=t).__isNativeConsole__?(o=wxNativeConsole)[i.level].apply(o,Object(Y.default)(i.logs)):(s=console)[i.level].apply(s,Object(Y.default)(i.logs));else{var i,o,s;if("setSharedBuffer"===t.__cmd__)return ee[t.__id__]=t.__buffer__,void Object.keys($).forEach((function(n){var r=X.get($[n]);r!==e&&__safeway__.worker.postMsgToWorker(r,t,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if(n&&"function"==typeof r)if(a&&a.useWKWorker){if("requireScriptSuccess"===t.__cmd__){var c=ne.get(n);return void(c&&c.evaluateWorkerScriptPromiseResolve&&c.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void Z._fs.readFile({filePath:t.filePath,success:function(n){var r=n.data;return __safeway__.worker.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode.apply(String,Object(Y.default)(new Uint16Array(r)))})},fail:function(n){var r=n.errMsg;return __safeway__.worker.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:r})}});r(t.data)}else r(Object(z.unpackSharedArrayBuffer)(t))}else se(t.__sid__,t.__lid__);else oe(t.__sid__,(function(){return n.postMessage(t)}),t.__lid__)}}));Object(u.onMethod)("onWorkerWebViewTerminate",(function(){Object.keys($).forEach((function(e){var t=$[e],n=re.get(t);if(n&&n.useWKWorker){var r=Q.get(t);K.remove(t),X.delete(t),J.delete(t),ne.delete(t),Q.delete(t),re.delete(t),delete $[e],"function"==typeof r&&__errorTracer__.surroundThirdByTryCatch(r,"at Worker.onProcessKilled callback function")(),Reporter.reportIDKey({key:"onWorkerWebViewTerminate"})}}))}));function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.default)(e);if(t){var a=Object(c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.default)(this,n)}}var le=new U.default,de={},fe=function(e){Object(o.default)(n,e);var t=ue(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.style,o=a.name,s=a.x,c=void 0===s?0:s,l=a.y,d=void 0===l?0:l,f=a.width,p=void 0===f?300:f,h=a.height,v=void 0===h?200:h,g=a.devicePosition,y=void 0===g?"back":g,m=a.flash,_=void 0===m?"auto":m,b=a.size,O=void 0===b?"small":b,E=a.autoInsert,I=void 0===E||E,S=a.success,C=a.fail,k=a.complete;Object(r.default)(this,n),(e=t.call(this,{style:i,name:o})).size=O,de[e.id]=Object(T.default)(e);var A=null;e.deferred=[];var P={x:c,y:d,width:p,height:v,devicePosition:y,flash:_};Object.keys(P).forEach((function(t){Object.defineProperty(Object(T.default)(e),t,{configurable:!0,enumerable:!0,get:function(){return P[t]},set:function(n){if(P[t]!==n){if(P[t]=n,!e.isInserted)return e.deferred.push({type:"property",property:t,value:n}),n;clearTimeout(A),A=setTimeout((function(){return e.update()}),0)}}})})),le.on("onInit",(function(){var t=e.deferred;e.isInserted=!0,e.deferred=[],t.forEach((function(t){"property"===t.type?e[t.property]=t.value:e.operate(t.method,t.args)}))}));var w={success:S,fail:C,complete:k};return I&&e.insert().then((function(t){e.frameWidth=t.width,e.frameHeight=t.height,Object(u.beforeInvokeCallback)({name:"createCamera",args:w})})).catch((function(){Object(u.beforeInvokeFail)("createCamera",w)})),e}return Object(a.default)(n,[{key:"insert",value:function(){var e=this;if(!this.isInserted)return new Promise((function(t,n){Object(u.invokeMethod)("insertCamera",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"update",value:function(){var e=this;return new Promise((function(t,n){Object(u.invokeMethod)("updateCamera",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"operate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isInserted?new Promise((function(r,a){Object(u.invokeMethod)("operateCamera",Object.assign(n,{cameraId:t.id,type:e,fail:a,success:function(n){if(r(n),"listenFrameChange"===e){if(!G.default)throw new Error("device not supported");n.data=G.default.get(n.bufferId),n.data.__proto__=ArrayBuffer.prototype,t._frame=n}}}))})):(this.deferred.push({type:"method",method:e,args:n}),Promise.resolve({}))}},{key:"toNativeData",value:function(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={cameraId:this.id,position:e,devicePosition:this.devicePosition,flash:this.flash,size:this.size};return this.autoInsert||(t.parentId=this.parentId),t}},{key:"takePhoto",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";return this.operate("takePhoto",{quality:e})}},{key:"startRecord",value:function(){return this.operate("startRecord")}},{key:"stopRecord",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.operate("stopRecord",{compressed:e})}},{key:"onAuthCancel",value:function(e){le.on("onAuthCancel",e)}},{key:"onStop",value:function(e){le.on("onStop",e)}},{key:"onCameraFrame",value:function(e){var t=this;"function"==typeof e&&le.on("onCameraFrame",(function(){t._frame&&e({data:t._frame.data,width:t._frame.width,height:t._frame.height})}))}},{key:"listenFrameChange",value:function(e){var t=e?function(e){if(e._id>=0&&$[e._id])return e._id}(e):void 0,n={size:this.size};return void 0!==t&&Object(H.checkPermissionSync)("listenFrameChangeInWorker")?(n.workerId=t,this.operate("listenFrameChange",n)):this.operate("listenFrameChange",n)}},{key:"closeFrameChange",value:function(){return this._frame=null,this.operate("closeFrameChange")}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,n){delete de[e.id],le.removeAllListeners("onInit"),le.removeAllListeners("onAuthCancel"),le.removeAllListeners("onStop"),le.removeAllListeners("onCameraFrame"),Object(u.invokeMethod)("removeCamera",{cameraId:e.id,success:t,fail:n})}))}}]),n}(l.Element);Object(P.onNativeEvent)("onCameraInitDone",(function(){return le.emit("onInit")})),Object(P.onNativeEvent)("onCameraNeedAuthCancel",(function(){return le.emit("onAuthCancel")})),Object(P.onNativeEvent)("onCameraStop",(function(){return le.emit("onStop")})),Object(P.onNativeEvent)("onCameraFrame",(function(){return le.emit("onCameraFrame")}));var pe=n(55);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.default)(e);if(t){var a=Object(c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.default)(this,n)}}var ve={},ge=new pe.Emitter("LivePlayer",!0),ye=function(e){Object(o.default)(n,e);var t=he(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.style,o=a.name,s=a.x,c=void 0===s?0:s,l=a.y,d=void 0===l?0:l,f=a.width,p=void 0===f?300:f,h=a.height,v=void 0===h?200:h,g=a.src,y=a.mode,m=void 0===y?"live":y,_=a.autoplay,b=void 0!==_&&_,O=a.muted,E=void 0!==O&&O,I=a.orientation,S=void 0===I?"vertical":I,C=a.objectFit,k=void 0===C?"contain":C,A=a.minCache,P=void 0===A?1:A,w=a.maxCache,D=void 0===w?3:w,R=a.soundMode,M=void 0===R?"speaker":R,j=a.autoPauseIfOpenNative,x=void 0===j||j,L=a.autoInsert,N=void 0===L||L,B=a.success,F=a.fail,V=a.complete;Object(r.default)(this,n),e=t.call(this,{style:i,name:o}),ve[e.id]=Object(T.default)(e);var W=null;e.deferred=[];var U={x:c,y:d,width:p,height:v,src:g,mode:m,autoplay:b,muted:E,orientation:S,objectFit:k,minCache:P,maxCache:D,soundMode:M,autoPauseIfOpenNative:x};Object.keys(U).forEach((function(t){Object.defineProperty(Object(T.default)(e),t,{enumerable:!0,get:function(){return U[t]},set:function(n){if(U[t]!==n){if(U[t]=n,!e.isInserted)return e.deferred.push({type:"property",property:t,value:n}),n;clearTimeout(W),W=setTimeout((function(){return e.update()}),0)}}})}));var G={success:B,fail:F,complete:V};return N&&e.insert().then((function(){var t=e.deferred;e.isInserted=!0,e.deferred=[],t.forEach((function(t){"property"===t.type?e[t.property]=t.value:e.operate(t.method,t.args)})),Object(u.beforeInvokeCallback)({name:"createLivePlayer",args:G})})).catch((function(e){var t=(e.errMsg||"").replace(/^\w+:fail\s*/,"");Object(u.beforeInvokeFail)("createLivePlayer",G,t)})),e}return Object(a.default)(n,[{key:"insert",value:function(){var e=this;if(!this.isInserted)return new Promise((function(t,n){Object(u.invokeMethod)("insertLivePlayer",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"update",value:function(){var e=this;return new Promise((function(t,n){Object(u.invokeMethod)("updateLivePlayer",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"operate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.isInserted?new Promise((function(r,a){Object(u.invokeMethod)("operateLivePlayer",{livePlayerId:t.id,type:e,data:n,quality:n.quality,fail:a,success:r})})):(this.deferred.push({type:"method",method:e,args:n}),Promise.resolve({}))}},{key:"toNativeData",value:function(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={livePlayerId:this.id,position:e,playUrl:this.src,mode:"live"===this.mode?1:2,autoplay:this.autoplay,muted:this.muted,orientation:this.orientation,objectFit:this.objectFit,minCache:this.minCache,maxCache:this.maxCache,soundMode:this.soundMode,autoPauseIfOpenNative:this.autoPauseIfOpenNative,needEvent:!0,needNetStatus:!0,needAudioVolume:!0};return this.autoInsert||(t.parentId=this.parentId),t}},{key:"play",value:function(){return this.operate("play")}},{key:"stop",value:function(){return this.operate("stop")}},{key:"pause",value:function(){return this.operate("pause")}},{key:"resume",value:function(){return this.operate("resume")}},{key:"mute",value:function(){return this.operate("mute")}},{key:"requestFullScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.operate("requestFullScreen",[e])}},{key:"exitFullScreen",value:function(){return this.operate("exitFullScreen")}},{key:"snapshot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"raw";return this.operate("snapshot",{quality:e})}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,n){delete ve[e.id],ge.off("state-"+e.id),ge.off("fs-"+e.id),ge.off("net-"+e.id),ge.off("audio-"+e.id),Object(u.invokeMethod)("removeLivePlayer",{livePlayerId:e.id,success:t,fail:n})}))}},{key:"onStateChange",value:function(e){ge.on("state-"+this.id,e)}},{key:"offStateChange",value:function(e){ge.off("state-"+this.id,e)}},{key:"onFullScreenChange",value:function(e){ge.on("fs-"+this.id,e)}},{key:"offFullScreenChange",value:function(e){ge.off("fs-"+this.id,e)}},{key:"onNetStatus",value:function(e){ge.on("net-"+this.id,e)}},{key:"offNetStatus",value:function(e){ge.off("net-"+this.id,e)}},{key:"onAudioVolumeNotify",value:function(e){ge.on("audio-"+this.id,e)}},{key:"offAudioVolumeNotify",value:function(e){ge.off("audio-"+this.id,e)}}]),n}(l.Element),me=function(e,t){return Object(P.onNativeEvent)(e,(function(e){return t(e||{})}))};function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.default)(e);if(t){var a=Object(c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.default)(this,n)}}me("onLivePlayerEvent",(function(e){var t=e.livePlayerId,n=e.errCode,r=e.errMsg;ge.emit("state-"+t,{code:n,message:r})})),me("onLivePlayerFullScreenChange",(function(e){var t=e.livePlayerId,n=e.fullScreen,r=e.direction;ge.emit("fs-"+t,{fullScreen:n,direction:r})})),me("onLivePlayerNetStatus",(function(e){var t=e.livePlayerId,n=e.info;n&&ge.emit("net-"+t,{videoBitrate:n.VIDEO_BITRATE,audioBitrate:n.AUDIO_BITRATE,videoFPS:n.VIDEO_FPS,videoGOP:n.VIDEO_GOP,netSpeed:n.NET_SPEED,netQualityLevel:n.NET_QUALITY_LEVEL,netJitter:n.NET_JITTER,videoWidth:n.VIDEO_WIDTH,videoHeight:n.VIDEO_HEIGHT})})),me("onLivePlayerAudioVolume",(function(e){var t=e.livePlayerId,n=e.volume;ge.emit("audio-"+t,{volume:n})}));var be={},Oe=new pe.Emitter("LivePusher",!0);function Ee(e){switch(e){case"SD":return 1;case"HD":return 2;case"FHD":return 3;default:return 6}}function Ie(e){switch(e){case"3:14":return 1;default:return 2}}var Se=function(e){Object(o.default)(n,e);var t=_e(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.style,o=a.name,s=a.x,c=void 0===s?0:s,l=a.y,d=void 0===l?0:l,f=a.width,p=void 0===f?300:f,h=a.height,v=void 0===h?200:h,g=a.url,y=a.mode,m=void 0===y?"RTC":y,_=a.autopush,b=void 0!==_&&_,O=a.muted,E=void 0!==O&&O,I=a.enableCamera,S=void 0===I||I,C=a.autoFocus,k=void 0===C||C,A=a.orientation,P=void 0===A?"vertical":A,w=a.beauty,D=void 0===w?0:w,R=a.whiteness,M=void 0===R?0:R,j=a.aspect,x=void 0===j?"9:16":j,L=a.minBitrate,N=void 0===L?200:L,B=a.maxBitrate,F=void 0===B?1e3:B,V=a.audioQuality,W=void 0===V?"high":V,U=a.waitingImage,G=a.waitingImageHash,H=a.zoom,Y=void 0!==H&&H,q=a.devicePosition,K=void 0===q?"front":q,z=a.remoteMirror,Z=void 0!==z&&z,X=a.localMirror,J=void 0===X?"auto":X,Q=a.audioReverbType,$=void 0===Q?0:Q,ee=a.enableMic,te=void 0===ee||ee,ne=a.enableAgc,re=void 0!==ne&&ne,ae=a.enableAns,ie=void 0!==ae&&ae,oe=a.audioVolumeType,se=void 0===oe?"voicecall":oe,ce=a.videoWidth,ue=void 0===ce?360:ce,le=a.videoHeight,de=void 0===le?640:le,fe=a.autoInsert,pe=void 0===fe||fe,he=a.success,ve=a.fail,ge=a.complete;Object(r.default)(this,n),e=t.call(this,{style:i,name:o}),be[e.id]=Object(T.default)(e);var ye=null;e.deferred=[];var me={x:c,y:d,width:p,height:v,url:g,mode:m,autopush:b,muted:E,enableCamera:S,autoFocus:k,orientation:P,beauty:D,whiteness:M,aspect:x,minBitrate:N,maxBitrate:F,audioQuality:W,waitingImage:U,waitingImageHash:G,zoom:Y,devicePosition:K,remoteMirror:Z,localMirror:J,audioReverbType:$,enableMic:te,enableAgc:re,enableAns:ie,audioVolumeType:se,videoWidth:ue,videoHeight:de};Object.keys(me).forEach((function(t){Object.defineProperty(Object(T.default)(e),t,{enumerable:!0,get:function(){return me[t]},set:function(n){if(me[t]!==n){if(me[t]=n,!e.isInserted)return e.deferred.push({type:"property",property:t,value:n}),n;clearTimeout(ye),ye=setTimeout((function(){return e.update()}),0)}}})}));var _e={success:he,fail:ve,complete:ge};return pe&&e.insert().then((function(){var t=e.deferred;e.isInserted=!0,e.deferred=[],t.forEach((function(t){"property"===t.type?e[t.property]=t.value:e.operate(t.method,t.args)})),Object(u.beforeInvokeCallback)({name:"createLivePusher",args:_e})})).catch((function(e){var t=(e.errMsg||"").replace(/^\w+:fail\s*/,"");Object(u.beforeInvokeFail)("createLivePusher",_e,t)})),e}return Object(a.default)(n,[{key:"insert",value:function(){var e=this;if(!this.isInserted)return new Promise((function(t,n){Object(u.invokeMethod)("insertLivePusher",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"update",value:function(){var e=this;return new Promise((function(t,n){Object(u.invokeMethod)("updateLivePusher",Object.assign(e.toNativeData(),{success:t,fail:n}))}))}},{key:"operate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isInserted?new Promise((function(r,a){Object(u.invokeMethod)("operateLivePusher",{livePusherId:t.id,type:e,url:n.url,volume:n.volume,quality:n.quality,fail:a,success:r})})):(this.deferred.push({type:"method",method:e,args:n}),Promise.resolve({}))}},{key:"toNativeData",value:function(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={livePusherId:this.id,position:e,pushUrl:this.url,mode:Ee(this.mode),autopush:this.autopush,muted:this.muted,enableCamera:this.enableCamera,focusMode:this.autoFocus?0:1,orientation:this.orientation,beauty:this.beauty,whiteness:this.whiteness,aspect:Ie(this.aspect),minBitrate:this.minBitrate,maxBitrate:this.maxBitrate,backgroundImage:this.waitingImage,backgroundMD5:this.waitingImageHash,zoom:this.zoom,devicePosition:this.devicePosition,remoteMirror:this.remoteMirror,localMirror:this.localMirror,enableMic:this.enableMic,enableAGC:this.enableAgc,enableANS:this.enableAns,audioVolumeType:this.audioVolumeType,audioReverbType:this.audioReverbType,videoWidth:this.videoWidth,videoHeight:this.videoHeight,needEvent:!0,needNetStatus:!0};return this.autoInsert||(t.parentId=this.parentId),t}},{key:"start",value:function(){return this.operate("start")}},{key:"stop",value:function(){return this.operate("stop")}},{key:"pause",value:function(){return this.operate("pause")}},{key:"resume",value:function(){return this.operate("resume")}},{key:"playBGM",value:function(e){return this.operate("playBGM",{url:e})}},{key:"stopBGM",value:function(){return this.operate("stopBGM")}},{key:"pauseBGM",value:function(){return this.operate("pauseBGM")}},{key:"resumeBGM",value:function(){return this.operate("resumeBGM")}},{key:"setBGMVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.operate("setBGMVolume",{volume:e})}},{key:"setMICVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.operate("setMICVolume",{volume:e})}},{key:"startPreview",value:function(){return this.operate("startPreview")}},{key:"stopPreview",value:function(){return this.operate("stopPreview")}},{key:"snapshot",value:function(e){return this.operate("snapshot",{quality:e})}},{key:"switchCamera",value:function(){return this.operate("switchCamera")}},{key:"toggleTorch",value:function(){return this.operate("toggleTorch")}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,n){delete be[e.id],Oe.off("state-"+e.id),Oe.off("net-"+e.id),Oe.off("start-"+e.id),Oe.off("progress-"+e.id),Oe.off("complete-"+e.id),Oe.off("error-"+e.id),Object(u.invokeMethod)("removeLivePusher",{livePusherId:e.id,success:t,fail:n})}))}},{key:"onStateChange",value:function(e){Oe.on("state-"+this.id,e)}},{key:"offStateChange",value:function(e){Oe.off("state-"+this.id,e)}},{key:"onNetStatus",value:function(e){Oe.on("net-"+this.id,e)}},{key:"offNetStatus",value:function(e){Oe.off("net-"+this.id,e)}},{key:"onBGMStart",value:function(e){Oe.on("start-"+this.id,e)}},{key:"offBGMStart",value:function(e){Oe.off("start-"+this.id,e)}},{key:"onBGMProgress",value:function(e){Oe.on("progress-"+this.id,e)}},{key:"offBGMProgress",value:function(e){Oe.off("progress-"+this.id,e)}},{key:"onBGMComplete",value:function(e){Oe.on("complete-"+this.id,e)}},{key:"offBGMComplete",value:function(e){Oe.off("complete-"+this.id,e)}},{key:"onError",value:function(e){Oe.on("error-"+this.id,e)}},{key:"offError",value:function(e){Oe.off("error-"+this.id,e)}}]),n}(l.Element),Ce=function(e,t){return Object(P.onNativeEvent)(e,(function(e){return t(e||{})}))};Ce("onLivePusherEvent",(function(e){var t=e.livePusherId,n=e.errCode,r=e.errMsg;Oe.emit("state-"+t,{code:n,message:r})})),Ce("onLivePusherNetStatus",(function(e){var t=e.livePusherId,n=e.info;n&&Oe.emit("net-"+t,{videoBitrate:n.VIDEO_BITRATE,audioBitrate:n.AUDIO_BITRATE,videoFPS:n.VIDEO_FPS,videoGOP:n.VIDEO_GOP,netSpeed:n.NET_SPEED,netQualityLevel:n.NET_QUALITY_LEVEL,netJitter:n.NET_JITTER,videoWidth:n.VIDEO_WIDTH,videoHeight:n.VIDEO_HEIGHT})})),Ce("onLivePusherBGMStart",(function(e){var t=e.livePusherId;Oe.emit("start-"+t)})),Ce("onLivePusherBGMProgress",(function(e){var t=e.livePusherId,n=e.progress,r=e.duration;Oe.emit("progress-"+t,{progress:n,duration:r})})),Ce("onLivePusherBGMComplete",(function(e){var t=e.livePusherId,n=e.errCode;Oe.emit("complete-"+t,{errCode:n})})),Ce("onLivePusherError",(function(e){var t=e.livePusherId,n=e.errCode,r=e.errMsg,a=e.data;Oe.emit("error-"+t,{errCode:n,errMsg:r,data:a})}));var ke=n(72);function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.default)(e);if(t){var a=Object(c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.default)(this,n)}}var Ae={},Pe=function(e){Object(o.default)(n,e);var t=Te(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.style,o=void 0===i?{}:i,s=a.name,c=a.x,u=void 0===c?0:c,l=a.y,d=void 0===l?0:l,f=a.width,p=void 0===f?300:f,h=a.height,v=void 0===h?200:h,g=a.url,y=void 0===g?"":g,m=a.urls,_=void 0===m?[]:m,b=a.scale,O=void 0===b?1:b,E=a.autoInsert,I=void 0===E||E,S=a.hide,C=void 0!==S&&S,k=a.zIndex,A=void 0===k?0:k;if(Object(r.default)(this,n),(e=t.call(this,{style:o,name:s})).x=u,e.y=d,e.width=p,e.height=v,e.scale=+O,e.hide=C,e.autoInsert=I,e.url=y,e.zIndex=A,e.emitter=new pe.Emitter("ImagePreviewer",!0),Ae[e.id]=Object(T.default)(e),"string"==typeof _)try{e.urls=JSON.parse(_)}catch(t){e.urls=[]}else e.urls=_;return e._insertPromise=new Promise((function(t,n){e._insertPromiseResolve=t,e._insertPromiseReject=n})),e}return Object(a.default)(n,[{key:"insert",value:function(){var e=this;return this.toNativeData(),Object(u.invokeMethod)("insertImagePreviewer",Object.assign(this.toNativeData(),{success:function(t){e._insertPromiseResolve(t)},fail:function(t){e._insertPromiseReject(t)}})),this._insertPromise}},{key:"update",value:function(){var e=this;return new Promise((function(t,n){e._insertPromise.then((function(){e.toNativeData(),Object(u.invokeMethod)("updateImagePreviewer",Object.assign(e.toNativeData(),{success:function(e){t(e)},fail:function(e){n(e)}}))})).catch(n)}))}},{key:"destroy",value:function(){var e=this;return this.id,new Promise((function(t,n){setTimeout((function(){Object(u.invokeMethod)("removeImagePreviewer",{viewId:e.id,success:t,fail:n}),e.offImageLoadFail(),delete Ae[e.id]}),0)}))}},{key:"toNativeData",value:function(){this.layoutBox;var e={position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId};return this.parentId,e}},{key:"onImageLoadFail",value:function(e){this.emitter.on("onImageLoadFail",e)}},{key:"offImageLoadFail",value:function(e){this.emitter.off("onImageLoadFail",e)}}]),n}(l.Element);Object(P.onNativeEvent)("onImagePreviewerLoadFail",(function(e){Ae[e.viewId].emitter.emit("onImageLoadFail",e)}))},function(e,t,n){n.r(t),n.d(t,"checkPermissionSync",(function(){return c}));var r=n(0),a=n(4),i=n(1),o={requestVirtualPayment:285,setCookies:502,getCookies:503,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,authShareRelationship:852,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,addPhoneCalendar:912,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,plugin_launchApplicationDirectly_operateDirectly:1009,privateSearchContacts:1024,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021},s={};i.default.onReady((function(){var e=Object.keys(o).map((function(e){return o[e]}));Object(r.invokeMethod)("getPermissionBytes",{indexes:e,success:function(t){if(t.permissionBytes)for(var n=0;n<t.permissionBytes.length;n++){var r=e[n];s[r]=1===t.permissionBytes[n]}},fail:function(e){}})}));var c=function(e){var t=o[e];if("number"!=typeof t)return!1;if(!Object(a.isUndefined)(s[t]))return s[t];var n=!1;return Object(r.invokeMethod)("getPermissionBytes",{indexes:[t],success:function(e){e.permissionBytes&&(n=1===e.permissionBytes[0],s[t]=n)}}),n}},function(e,t,n){n.r(t),n.d(t,"publish",(function(){return d.publish})),n.d(t,"subscribe",(function(){return d.subscribe})),n.d(t,"getSurroundedCallbacks",(function(){return d.getSurroundedCallbacks})),n.d(t,"callbackInvoke",(function(){return d.callbackInvoke})),n.d(t,"mainInvokeMethod",(function(){return d.mainInvokeMethod})),n.d(t,"invokeMethod",(function(){return d.invokeMethod})),n.d(t,"invokeMethodAsync",(function(){return d.invokeMethodAsync})),n.d(t,"invokeMethodWithPlugin",(function(){return d.invokeMethodWithPlugin})),n.d(t,"_invokeMethod",(function(){return d._invokeMethod})),n.d(t,"onMethod",(function(){return d.onMethod})),n.d(t,"beforeInvoke",(function(){return d.beforeInvoke})),n.d(t,"beforeInvokePromise",(function(){return d.beforeInvokePromise})),n.d(t,"beforeInvokeFail",(function(){return d.beforeInvokeFail})),n.d(t,"beforeInvokeComplete",(function(){return d.beforeInvokeComplete})),n.d(t,"beforeInvokeCallback",(function(){return d.beforeInvokeCallback})),n.d(t,"invoke",(function(){return d.invoke})),n.d(t,"on",(function(){return d.on})),n.d(t,"baseOperateWXData",(function(){return d.baseOperateWXData})),n.d(t,"operateWXDataFactory",(function(){return f.default})),n.d(t,"noop",(function(){return p})),n.d(t,"checkUrlInConfig",(function(){return h})),n.d(t,"setWxInterfaceDisabled",(function(){return g})),n.d(t,"checkWxInterfacePermission",(function(){return y})),n.d(t,"checkWxInterfaceSupported",(function(){return m})),n.d(t,"setWxInterfaceIsInvokeInTap",(function(){return b})),n.d(t,"unsetWxInterfaceIsInvokeInTap",(function(){return O})),n.d(t,"wrappedByCheckPermissionInTap",(function(){return S}));var r=n(13),a=n(9),i=n(2),o=n(79),s={sample:{invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,openBluetoothAdapter:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,offGetWifiList:null,offWifiConnected:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null},ui:{invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,openBluetoothAdapter:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,offGetWifiList:10,offWifiConnected:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onThemeChange:10,offThemeChange:10,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10},log:{invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,openBluetoothAdapter:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,offGetWifiList:3,offWifiConnected:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1},tap:{invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:0,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,openBluetoothAdapter:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,offGetWifiList:0,offWifiConnected:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:40,openChannelsActivity:40,openChannelsUserProfile:40,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40},singlePage:{invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,offGetWifiList:0,offWifiConnected:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10},thirdApp:{invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,offGetWifiList:10,offWifiConnected:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10}},c=function(e,t){return s[t][e]},u=n(1),l=n(10),d=n(0),f=n(21);function p(){}function h(e,t,n){var r=t.replace(/\.html\?.*|\.html$/,"");return!!__appServiceEngine__.hasPageRoute(r)||(Object(d.beforeInvokeFail)(e,n,'page "'+Object(a.removeHtmlSuffixFromUrl)(t)+'" is not found'),!1)}var v=!1;function g(e){v=!!e.state,e.success&&e.success({state:v})}function y(e,t){m(e);var n=c(e,"ui");if(n>0&&v)return!1;if(n>=20)if("undefined"==typeof __appServiceEngine__){if(t)return!1}else{var r=__appServiceEngine__.getCurrentRoute()||"";if(/^\/?__wx__\//.test(r))return!1;var a=r.match(/(?:^|\/)__plugin__\/(.*?)\//);if((a?a[1]:"")!==t&&n>=30)return!1}var i=c(e,"singlePage");return!((!i||1===i)&&Object(l.isSinglePageMode)())||(1===i&&I()&&Object(d.invokeMethod)("showToast",{icon:"",title:"请前往小程序使用完整服务",duration:2500}),!1)}function m(e){var t=c(e,"thirdApp");return 0!==t&&1!==t||!Object(l.isIn3rdApp)()||1===t&&I()&&Object(d.invokeMethod)("showToast",{icon:"",title:"暂不支持当前功能",duration:2500}),!0}var _=!1;function b(e){_="tap"===e}function O(){setTimeout((function(){_=!1}),0)}function E(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(4===u.default.appType)return b("tap"),e.apply(t,r),void O();__virtualDOM__.wrapTapMark((function(){e.apply(t,r)}))}}function I(){return 4===u.default.appType?_:_||__virtualDOM__.checkTapMark()}function S(e,t){return function(n){var a=this,s=c(e,"tap"),f=I(),p=n;if(10!==s||f||(Object(o.reportRecycledAPI)({name:e,scene:0,strategy:1}),!i.IS_DEVTOOLS&&Object(l.checkAPIAvailable)(e))){if((20===s&&f||30===s)&&("function"==typeof n?p=E.call(this,n):"object"===Object(r.default)(n)&&(p=Object.assign({},n),["success","fail","complete"].forEach((function(e){"function"==typeof p[e]&&(p[e]=E.call(a,p[e]))})))),40!==s||4===u.default.appType||f){for(var h=arguments.length,v=new Array(h>1?h-1:0),g=1;g<h;g++)v[g-1]=arguments[g];var y=t.apply(this,[p].concat(v));return 4===u.default.appType&&[10,30,40].includes(s)&&O(),y}n&&(n.fail||n.complete)&&setTimeout((function(){Object(d.beforeInvokeFail)(e,n,"can only be invoked by user TAP gesture.")}),0)}else n&&(n.fail||n.complete)&&setTimeout((function(){Object(d.beforeInvokeFail)(e,n,"can only be invoked by user TAP gesture.")}),0)}}},function(e,t,n){n.r(t),n.d(t,"contain",(function(){return a})),n.d(t,"timeout",(function(){return i})),n.d(t,"logReport",(function(){return o})),n.d(t,"log",(function(){return s})),n.d(t,"truncate",(function(){return c})),n.d(t,"splitLineToCamelCase",(function(){return u})),n.d(t,"filterUndefined",(function(){return d})),n.d(t,"hex",(function(){return f})),n.d(t,"promisify",(function(){return l})),n.d(t,"throttle",(function(){return p}));var r=n(13),a=function(e){var t,n,r,a=e.outer,i=void 0===a?{width:0,height:0}:a,o=e.inner,s=void 0===o?{width:0,height:0}:o,c=e.maxScale,u=void 0===c?1e3:c,l=e.minScale,d=void 0===l?0:l,f=e.side,p=i.width/i.height,h=s.width/s.height,v=i.width/s.width,g=i.height/s.height,y=p>h?g:v;return"width"===f?y=v:"height"===f&&(y=g),t=y,n=d,r=u,y=Math.min(Math.max(n,t),r),s.width*=y,s.height*=y,i.width=Math.max(i.width,s.width),i.height=Math.max(i.height,s.height),{scale:y,outer:i,inner:s}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){setTimeout(t,e)}))},o=function(){},s=function(){},c=function(e,t){for(var n="",r=0,a=0;a<e.length;a++){if((r+=/[\u4e00-\u9fa5]/.test(e[a])?2:1)>t){n+="...";break}n+=e[a]}return n},u=function(e){return e.split("-").map((function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)})).join("")},l=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,r){e(Object.assign(t,{success:n,fail:r}))}))}},d=function e(t){return Object.keys(t).reduce((function(n,a){var i=t[a],o=Object(r.default)(i);return"object"===o&&null!==i?n[a]=e(i):"undefined"!==o&&(n[a]=t[a]),n}),{})},f=function(e){var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map((function(e,t){return e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e})).join(""):"#00000000":e},p=function(e,t,n){var r,a,i,o=null,s=0;n||(n={});var c=function(){s=!1===n.leading?0:Date.now(),o=null,i=e.apply(r,a),o||(r=a=null)};return function(){var u=Date.now();s||!1!==n.leading||(s=u);var l=t-(u-s);return r=this,a=arguments,l<=0||l>t?(clearTimeout(o),o=null,s=u,i=e.apply(r,a),o||(r=a=null)):o||!1===n.trailing||(o=setTimeout(c,l)),i}}},function(e,t,n){n.r(t),n.d(t,"default",(function(){return o}));var r=n(89);var a=n(112),i=n(77);function o(e){return function(e){if(Array.isArray(e))return Object(r.default)(e)}(e)||Object(a.default)(e)||Object(i.default)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){n.r(t),n.d(t,"operateWXData",(function(){return o})),n.d(t,"_operateWXData",(function(){return s})),n.d(t,"constructOperateWXData",(function(){return i})),n.d(t,"_pluginOperateWXData",(function(){return c}));var r=n(0),a=n(2),i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.beforeInvoke)("operateWXData",o,{apiName:""})){if("operateWXData"===t);var s={api_name:o.apiName,data:o.reqData||{},operate_directly:e};n&&(s.plugin_appid=o.pluginId);var c={data:s,isImportant:!0===i,requestInQueue:!o.hasOwnProperty("requestInQueue")||Boolean(o.requestInQueue)};Object(r.baseOperateWXData)(Object.assign({},c,o),{beforeAll:function(e){void 0!==t&&(e.errMsg=e.errMsg.replace("operateWXData",t))},beforeSuccess:function(e){a.IS_ANDROID&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv,e.data.cloud_id&&(e.cloudID=e.data.cloud_id)),e.respData=e.data,delete e.data}})}}},o=i(!0),s=i(!1),c=i(!0,void 0,!0)},function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var r=n(7);function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.default)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}},function(e,t,n){n.r(t),n.d(t,"guid",(function(){return u})),n.d(t,"surroundByTryCatchFactory",(function(){return l})),n.d(t,"noop",(function(){return d})),n.d(t,"anyTypeToString",(function(){return f})),n.d(t,"stringToAnyType",(function(){return p})),n.d(t,"surroundByPromiseFactory",(function(){return h})),n.d(t,"promised",(function(){return v})),n.d(t,"asyncPromised",(function(){return g})),n.d(t,"invoke2Async",(function(){return m})),n.d(t,"async2Invoke",(function(){return _})),n.d(t,"async2InvokeWithPromise",(function(){return b}));var r=n(86),a=n(14),i=n(4),o=n(0);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function l(e,t){return function(){try{return e.apply(void 0,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function d(){}var f=l((function(e){var t=Object(i.getDataType)(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}),"anyTypeToString");var p=l((function(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}),"stringToAnyType");function h(e){return function(){for(var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=n=n||{},s=o.success,c=o.fail,u=o.complete;return s||c||u?e.apply(this,[n].concat(a)):new Promise((function(r,i){var o=Object.assign({success:r,fail:i},n);e.apply(t,[o].concat(a))}))}}function v(e,t,n){var r=h(n.value);return n.value=function(){return r.apply(this,arguments)},n}function g(e,t,n){var r=n.value,a=h(_(t,r));return n.value=function(){return a.apply(this,arguments)},n}var y=Symbol("ErrorInfosSymbol"),m=function(e){return function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return new Promise((function(n,i){return e.apply(void 0,[c(c({},t),{},{success:n,fail:function(e){var t=e.errMsg,n=Object(r.default)(e,["errMsg"]),a=new Error(t.replace(/^\w+:fail ?/,""));Object.assign(a,n),a[y]=n,i(a)},complete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errMsg,n=Object(r.default)(e,["errMsg"]);if(t&&!/^\w+:(ok|fail)/.test(t)){var a=new Error(e.errMsg.replace(/^\w+:/,""));Object.assign(a,n),a[y]=n,a._complete_hook=!0,i(a)}}})].concat(a))}))}},_=function(e,t){return function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.success,i=n.fail,s=n.complete,c=Object(r.default)(n,["success","fail","complete"]),u={success:a,fail:i,complete:s},l=arguments.length,d=new Array(l>1?l-1:0),f=1;f<l;f++)d[f-1]=arguments[f];t.apply(void 0,[c].concat(d)).then((function(t){return Object(o.beforeInvokeCallback)({name:e,args:u,success:!0,res:t})}),(function(t){t._complete_hook?Object(o.beforeInvokeComplete)({name:e,args:u,errMsg:t.message,res:t[y]||{}}):Object(o.beforeInvokeCallback)({name:e,args:u,success:!1,errMsg:t.message,res:t[y]||{}})}))}},b=function(e,t){return h(_(e,t))}},function(e,t,n){n.r(t),n.d(t,"default",(function(){return o}));var r=n(113);var a=n(77),i=n(114);function o(e,t){return Object(r.default)(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||Object(a.default)(e,t)||Object(i.default)()}},function(e,t,n){function r(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,c,"next",e)}function c(e){r(o,a,i,s,c,"throw",e)}s(void 0)}))}}n.r(t),n.d(t,"default",(function(){return a}))},function(e,t,n){n.r(t),n.d(t,"getSystemInfo",(function(){return h})),n.d(t,"getSystemInfoSync",(function(){return v})),n.d(t,"getSystemInfoAsync",(function(){return g})),n.d(t,"getStaticSystemInfoSync",(function(){return y})),n.d(t,"getStableSystemInfo",(function(){return I})),n.d(t,"getInitScreenSize",(function(){return S})),n.d(t,"private_getUserAgent",(function(){return P}));var r=n(0),a=n(23),i=n(68),o=n(1),s=n(2),c=n(10),u=n(38),l=wxNativeConsole.createLogger("systemInfo"),d=null,f=function(e){l.info("[before process]",e);var t=s.PLATFORM;s.IS_IOS&&(e.brand="iPhone"),s.IS_DEVTOOLS&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=i.SDKVersion,e.enableDebug=Boolean(o.default.debug),o.default.devicePixelRatio&&(e.devicePixelRatio=o.default.devicePixelRatio),o.default.theme&&(e.theme=o.default.theme),o.default.host&&(e.host=o.default.host),s.IS_ANDROID&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),delete(d=Object.assign({},e)).errMsg,Object(c.isSinglePageMode)()&&4!==o.default.appType&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),l.info("[after process]",e)},p=function(){o.default.isReady||(new Error).stack},h=function(e){p();Object(r.invokeMethod)("getSystemInfo",e,{beforeSuccess:f})},v=function(){var e={};return h({success:function(t){delete t.errMsg,e=t,d=Object.assign({},e)}}),e},g=function(e){o.default.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),p());var t=o.default.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";Object(r.invokeMethod)(t,e,{beforeSuccess:f})},y=function(){return d||v()},m=null,_=0,b=0,O=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];o.default.onReady((function(){m={};for(var e=0;e<O.length;e++){if(!(O[e]in o.default)){m=y();break}m[O[e]]=o.default[O[e]]}if(o.default.screenHeight&&o.default.screenWidth)_=o.default.screenWidth,b=o.default.screenHeight;else{var t=y();_=t.screenWidth,b=t.screenHeight}}));var E,I=function(){return o.default.isReady?Object.assign({},m):((new Error).stack,{})},S=function(){return o.default.isReady?{screenWidth:_,screenHeight:b,deviceOrientation:_>b?"landscape":"portrait"}:((new Error).stack,{})},C=!1,k=new Set;Object(a.onNativeEvent)("onAppRouteDone",(function(){C=!0,k.forEach((function(e){return e()})),k.clear()}));var T=new Set,A=function(){Object(u.invokeWebviewMethod)("getUserAgent",{},void 0,(function(e){E=e,T.forEach((function(t){try{t(e)}catch(e){}})),T.clear()}))},P=function(e){E?e(E):C?(T.add(e),A()):(k.has(A)||k.add(A),T.add(e))}},function(e,t,n){n.r(t),n.d(t,"EventEmitter2",(function(){return c}));var r=n(13),a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(){this._events={},this._conf&&o.call(this,this._conf)}function o(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:20,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=20}function s(e,t){console.warn("[Event] "+e+" listeners of event "+t+" have been added, possibly causing memory leak.")}function c(e){this._events={},this._newListener=!1,this._removeListener=!1,o.call(this,e)}c.prototype.delimiter=".",c.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},c.prototype.event="",c.prototype.once=function(e,t){return this._once(e,t,!1)},c.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},c.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},c.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},c.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},c.prototype._many=function(e,t,n,r){var a=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function i(){return 0==--t&&a.off(e,i),n.apply(this,arguments)}return i._origin=n,this._on(e,i,r),a},c.prototype.emit=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,n,r,a,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if("function"==typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];o.apply(this,t)}return!0}if(o&&(o=o.slice()),o&&o.length){if(s>3)for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,a,o,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),a=1;a<c;a++)t[a]=arguments[a];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,c){case 1:s.push(this._all[r].call(this,e));break;case 2:s.push(this._all[r].call(this,e,arguments[1]));break;case 3:s.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[r].apply(this,t))}}if("function"==typeof(o=this._events[e]))switch(this.event=e,c){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),a=1;a<c;a++)t[a-1]=arguments[a];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),c>3)for(t=new Array(c-1),a=1;a<c;a++)t[a-1]=arguments[a];for(r=0,n=o.length;r<n;r++)switch(this.event=e,c){case 1:s.push(o[r].call(this));break;case 2:s.push(o[r].call(this,arguments[1]));break;case 3:s.push(o[r].call(this,arguments[1],arguments[2]));break;default:s.push(o[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},c.prototype.on=function(e,t){return this._on(e,t,!1)},c.prototype.prependListener=function(e,t){return this._on(e,t,!0)},c.prototype.onAny=function(e){return this._onAny(e,!1)},c.prototype.prependAny=function(e){return this._onAny(e,!0)},c.prototype.addListener=c.prototype.on,c.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},c.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||i.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,s.call(this,this._events[e].length,e))):this._events[e]=t,this},c.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,i=[];if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n});for(var o=0;o<i.length;o++){if(n=i[o]._listeners,a(n)){for(var s=-1,c=0,u=n.length;c<u;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){s=c;break}if(s<0)continue;return this._events[e].splice(s,1),0===n.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var n=Object.keys(t);for(var a in n){var i=n[a],o=t[i];o instanceof Function||"object"!==Object(r.default)(o)||null===o||(Object.keys(o).length>0&&e(t[i]),0===Object.keys(o).length&&delete t[i])}}}(this.listenerTree),this},c.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||i.call(this),this):(this._events&&(this._events[e]=null),this)},c.prototype.listeners=function(e){return this._events||i.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},c.prototype.eventNames=function(){return Object.keys(this._events)},c.prototype.listenerCount=function(e){return this.listeners(e).length},c.prototype.listenersAny=function(){return this._all?this._all:[]},t.default=c},function(e,t,n){n.r(t);var r="undefined"!=typeof NativeGlobal?NativeGlobal:{};t.default=r},function(e,t,n){n.r(t),n.d(t,"NavigationBackTypes",(function(){return p})),n.d(t,"_setNavigateBackInterception",(function(){return _})),n.d(t,"_stopNavigateBackInterception",(function(){return O})),n.d(t,"_onNavigateBackIntercept",(function(){return E})),n.d(t,"_offNavigateBackIntercept",(function(){return I})),n.d(t,"setNavigateBackInterception",(function(){return S})),n.d(t,"stopNavigateBackInterception",(function(){return C}));var r=n(12),a=n.n(r),i=n(33),o=n(14),s=n(31),c=n(0),u=n(18);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=Object(u.getEventManager)("navigateBackIntercept"),p={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},h=[p.SlideBack,p.BottomBackButton,p.NavigationBarBack,p.NavigateBackCall],v=[],g=0;Object(c.onMethod)("onNavigateBackIntercept",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v[v.length-1]||{},n=t.id;f.emit(d(d({},e),{},{id:n})),Object(c.publish)("onNavigateBackIntercept",d(d({},e),{},{id:n}))}));var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scopes,n=new Set(t||[]),r={scopes:h.map((function(e){return{type:e,interception:n.has(e)}}))};return Object(c.invokeMethodAsync)("setNavigateBackInterception",r)},m=function(){var e=Object(i.default)(a.a.mark((function e(){var t,n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d(d({},n=i.length>0&&void 0!==i[0]?i[0]:{}),{},{scopes:null!==(t=n.scopes)&&void 0!==t?t:h}),e.next=4,y(n);case 4:return r=++g,v.push({id:r,options:n}),e.abrupt("return",{id:r});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=Object(s.async2Invoke)("setNavigateBackInterception",m),b=function(){var e=Object(i.default)(a.a.mark((function e(){var t,n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.id,!((r=v.findIndex((function(e){return e.id===n})))<0)){e.next=4;break}return e.abrupt("return");case 4:if(r!==v.length-1){e.next=8;break}return i=v.length>1?v[v.length-2].options:{scope:[]},e.next=8,y(i);case 8:v.splice(r,1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(s.async2Invoke)("stopNavigateBackInterception",b),E=f.internalOnMethod,I=f.internalOffMethod,S=function(){var e=Object(i.default)(a.a.mark((function e(t){var n,r,i,o,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:h,e.next=3,m({scopes:n});case 3:return r=e.sent,i=r.id,E(o=function(e){e.id===i&&t(e)}),e.abrupt("return",{id:i,handler:o});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.default)(a.a.mark((function e(t){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return n=e.t0,r=n.id,i=n.handler,e.next=10,b({id:r});case 10:I(i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){n.r(t),n.d(t,"invokeWebviewMethod",(function(){return c})),n.d(t,"advancedInvokeWebviewMethod",(function(){return u}));var r=n(0),a=n(4),i=n(5),o=0,s=[],c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=o++;s[c]=a,Object(r.publish)("invokeWebviewMethod",{name:e,args:t,callbackId:c},void 0===n?[i.default.currentWebviewId]:n)};Object(r.subscribe)("callbackWebviewMethod",(function(e){var t=e.res,n=e.callbackId,r=s[n];delete s[n],r&&r(t)}));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(a.isObject)(t)||(t={}),t=Object.assign({},t);var i=Object(r.getSurroundedCallbacks)(t,e);c(e,t,void 0,(function(t){Object(r.callbackInvoke)(t,e,i,n)}))}},function(e,t,n){n.r(t),n.d(t,"htmlDecode",(function(){return s})),n.d(t,"getQueryString",(function(){return c})),n.d(t,"addUrlParam",(function(){return u})),n.d(t,"getFollowPageUrl",(function(){return l})),n.d(t,"isObject",(function(){return d})),n.d(t,"mergeDeep",(function(){return f})),n.d(t,"getTodayFormat",(function(){return p})),n.d(t,"convertTenThousand",(function(){return g})),n.d(t,"getAdDataViewId",(function(){return h})),n.d(t,"truncate",(function(){return v})),n.d(t,"pick",(function(){return y})),n.d(t,"get",(function(){return m})),n.d(t,"measureText",(function(){return _}));var r=n(14),a=n(13),i=n(0),o=n(27);n.d(t,"timeout",(function(){return o.timeout}));var s=function(e){return 0===(e=e||"").length?"":e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g,"    ").replace(/&#039;|&#39;/g,"'").replace(/&#047;|&#47;/g,"/").replace(/&#092;|&#92;/g,"\\").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/<br>/g,"\n").replace(/<br\/>/g,"\n").replace(/<br \/>/g,"\n")},c=function(e){var t={};if(e.indexOf("?")>-1){var n=e.indexOf("?")+1,r=e.substring(n);r.indexOf("#")>-1&&(r=r.substring(0,r.indexOf("#")));for(var a=r.split("&"),i=0;i<a.length;i++){var o=a[i].split("=");t[o[0]]=o[1]}}return t},u=function(e,t){if(!e)return"";if(!t)return e;var n=e.split("#"),r=n[0].indexOf("?")>-1?"&":"?",a="",i=Object.keys(t);if(i.length>0){for(var o=0;o<i.length;o++)a=a.concat(i[o]+"="+t[i[o]]+"&");return a.length>0&&(a=a.substring(0,a.length-1)),n[0]+r+a+(n[1]?"#"+n[1]:"")}return e},l=function(e,t){var n={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type};return u(t,n)},d=function(e){return e&&"object"===Object(a.default)(e)&&!Array.isArray(e)},f=function e(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];if(!a.length)return t;var o=a.shift();if(d(t)&&d(o))for(var s in o)d(o[s])?(t[s]||Object.assign(t,Object(r.default)({},s,{})),e(t[s],o[s])):Object.assign(t,Object(r.default)({},s,o[s]));return e.apply(void 0,[t].concat(a))},p=function(){var e=new Date,t=e.getMonth()+1,n=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(n>9?"":"0")+n].join("")},h=function(e){if(e)return e.wx_game_video&&e.wx_game_video.short_video?e.wx_game_video.short_video.viewid:void 0},v=function(e,t){for(var n=0,r=0,a=0;a<e.length;a++)(n+=/[\u4e00-\u9fa5]/.test(e[a])?2:1)<t-1&&(r=a);return n>t?e.substring(0,r+1)+"...":e},g=function(e){return e<1e4?e.toString():(e/1e4).toFixed(1)+"万"},y=function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})},m=function(e,t,n){"string"==typeof t&&(t=t.split("."));for(var r=e,a=0;r&&a<t.length;)r=r[t[a]],a+=1;return r||n},_=function(e){var t=0,n=Object.assign({},{fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},e);try{Object(i.invokeMethod)("measureText",Object.assign({},n,{complete:function(e){t=e.width||0}}))}catch(e){}return t}},function(e,t,n){n.r(t),n.d(t,"onAppRoute",(function(){return v})),n.d(t,"offAppRoute",(function(){return g}));var r=n(0),a=n(23),i=n(70),o=n(47),s=n(9),c=n(18),u=n(118),l=n(1),d=n(42),f=n(5),p=n(57),h=Object(c.getEventManager)("AppRoute"),v=h.internalOnMethod,g=h.internalOffMethod;Object(a.onNativeEvent)("onAppRoute",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d.nativeConsole.log("received onAppRoute, res=",JSON.stringify(e)),p.webviewAnimation.appRoute=!0,p.webviewAnimation.appRouteDone=!1;var n=Object(u.handleRewriteRoute)(e,t);if(!n){if(e.path=Object(s.removeHtmlSuffixFromUrl)(e.path),e.webviewId=void 0!==e.webviewId?e.webviewId:t,"dismissPip"!==e.openType&&(f.default.lastRoute=e.path||"",f.default.lastRawQuery=JSON.parse(JSON.stringify(e.query||{}))),f.default.lastOpenType=e.openType,"appLaunch"!==e.openType&&"autoReLaunch"!==e.openType)for(var a in e.query)try{e.query[a]=decodeURIComponent(e.query[a])}catch(e){}if("dismissPip"!==e.openType&&(f.default.query=e.query,f.default.currentWebviewId=e.webviewId),"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__.features&&__libVersionInfo__.features.pruneWxConfigByPage){var c=e.preloadRule||l.default._preloadRule&&l.default._preloadRule[e.path],v=e.page||l.default._page&&l.default._page[e.path+".html"];if(c&&(l.default.updatePreloadRule(e.path,c),e.preloadRule,l.default.preloadRule),v){var g=l.default.global&&l.default.global.window||{};v.window=Object.assign({},g,v.window),l.default.updatePage(e.path,v),e.page,l.default.page}}Object(r.publish)("onAppRoute",e,[]),Object(i.checkNeedAppEnterForegroundPatch)()&&o.default.emitter.emit("onAppRoute"),h.emit(e)}}))},function(e,t,n){n.r(t),n.d(t,"showToast",(function(){return _})),n.d(t,"hideToast",(function(){return b})),n.d(t,"showLoading",(function(){return E})),n.d(t,"hideLoading",(function(){return I})),n.d(t,"_showModal",(function(){return p})),n.d(t,"showModal",(function(){return h})),n.d(t,"showActionSheet",(function(){return S})),n.d(t,"showShareActionSheet",(function(){return C})),n.d(t,"_checkIsInteracting",(function(){return k}));var r=n(0),a=n(9),i=n(5),o=n(61),s=n(2),c=n(10),u=n(60),l=n(40),d=n(109),f=!1,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:s.IS_MINA?"#fff":"#576B95",confirmColorDark:void 0!==__wxConfig.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:s.IS_MINA?"#07C160":"#000000",cancelColorDark:void 0!==__wxConfig.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:""};t=Object(a.extend)(t,e),Object(r.beforeInvoke)("showModal",t,{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})&&(t.confirmText.replace(/[^\x00-\xff]/g,"##").length>8?Object(r.beforeInvokeFail)("showModal",e,"confirmText length should not larger than 4 Chinese characters"):t.cancelText.replace(/[^\x00-\xff]/g,"##").length>8?Object(r.beforeInvokeFail)("showModal",e,"cancelText length should not larger than 4 Chinese characters"):Object(r.invokeMethod)("showModal",t,{beforeSuccess:function(e){e.confirm=Boolean(e.confirm),s.IS_IOS||s.IS_MAC?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel),Object(o._setWxIsInvokeInTapForNavToMiniProgram)()},beforeAll:function(){f=!0},afterAll:function(){f=!1}}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(e),Object(c.isGame)()&&Object(u.reportCanvasData)(u.ReportCanvasDataEventType.EVENT_CANVAS_AFTER_MODAL)},v={},g={};Object(l.onAppRoute)((function(e){g[e.webviewId]=[]})),Object(d.onDomReady)((function(e){setTimeout((function(){var t=e.webviewId,n=g[t]||[];v[t]=!0,n.length>0&&(m=!1,O=!1,n.forEach((function(e){var t=e.res,n=e.args,a=/hideLoading/.test(t.errMsg)?{beforeAll:function(e){e.errMsg=e.errMsg.replace("hideToast","hideLoading")}}:{};Object(r.invokeMethod)("hideToast",n,a)}))),delete g[t]}),100)}));var y=1,m=!1,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={duration:1500,title:"",icon:"success",mask:!1};if(t=Object(a.extend)(t,e),e.image&&(t.image=Object(a.getRealRoute)(i.default.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(t.icon)<0&&(t.icon="success"),"none"===t.icon&&(t.icon=""),Object(r.beforeInvoke)("showToast",t,{duration:1,title:"",icon:""})){var n=g[i.default.currentWebviewId]||[];n.length>0&&(m=!1,O=!1,n.forEach((function(e){var t=e.res,n=e.args;"function"==typeof n.success&&n.success(t),"function"==typeof n.complete&&n.complete(t)})),delete g[i.default.currentWebviewId]),m=y++,setTimeout((function(){m=!1}),t.duration),t.maskAll=!1,Object(r.invokeMethod)("showToast",t)}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s.IS_DEVTOOLS&&O&&(!m||m<O))return m=!1,"function"==typeof e.success&&setTimeout((function(){e.success({errMsg:"hideToast:ok"})})),"function"==typeof e.complete&&setTimeout((function(){e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");i.default.currentWebviewId;m=!1,Object(r.invokeMethod)("hideToast",e)},O=!1,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={title:"",icon:"loading",mask:!1,duration:1e8};if((t=Object(a.extend)(t,e)).icon="loading",delete t.image,Object(r.beforeInvoke)("showLoading",t,{duration:1,title:""})){var n=g[i.default.currentWebviewId]||[];n.length>0&&(m=!1,O=!1,n.forEach((function(e){var t=e.res,n=e.args;"function"==typeof n.success&&n.success(t),"function"==typeof n.complete&&n.complete(t)})),delete g[i.default.currentWebviewId]),O=y++,t.maskAll=!1,Object(r.invokeMethod)("showToast",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showToast","showLoading")}})}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s.IS_DEVTOOLS&&m&&(!O||O<m))return O=!1,"function"==typeof e.success&&setTimeout((function(){e.success({errMsg:"hideLoading:ok"})})),"function"==typeof e.complete&&setTimeout((function(){e.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");i.default.currentWebviewId;O=!1,Object(r.invokeMethod)("hideToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={itemList:[],itemColor:"#000000",itemColorDark:void 0!==__wxConfig.theme&&e.itemColor?e.itemColor:"#FFFFFFCC"};delete(t=Object(a.extend)(t,e)).cancelText,delete t.cancelColor,Object(r.beforeInvoke)("showActionSheet",t,{itemList:["1"],itemColor:""})&&(e.itemList.length>6?Object(r.beforeInvokeFail)("showActionSheet",e,"parameter error: itemList should not be large than 6"):Object(r.invokeMethod)("showActionSheet",t,{beforeAll:function(e){(e.errMsg.indexOf(":ok")>-1||e.errMsg.indexOf(":cancel")>-1)&&Object(o._setWxIsInvokeInTapForNavToMiniProgram)(),f=!0},afterAll:function(){f=!1}}))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.invokeMethod)("showShareActionSheet",e)},k=function(){return f}},function(e,t,n){n.r(t),n.d(t,"nativeConsole",(function(){return c}));var r=n(0),a=__wxConfig.platform,i=[],o=function(e){var t=("0"+(e.getMonth()+1)).slice(-2),n=("0"+e.getDate()).slice(-2),r=("0"+e.getHours()).slice(-2),i=("0"+e.getMinutes()).slice(-2),o=("0"+e.getSeconds()).slice(-2),s=("00"+e.getMilliseconds()).slice(-3),c=e.getFullYear()+"-"+t+"-"+n,u=r+":"+i+":"+o+"."+s;return"ios"===a?c+" "+u+"000"+(e.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):c+" "+(e.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+u},s=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.map((function(e){switch(e){case null:return"null";case void 0:return"undefined";default:return e.toString()}})).join(" ");i.push({date:new Date,type:e,content:a})}};__wxConfig.onReady((function(){setTimeout((function e(){var t;(setTimeout(e,2e3),0!==i.length)&&(t=i.slice(),"ios"===a&&"function"==typeof systemLog?systemLog({dataArray:t.map((function(e){return"\n"+o(e.date)+" ["+e.type[0].toUpperCase()+"][weapplib] "+e.content}))}):"ios"===a||"windows"===a?Object(r.invokeMethod)("systemLog",{dataArray:t.map((function(e){return{message:"\n"+o(e.date)+" ["+e.type[0].toUpperCase()+"][weapplib] "+e.content}}))}):"android"===a&&Object(r.invokeMethod)("systemLog",{message:["\n"].concat(t.map((function(e){return"["+e.type[0].toUpperCase()+"]["+o(e.date)+"][weapplib] "+e.content}))).join("\n")}),i=[])}),2e3)}));var c={log:s("log"),debug:s("debug"),info:s("info"),warn:s("warn"),error:s("error")}},function(e,t,n){n.r(t),n.d(t,"PREFIX",(function(){return r})),n.d(t,"PAGE_TYPE",(function(){return a})),n.d(t,"VALID_SCENE",(function(){return i}));var r="__wx__/functional-page",a={PLAY_PAGE_IMAGE:"play_page_image",PLAY_PAGE_VIDEO:"play_page_video"},i=[1154,1007,1008,1074,1088,1044,1045,1046,1010,1096]},function(e,t,n){n.r(t),n.d(t,"getNetworkType",(function(){return u})),n.d(t,"onNetworkStatusChange",(function(){return l})),n.d(t,"offNetworkStatusChange",(function(){return d})),n.d(t,"_getCurrentNetworkType",(function(){return f}));var r=n(0),a=n(18),i=n(1),o=n(5),s="",c=Object(a.getEventManager)("networkstatusChange"),u=function(e){Object(r.invokeMethod)("getNetworkType",e)},l=c.onMethod,d=c.offMethod,f=function(){return s};Object(r.onMethod)("onNetworkStatusChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s=e.networkType,o.default.currentNetworkType=s,c.emit(e),Object(r.publish)("onNetworkStatusChange",e)})),i.default.onReady((function(){u({success:function(e){s=e.networkType,o.default.currentNetworkType=s}})}))},function(e,t,n){n.r(t),n.d(t,"Element",(function(){return y}));var r=n(8),a=n(11),i=n(35),o=n(34),s=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],c=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],u=n(27),l=n(1),d=n(23),f=new i.default({maxListeners:2e5}),p=32768,h="portrait",v="";l.default.onReady((function(){h=l.default.deviceOrientation||h,v=Object(o.getStableSystemInfo)().model||""}));var g=function(e,t){return-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?"element-"+t+"-"+e:-1!==["layout"].indexOf(e)?e:void 0},y=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.parentId,i=void 0===a?0:a,o=n.id,d=void 0===o?p++:o,f=n.style,g=void 0===f?{}:f,y=n.props,m=void 0===y?{}:y,_=n.name,b=void 0===_?"":_;Object(r.default)(this,e);var O=l.default.platform;this.parentId=i,this.dest=0,this.id=d,this.name=b,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.readyResult=new Promise((function(e){t.on("ready",e)})),g=Object.assign({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0},g),Object.assign(g,g[h]);var E=/iphone x/.test(v.toLowerCase())?"iphone x":O;Object.assign(g,g[E]),Object.assign(g,g[E+"-"+h]),this.style={},this.computedStyle=Object.assign({},g),this.lastComputedStyle=Object.assign({},g),this.layoutBox=null,Object.keys(g).forEach((function(e){Object.defineProperty(t.style,e,{configurable:!0,enumerable:!0,get:function(){return g[e]},set:function(n){if(n!==g[e]&&void 0!==n){if(g[e]=n,t.computedStyle[e]=n,t.lastComputedStyle[e]=n,-1!==s.indexOf(e)&&t.style.scale){var r=n*t.style.scale;t.computedStyle[e]=r,t.lastComputedStyle[e]=r}"scale"===e&&s.forEach((function(e){g[e]&&(t.computedStyle[e]=g[e]*n,t.lastComputedStyle[e]=g[e]*n)})),t.shouldUpdate=!0,"hidden"===e&&(n?(Object(u.log)(t.id,t.name,"隐藏, 保存宽高",t.computedStyle.width,t.computedStyle.height),c.forEach((function(e){t.computedStyle[e]=0}))):(Object(u.log)(t.id,t.name,"显示, 设置回来",t.lastComputedStyle.width,t.lastComputedStyle.height),c.forEach((function(e){t.computedStyle[e]=t.lastComputedStyle[e]})))),t.requestLayout()}}})})),s.forEach((function(e){if(t.style[e]&&t.style.scale){var n=t.style[e]*t.style.scale;t.computedStyle[e]=n,t.lastComputedStyle[e]=n}})),g.hidden&&c.forEach((function(e){t.computedStyle[e]=0})),Object.keys(m).forEach((function(e){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return m[e]},set:function(n){n!==m[e]&&(m[e]=n,t.shouldUpdate=!0,t.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((function(e){t.on(e,(function(n){if(t.bubbleEvent&&t.parent){var r=0,a=0;try{r=t.layoutBox.left,a=t.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var i=Object.assign({},n);i.x+=r,i.y+=a,t.parent.emit(e,i)}else{var o=n.map((function(e){return{x:e.x+r,y:e.y+a}}));t.parent.emit(e,o)}}}))}))}return Object(a.default)(e,[{key:"getChildren",value:function(){var e=this;return Object.keys(this.children).map((function(t){var n=e.children[t];return n.dest=e.dest,{id:n.id,name:n.name,style:n.computedStyle,children:n.getChildren()}}))}},{key:"getAbsolutePosition",value:function(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var t=this.getAbsolutePosition(e.parent),n=t.left,r=t.top;return{left:n+e.layoutBox.left,top:r+e.layoutBox.top}}},{key:"add",value:function(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}},{key:"remove",value:function(e){var t=this;e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((function(e){t.children[e].remove(),delete t.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}},{key:"emit",value:function(e,t){f.emit(g(e,this.id),t)}},{key:"on",value:function(e,t){f.on(g(e,this.id),t)}},{key:"once",value:function(e,t){f.once(g(e,this.id),t)}},{key:"off",value:function(e,t){f.off(g(e,this.id),t)}},{key:"nextLayout",value:function(e){var t=this;if(!e||"function"!=typeof e)return new Promise((function(e){return t.nextLayout(e)}));setTimeout(e,250)}},{key:"nextUpdate",value:function(e){var t=this;if(!e||"function"!=typeof e)return new Promise((function(e){return t.nextUpdate(e)}));this.once("update-done",e)}},{key:"ready",value:function(){var e=this,t=Object.keys(this.children).map((function(t){return e.children[t].ready()}));return Promise.all(t.concat(this.readyResult))}},{key:"requestLayout",value:function(){this.emit("layout")}},{key:"forceUpdate",value:function(){var e=this,t=this.isInserted?this.update():this.insert(),n=Object.keys(this.children).map((function(t){return e.children[t].forceUpdate()}));return t.then((function(){return Promise.all(n)}))}},{key:"insert",value:function(){return Promise.resolve()}},{key:"update",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){var e=this;["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((function(t){var n=g(t,e.id);f.removeAllListeners(n)}))}}]),e}(),m=function(e){var t=JSON.parse(e.data).id;f.emit(g("click",t))};Object(d.onNativeEvent)("onTextViewClick",m),Object(d.onNativeEvent)("onImageViewClick",m),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((function(e){var t=e.replace(/^on/,"").toLowerCase();Object(d.onNativeEvent)(e,(function(e){try{var n=JSON.parse(e.data).id;f.emit(g(t,n),e.touch||e.touches)}catch(e){}}))}))},function(e,t,n){n.r(t),function(e){var n=e.WeixinArrayBuffer;delete e.WeixinArrayBuffer,t.default=n}.call(this,n(97))},function(e,t,n){n.r(t);var r=n(35),a=n(65),i=new r.default,o={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:a.default,emitter:i};t.default=o},function(e,t,n){n.r(t),n.d(t,"onAppEnterForeground",(function(){return h}));var r=n(0),a=n(47),i=n(70),o=n(53),s=n(49),c=n(18),u=n(23),l=n(10),d=n(5),f=n(1);f.default.onReady((function(){d.default.scene=f.default.appLaunchInfo.scene}));var p=Object(c.getEventManager)("AppEnterForeground"),h=p.internalOnMethod;function v(e){if(!Object(l.isGame)()){e=Object(o.filterInfo)(e,!1),Object(s.setInnerEnterOptions)(e);var t=Object(o.filterPublicInfo)(e);e.__public=Object(o.isolateInfo)(t,""),Object(s.setEnterOptions)(t),p.emit(e),d.default.scene=e.scene}}Object(u.onNativeEvent)("onAppEnterForeground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debugLaunchInfo||{};Object.assign(e,t),delete e.debugLaunchInfo,!Object(i.checkNeedAppEnterForegroundPatch)()||1!==e.reLaunch&&!0!==e.reLaunch?v(e):a.default.emitter.once("onAppRoute",(function(){v(e)})),Object(r.publish)("onAppEnterForeground",e)}))},function(e,t,n){n.r(t),n.d(t,"setEnterOptions",(function(){return c})),n.d(t,"setInnerEnterOptions",(function(){return u})),n.d(t,"getEnterOptionsSync",(function(){return l})),n.d(t,"getInnerEnterOptionsSync",(function(){return d}));var r=n(53),a=n(123),i=n(0),o={},s={};function c(e){o=e}function u(e){s=e}function l(){var e=Object(a.getPluginId)(this)||"";return Object(r.isolateInfo)(o,e)}function d(){return s}Object(i.subscribe)("getEnterAppInfo",(function(e,t){var n=e.callbackId;Object(i.publish)("appEnterInfoGot",{res:d(),callbackId:n},[t])}))},function(e,t,n){n.r(t),n.d(t,"GlobalEmitter",(function(){return i})),n.d(t,"FakeTempFilePathMap",(function(){return o}));var r=n(35),a=n(31),i=new r.default,o={map:{},set:function(e){var t=Object(a.guid)();return this.map[t]=e,t},get:function(e){var t=this;return e?this.map[e]:Object.keys(this.map).map((function(e){return t.map[e]}))}}},function(e,t,n){n.r(t),n.d(t,"reportDeprecatedAPI",(function(){return r}));var r=function(e){Reporter.reportKeyValue({key:"DeprecatedAPI",value:e})}},function(e,t,n){var r;n.r(t),n.d(t,"CUSTOM_EVENT",(function(){return r})),function(e){e.SHOWFEEDBACK="showFeedback",e.ADSHOWHALF="adShowHalf",e.ADHIDEHALF="adHideHalf",e.TRIGGEREVENT="triggerEvent",e.REPORTVIDEOPLAY="reportVideoPlay",e.APPENTERBACKGROUND="appEnterBackground",e.ADVIDEOPAUSE="adVideoPause",e.ADVIDEOPLAY="adVideoPlay",e.FEEDBACKBTNTAP="feedbackBtnTap",e.FEEDBACKREPORT="feedbackReport",e.BTNTAP="btnTap",e.CHANGEADBTNTEXT="changedAdBtnText",e.ENDPAGEINIT="endPageInit",e.SHOWENDPAGE="showEndPage",e.REPORTENDPAGE="reportEndPage",e.APPENTERFOREGROUND="appEnterForeground",e.ENDPAGEHIDE="endPageHide",e.ENDPAGESHOW="endPageShow",e.REPORTMMDATA="reportMMData",e.HIDEAD="hideAd",e.REPORTTIMEPOINT="reportTimePoint",e.CHANGEMULTISHOW="changeMultiShow",e.CHECKEXPOSURE="checkExposure",e.LANDAD="landAd",e.CHANGECOUNTDOWN="changeCountdown",e.SPLASHSKIPAD="splashSkipAd",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic"}(r||(r={}))},function(e,t,n){n.r(t),n.d(t,"filterInfo",(function(){return d})),n.d(t,"filterPublicInfo",(function(){return f})),n.d(t,"isolateInfo",(function(){return p})),n.d(t,"setPrivateExtraData",(function(){return h}));var r,a=n(13),i=n(47),o=n(9),s=n(5),c=n(0),u=n(1),l=n(25);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:s.default.query)||{},e.path=t?Object(o.removeHtmlSuffixFromUrl)(e.path):Object(o.removeHtmlSuffixFromUrl)(s.default.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?s.default.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:s.default.lastShareInfo=void 0),i.default.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(i.default.appId=e.referrerInfo.appId),"object"===Object(a.default)(e.shareInfo)&&null!==e.shareInfo){var n=e.shareInfo;n.shareKey&&n.shareName&&(Object(c.invokeMethod)("showUpdatableMessageSubscribeButton",{shareKey:n.shareKey}),e.shareTicket=i.default.ShareInfoStorage.set(n.shareKey,n.shareName),i.default.ShareInfoStorage.lastShareTicket=e.shareTicket),delete e.shareInfo}return e}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;0===(e=Object.assign({},e)).scene?e.scene=r:r=e.scene;var n=e.scene;1103===n?n=1001:1104===n?n=1089:1131===n||1158!==n&&1159!==n&&1160!==n||!Object(l.checkPermissionSync)("getGroupToolbarInfo")&&(n=1008),[1106,1005,1006,1027,1042].indexOf(n)>-1&&(e.referrerInfo.appId=null);var a=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{};if(e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId){e.referrerInfo.appId&&(a.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId;var i=Object.keys(e.referrerInfo.privateExtraData);0===i.length&&delete e.referrerInfo.privateExtraData}var o={path:e.path,query:e.query,scene:n,shareTicket:e.shareTicket,referrerInfo:a};e.chatroomUsername&&1156===n&&(o.chatroomUsername=e.chatroomUsername);var s=e.nativeExtraData||{};return s.location&&(o.locationInfo=s.location),7!==u.default.appType&&10!==u.default.appType||(e.nativeExtraData&&(o.nativeExtraData=e.nativeExtraData),o.sessionId=e.sessionid||e.sessionId,o.isLaunch=e.isLaunch,e.isLaunch&&(o.prerender=!!u.default.prerender),o.clickTimestamp=e.clickTimestamp,o.preloadType=t),e.mode&&(o.mode=e.mode),1173===n&&(s.mimeType?o.forwardMaterials=[{type:s.mimeType,path:s.materialPath,name:s.materialName,size:s.materialSize}]:Array.isArray(s.materials)&&(o.forwardMaterials=s.materials)),o}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(o.getRouteDomain)(e.path||"");if(n!==t){var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),10===u.default.appType&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),r}return e}function h(e){try{__appServiceEngine__.setPrivateExtraData(e.privateExtraData),e.success()}catch(t){e.fail(t)}}},function(e,t,n){n.r(t),n.d(t,"getBanRuleIndexByPath",(function(){return _})),n.d(t,"getBanRuleIndexForPage",(function(){return b})),n.d(t,"needReport",(function(){return g})),n.d(t,"banAPISet",(function(){return y})),n.d(t,"ruleList",(function(){return m})),n.d(t,"checkAPIAvailableForCurrentPage",(function(){return E})),n.d(t,"reportAPIBanForPage",(function(){return I})),n.d(t,"ReportCheckScene",(function(){return h})),n.d(t,"ReportBlockStatus",(function(){return p}));var r=n(28),a=n(1),i=n(4),o=n(5),s=n(0),c=n(29),u=n(2),l=0,d=1,f=2,p={OK:1,BLOCK:2,NO_BLOCK:3},h={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},v=wxNativeConsole.createLogger("BanForPage"),g=!1,y=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),m=[];function _(e){if(!e)return-1;var t=-1;try{t=m.findIndex((function(t){return Object(i.isString)(t.path_rule)&&new RegExp(t.path_rule).test(e)}))}catch(e){v.log("[getBanRuleIndexByPath] error: "+e.message)}return v.log('[getBanRuleIndexByPath] path="'+e+'", index='+t),t}function b(e,t,n){for(var r=-1,a=0;a<m.length;a++){var o=m[a];if((!Object(i.isString)(o.path_rule)||!o.path_rule||new RegExp(o.path_rule).test(t))&&(!Object(i.isString)(o.title_rule)||!o.title_rule||new RegExp(o.title_rule).test(n))){r=a;break}}return v.log("[getBanRuleIndexForPage] banRuleIndex="+r),r}function O(e,t,n){v.log("[checkAPIAvailableForPage] APIName="+e+", path="+t+", title="+n);var r=b(0,t,n);if(-1===r)return I(e,p.OK,h.API,e),!0;var a=m[r];return v.log("[checkAPIAvailableForPage], found rule:",a),function(e,t){var n,r,a=e.ban_jsapi_list.find((function(e){return e.jsapi_name===t}));if(!a)return v.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(v.log("[checkAPIAvailableForPageByRule], found APIItem:",a),a.state===l)n=!1;else if(a.state===d)n=!0;else if(a.state===f&&(n=!0,1===e.is_valid)){var i=a.toast_wording||"该功能暂时无法使用";Object(s._invokeMethod)("showToast",{title:i,icon:"none"})}return r=n?e.is_valid?p.BLOCK:p.NO_BLOCK:p.OK,I(t,r,h.API,t),1!==e.is_valid||!n}(a,e)}function E(e){var t=Object.keys(o.default.query).reduce((function(e,t){return[].concat(Object(r.default)(e),[t+"="+o.default.query[t]])}),[]).join("&"),n=o.default.lastRoute+(t?"?"+t:""),a=o.default.navigationBarTitleMap[o.default.lastRoute]||"";return v.log("[checkAPIAvailableForCurrentPage] APIName="+e+", path="+n+", title="+a),O(e,n,a)}function I(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(v.log("[reportAPIBanForPage] APIName="+e+", blockType="+t+", checkScene="+n+", extraInfo="+r+", needReport="+g),g){var s=a.default.appLaunchInfo,u=Object.keys(o.default.query).map((function(e){return e+"="+o.default.query[e]})).join("&"),l={session_id:s.sessionid||s.sessionId,cur_path:o.default.lastRoute+(u?"?"+u:""),title:o.default.navigationBarTitleMap[o.default.lastRoute],check_scene:n,block_status:t,extra_info:r,launch_scene:s.scene,launch_path:s.path,target_path:i};v.log("[reportAPIBanForPage], reqData:",l),Object(c._operateWXData)({reqData:l,apiName:"webapi_reportnvgcheckinfo",complete:function(e){v.log("[reportAPIBanForPage], res.errMsg="+e.errMsg)}})}}a.default.onReady((function(){if(!u.IS_DEVTOOLS)try{var e=a.default.appContactInfo.operationInfo.jsonInfo.navigate_ban_info,t=e.do_report,n=e.navigate_ban_rule_list;m=n,g=1===t,y=new Set(n.reduce((function(e,t){return[].concat(Object(r.default)(e),Object(r.default)(t.ban_jsapi_list))}),y)),v.log("[BanForPage][init] needReport="+g),v.log("[BanForPage][init] ruleList:",m),v.log("[BanForPage][init] banAPISet:",y)}catch(e){v.error("[BanForPage][init] fail, errMsg="+e.message)}}))},function(e,t,n){n.r(t),n.d(t,"Emitter",(function(){return o}));var r=n(8),a=n(11),i=n(4),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(r.default)(this,e),this.type="",this.surround=!1,this.eventMap=new Map,this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap,this.type=t,this.surround=n}return Object(a.default)(e,[{key:"on",value:function(e,t){if(Object(i.isFunction)(t)){var n,r,a=t;this.surround&&(n=t,r="at "+this.type+e+" callback function",a="undefined"!=typeof __errorTracer__?__errorTracer__.surroundThirdByTryCatch(n,r):"undefined"!=typeof __subContextEngine__?__subContextEngine__.surroundThirdByTryCatch(n,r):function(){try{return n.apply(void 0,arguments)}catch(e){return void console.error("thirdScriptError\n"+e.message+";"+r+"\n",e)}},this.callbackMap.set(t,a),this.originalCallbackMap.set(a,t)),this.eventMap.has(e)?this.eventMap.get(e).add(a):this.eventMap.set(e,new Set([a]))}else console.error("emitter.on fail: callback must be a function")}},{key:"off",value:function(e,t){var n=this,r=this.eventMap.get(e);if(r)if("function"!=typeof t)r.forEach((function(e){var t=n.originalCallbackMap.get(e);n.callbackMap.delete(t),n.originalCallbackMap.delete(e)})),r.clear();else if(this.surround){var a=this.callbackMap.get(t);r.delete(a),this.callbackMap.delete(t),this.originalCallbackMap.delete(a)}else r.delete(t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.eventMap.has(e)){var a=new Set(this.eventMap.get(e));a.forEach((function(e){return e.apply(void 0,n)}))}}},{key:"removeAllListeners",value:function(e){this.off(e)}},{key:"getListenersLength",value:function(e){var t=this.eventMap.get(e);return t?t.size:0}}]),e}()},function(e,t,n){n.r(t),n.d(t,"emitSplashAdFetch",(function(){return i})),n.d(t,"onEmitSplashAdFetch",(function(){return o})),n.d(t,"onShouldShowSplashAd",(function(){return s})),n.d(t,"onSplashAdShow",(function(){return c})),n.d(t,"onSplashAdHide",(function(){return u})),n.d(t,"onSplashAdClose",(function(){return l})),n.d(t,"onSplashAdWillLayout",(function(){return d})),n.d(t,"onSplashAdButtonClicked",(function(){return f}));var r=n(0),a=new(n(10).EventEmitter),i=function(){a.emit("_onEmitSplashAdFetch")},o=function(e){"function"==typeof e&&a.on("_onEmitSplashAdFetch",e)};function s(e){Object(r.onMethod)("shouldShowSplashAd",e)}function c(e){Object(r.onMethod)("onSplashAdShow",e)}function u(e){Object(r.onMethod)("onSplashAdHide",e)}function l(e){Object(r.onMethod)("onSplashAdClose",e)}function d(e){Object(r.onMethod)("onSplashAdWillLayout",e)}function f(e){Object(r.onMethod)("onSplashAdButtonClicked",e)}},function(e,t,n){n.r(t),n.d(t,"UI_JSAPI",(function(){return a})),n.d(t,"webviewAnimation",(function(){return o})),n.d(t,"clearDelayedInvoke",(function(){return s})),n.d(t,"registerDelayedInvoke",(function(){return c}));var r=n(0),a=["startPullDownRefresh"],i=[],o={appRoute:!1,appRouteDone:!1},s=function(){i.forEach((function(e){var t=e.name,n=e.args,a=e.option;Object(r.mainInvokeMethod)(t,n,a)})),i=[]},c=function(e,t,n){var a=o.appRoute,s=o.appRouteDone;!a&&s?Object(r.mainInvokeMethod)(e,t,n):i.push({name:e,args:t,option:n})}},function(e,t,n){n.r(t),n.d(t,"getLaunchOptionsSync",(function(){return d})),n.d(t,"_getLaunchOptionsSync",(function(){return f})),n.d(t,"formatLaunchInfo",(function(){return p}));var r,a,i=n(13),o=n(82),s=n(1),c=n(25),u=n(94),l=o.share.ShareInfoStorage;s.default.onReady((function(){var e=p(s.default.appLaunchInfo||{});r=e.appLaunchInfo,a=e.publicLaunchInfo}));var d=function(){return a},f=function(){return r};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shareInfo,n=e.scene,r=e.query||{};"object"===Object(i.default)(t)&&null!==t&&(e.shareTicket=l.set(t.shareKey,t.shareName),l.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},1022===e.scene&&(r=e.query={}),!1===e.reLaunch&&(r={}),Object(u.getLastOnHideMode)(),void 0===e.reLaunch&&"hide"===Object(u.getLastOnHideMode)()&&(r={}),1103===e.scene&&(n=1001),1104===e.scene&&(n=1089),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!Object(c.checkPermissionSync)("getGroupToolbarInfo")&&(n=1008);var a={scene:n,query:r,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return s.default.debugLaunchInfo&&s.default.debugLaunchInfo.lanDebugInfo&&(a.lanDebugInfo=s.default.debugLaunchInfo.lanDebugInfo),{publicLaunchInfo:a,appLaunchInfo:e}}},function(e,t,n){n.r(t),n.d(t,"saveAdDataToFile",(function(){return y})),n.d(t,"saveAdMaterialData",(function(){return m})),n.d(t,"removeOutdatedData",(function(){return g})),n.d(t,"handleSplashAdFetchLog",(function(){return b})),n.d(t,"bulkSaveMaterials",(function(){return _}));var r=n(13),a=n(120),i=n(20),o=n(6),s=n(2),c=n(56),u=n(10);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=6048e5,p=0,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return new Promise((function(t,n){i.fs.stat({path:e,recursive:!0,success:t,fail:n})}))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return new Promise((function(t,n){i.fs.unlink({filePath:e,success:t,fail:function(e){e&&e.errMsg&&e.errMsg.indexOf("no such file or directory")>-1||n(e)}})}))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return Promise.resolve();var t=[];return h(e).then((function(n){var r,a=n.stats||[],i=+new Date,o=l(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(i-1e3*s.stats.lastAccessedTime>=f&&!["adinfos.txt","/"].includes(s.path)){var c=e+"/"+s.path;t.push(v(c))}}}catch(e){o.e(e)}finally{o.f()}return Promise.all(t)}))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?Object(u.isIn3rdApp)()?Promise.resolve():s.IS_ANDROID||s.IS_IOS?new Promise((function(n,r){i.fs.writeFile({filePath:t,data:JSON.stringify(e),encoding:"utf-8",success:n,fail:r})})):Promise.resolve():Promise.resolve()},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e&&t)return new Promise((function(n,r){Object(a._downloadFileSkipCheckDomain)({url:e,filePath:t,success:n,fail:r})}))},_=function(e){return e&&0!==e.length?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return new Promise((function(t,n){i.fs.readdir({dirPath:e,success:t,fail:n})}))}(o.WX_AD_PATH).then((function(t){var n=t.files;e&&e.map((function(e){var t=e.url,r=e.filePath,a=e.fileName;return n.includes(a)?Promise.resolve():m(t,r)}))})):Promise.reject({errMsg:"无数据"})},b=function(e){if(e&&"object"===Object(r.default)(e)&&!(p>0)&&(p+=1,!Object(u.isIn3rdApp)()&&(s.IS_ANDROID||s.IS_IOS)&&e&&e.widget_gray_unlimit_fetch_tag)){var t=3600*e.widget_gray_unlimit_fetch_tag*1e3;try{i.fs.stat({path:o.SPLASHAD_FETCH_LOG,success:function(e){var n;Date.now()-1e3*(null==e||null===(n=e.stats)||void 0===n?void 0:n.lastModifiedTime)>=t&&Object(c.emitSplashAdFetch)()},fail:function(e){e.errMsg&&e.errMsg.indexOf("no such file")>-1&&y({},o.SPLASHAD_FETCH_LOG)}})}catch(e){}}}},function(e,t,n){n.r(t),n.d(t,"ReportCanvasDataEventType",(function(){return o})),n.d(t,"initReportCanvasData",(function(){return u})),n.d(t,"reportCanvasData",(function(){return l}));var r=n(0),a=n(4),i=n(72),o={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},s={sampleEventList:[]},c=new Map;function u(){Object(r.onMethod)("onCanvasReportEventSampleConfigReceived",(function(e){var t=JSON.parse(e.keyEventSampleConfig);Array.isArray(t.sample_event_list)&&(s.sampleEventList=t.sample_event_list,s.sampleEventList.forEach((function(e){c.set(e,0)})),function(){var e=s.sampleEventList.find((function(e){return e.event===o.EVENT_CANVAS_SAMPLE_BY_TIME}));if(e){var t=6e3,n=6,r=0;Object(a.isNumber)(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),Object(a.isNumber)(e.sample_cnt)&&(n=e.sample_cnt),setTimeout((function(){l(o.EVENT_CANVAS_SAMPLE_BY_TIME),r++}),1e3);var i=setInterval((function(){r>n?clearInterval(i):setTimeout((function(){l(o.EVENT_CANVAS_SAMPLE_BY_TIME),r++}),500)}),t)}}(),function(){var e=s.sampleEventList.find((function(e){return e.event===o.EVENT_CANVAS_WEBVIEW_TIMING}));if(e){var t=6e3,n=6,r=0;Object(a.isNumber)(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),Object(a.isNumber)(e.sample_cnt)&&(n=e.sample_cnt),setTimeout((function(){Object(i.getWebViewIdList)().forEach((function(e){l(o.EVENT_CANVAS_WEBVIEW_TIMING,e)})),r++}),1e3);var c=setInterval((function(){r>n?clearInterval(c):setTimeout((function(){Object(i.getWebViewIdList)().forEach((function(e){l(o.EVENT_CANVAS_WEBVIEW_TIMING,e)})),r++}),500)}),t)}}())})),Object(r.onMethod)("onStartReportCanvasData",(function(e){var t=e.event;t===o.EVENT_CANVAS_WEBVIEW_BEFORE_JUMP?Object(i.getWebViewIdList)().forEach((function(e){l(t,e)})):l(t)}))}function l(e,t){var n=function(e){return s.sampleEventList.find((function(t){return e===t.event}))}(e);if(n){var a=Date.now(),i=c.get(n);if(n.sample_interval_seconds,(a-i)/1e3<n.sample_interval_seconds)return;Object(r.invokeMethod)("reportCanvasData",{eventInfo:JSON.stringify(n),viewId:t>0?t:0,success:function(){c.set(n,a)},fail:function(e){e.errMsg}})}}},function(e,t,n){n.r(t),n.d(t,"_setWxIsInvokeInTapForNavToMiniProgram",(function(){return G})),n.d(t,"_navigateToMiniProgram",(function(){return V})),n.d(t,"_checkBeforeNavigateToMiniProgram",(function(){return F})),n.d(t,"_doNavigateToMiniProgram",(function(){return T})),n.d(t,"navigateToMiniProgram",(function(){return H})),n.d(t,"navigateToMiniProgramDirectly",(function(){return Y}));var r=n(14),a=n(12),i=n.n(a),o=n(33),s=n(26),c=n(9),u=n(83),l=n(66),d=n(79),f=n(1),p=n(29),h=n(10),v=n(2),g=n(25),y=n(42),m=n(80),_=n(37),b=n(31),O=n(108),E=n(44);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C,k=Object(b.invoke2Async)(p._operateWXData),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};JSON.stringify(e),JSON.stringify(t),JSON.stringify(n),y.nativeConsole.log("[_doNavigateToMiniProgram], args="+JSON.stringify(e)+", privateArgs="+JSON.stringify(t)+", ext="+JSON.stringify(n));var r=Object.assign({},e);delete r.sourcetype,delete r.preScene,delete r.preSceneNote,7!==f.default.appType&&(delete r.scene,delete r.sceneNote);var a,i=Object(u.getPassCookieString)();if(i?(r.privateExtraData=r.privateExtraData||{},r.privateExtraData.cookies=i):r.privateExtraData&&delete r.privateExtraData.cookies,a="string"==typeof r.path&&r.path.trim().length>0?Object.assign({},r,t,{path:Object(c.transWxmlToHtml)(r.path).trim()}):Object.assign({},r,t,{path:void 0}),JSON.stringify(a),y.nativeConsole.log("[_doNavigateToMiniProgram], finalArgs="+JSON.stringify(a)),a.needTransferToWeChat&&Object(h.isIn3rdApp)())return Object(s.beforeInvokeCallback)({name:"navigateToMiniProgram",args:a}),delete a.success,delete a.fail,delete a.complete,void Object(s.invokeMethod)("sdk_navigateToMiniProgram",a,n);Object(s.invokeMethod)("navigateToMiniProgram",a,n)},A=function(e,t,n,r){var a=[e,t,f.default.appType+1e3,n+1e3,r].join(",");Reporter.reportKeyValue({key:"NavigateToMiniProgramAlert",value:a})},P=function(){return C||(C=new Promise((function(e){__sclEngine__.initScl((function(t){return e(t.mainRoot)}))}))),C},w=function(){var e=Object(o.default)(i.a.mark((function e(t){var n,r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:n=e.sent,e.t0=R,e.next=e.t0===D.HALF_SCREEN_DIALOG_WITHOUT_LOGO?6:e.t0===D.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED?8:e.t0===D.HALF_SCREEN_DIALOG_WITH_SCORE?11:14;break;case 6:return r=n.append("navigateToMp",{title:t.oldWording,logo:"",name:"",type:D.HALF_SCREEN_DIALOG}),e.abrupt("break",16);case 8:return r=n.append("navigateToMp",{title:t.title,logo:t.icon_url,name:t.desc,type:D.HALF_SCREEN_DIALOG}),t.expensiveWording&&t.expensiveWording.then((function(e){var t=e.used_friend_cnt_sub_desc;r.setData({desc:t||""})})),e.abrupt("break",16);case 11:return r=n.append("navigateToMp",{title:t.title,logo:t.icon_url,name:t.desc,type:D.HALF_SCREEN_DIALOG}),t.expensiveWording&&t.expensiveWording.then((function(e){var t=e.score_sub_desc;r.setData({desc:t||""})})),e.abrupt("break",16);case 14:return r=n.append("navigateToMp",{title:t.title,logo:t.icon_url,name:t.desc,type:R}),e.abrupt("break",16);case 16:return a=Object(_.setNavigateBackInterception)((function(e){[_.NavigationBackTypes.BottomBackButton,_.NavigationBackTypes.NavigationBackInterceptionType,_.NavigationBackTypes.NavigateBackCall].includes(e.type)&&r.handleCancel()})),e.next=19,new Promise((function(e){r.addListener("confirm",(function(){e({confirm:!0})})),r.addListener("cancel",(function(){e({confirm:!1})}))}));case 19:return o=e.sent,Object(_.stopNavigateBackInterception)(a),e.abrupt("return",o);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},R=D.DEFAULT;f.default.onReady((function(){Object(m._getABTestConfig)({experimentId:"clicfg_navigation_use_scl_alert_v5",experimentType:"Expt",success:function(e){JSON.stringify(e),e&&void 0!==e.testConfig&&(R=Number(e.testConfig)||D.DEFAULT,Object.values(D).includes(R)||(R=D.DEFAULT))}})}));var M,j=function(e,t,n,r,a,i){if(1===t)return Promise.resolve();var o=R!==D.DEFAULT&&"undefined"!=typeof __sclEngine__&&(v.IS_DEVTOOLS||v.IS_IOS||v.IS_ANDROID)&&a,c=o?R:D.DEFAULT;return Promise.resolve().then((function(){return o?w(S(S({},a),{},{oldWording:e,expensiveWording:i})):new Promise((function(t,n){Object(s.invokeMethod)("showModal",{title:"",content:e,confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA",success:function(e){t(e)},fail:function(e){n(e)}})}))})).then((function(e){if(!e.confirm)throw A(2,n,r,c),{errMsg:"cancel"};A(1,n,r,c)}),(function(e){throw A(3,n,r,c),e}))},x=1,L=2,N=function(){var e=Object(o.default)(i.a.mark((function e(t){var n,r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],e.t0=R,e.next=e.t0===D.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED?4:e.t0===D.HALF_SCREEN_DIALOG_WITH_SCORE?6:8;break;case 4:return n.push(L),e.abrupt("break",9);case 6:return n.push(x),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:if(n.length){e.next=11;break}return e.abrupt("return",{});case 11:return t.appId,y.nativeConsole.log("[_getNavigateWxAppDescInfo] appId="+t.appId),e.prev=13,e.next=16,k({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:t.appId,desc_type_list:n}});case 16:return r=e.sent,(a=r.respData).data,o=JSON.parse(a.data),e.abrupt("return",o);case 23:return e.prev=23,e.t1=e.catch(13),e.t1.message,e.abrupt("return",{});case 27:case"end":return e.stop()}}),e,null,[[13,23]])})));return function(t){return e.apply(this,arguments)}}(),B=(M=[],f.default.onReady((function(){Array.isArray(f.default.navigateToMiniProgramAppIdList)&&(M=f.default.navigateToMiniProgramAppIdList,Object(g.checkPermissionSync)("openWxappLimit5")&&M.splice(5))})),function(e,t){return new Promise((function(n,r){var a=Object(h.checkAPIAvailable)("navigateToMiniProgramConfig");!1===a||v.IS_DEVTOOLS?t?n():M.indexOf(e)>-1?n({sourcetype:4}):r({errMsg:'appId "'+e+'" is not in navigateToMiniProgramAppIdList'}):!0===a?n():"unknown"===a&&n({sourcetype:4})}))}),F=function(e){e.appId,y.nativeConsole.log("[_checkBeforeNavigateToMiniProgram] appId="+e.appId);var t="_checkBeforeNavigateToMiniProgram",n=function(e){return new Promise((function(t,n){e.appId,y.nativeConsole.log("[_getNavigateWxAppInfo] appId="+e.appId),Object(p._operateWXData)({apiName:"webapi_getnavigatewxaappinfo",reqData:{target_appid:e.appId},success:function(e){var n=JSON.parse(e.respData.data),r=n.action_code,a=n.skip_local_check,i=Boolean(n.runtime_sdk_whitelist);t({actionCode:r,skipLocalCheck:a,reason:n.reason,wording:n.wording,appType:n.apptype,newWording:n.new_wording,popupInfo:n.pop_up_info,needTransferToWeChat:i}),e.respData.data},fail:function(e){n(e),e.errMsg}})}))}(e),r=N(e);return R!==D.DEFAULT&&P(),new Promise((function(a,i){n.then((function(n){var o=n.actionCode,c=n.skipLocalCheck,u=n.reason,l=n.wording,d=n.appType,p=n.newWording,h=n.popupInfo,v=n.needTransferToWeChat;y.nativeConsole.log("[_getNavigateWxAppInfo][resolve] actionCode="+o+", skipLocalCheck="+c+", reason="+u+", wording="+l),1!==o&&2!==o?(h?(Reporter.reportKeyValue({key:"WeAppNavBan",value:[f.default.appType+1e3,f.default.appLaunchInfo.scene,33,3302,0,1,u,"跳转跳出",Object(E._getCurrentNetworkType)()].join(",")}),Object(s.invokeMethod)("showModal",{showCancel:!0,content:h.desc,confirmText:h.confirm_wording,cancelText:h.cancel_wording,success:function(e){var t=e.confirm,n=h.confirm_url;t&&Object(O.privateOpenUrl)({url:n}),Reporter.reportKeyValue({key:"WeAppNavBan",value:[f.default.appType+1e3,f.default.appLaunchInfo.scene,33,3302,t?1:2,2,u,"跳转跳出",Object(E._getCurrentNetworkType)()].join(",")})}})):l&&Object(s.invokeMethod)("showModal",{content:l,showCancel:!1}),Object(s.beforeInvokeFail)(t,e,u),i({errMsg:u})):B(e.appId,c).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j(l,o,e.appId,d,p,r).then((function(){Object(s.beforeInvokeCallback)({name:t,args:e,res:{sourcetype:n.sourcetype}}),a(S(S({},n),{},{needTransferToWeChat:v}))}))})).catch((function(n){var r=n.errMsg||n.message;Object(s.beforeInvokeFail)(t,e,r),i(n)}))}),(function(n){Object(s.beforeInvokeCallback)({name:t,args:e}),a(),n.errMsg}))}))},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.beforeInvoke)("navigateToMiniProgram",e,{appId:""})&&(e.appId,y.nativeConsole.log("[_navigateToMiniProgram] appId="+e.appId),F({appId:e.appId}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};JSON.stringify(t),y.nativeConsole.log("[_checkBeforeNavigateToMiniProgram][resolve], res="+JSON.stringify(t)),T(e,{sourcetype:t.sourcetype,needTransferToWeChat:t.needTransferToWeChat})}),(function(t){var n=t.errMsg||t.message;y.nativeConsole.log("[_checkBeforeNavigateToMiniProgram][reject], errMsg="+n),Object(s.beforeInvokeFail)("navigateToMiniProgram",e,n),"cancel"!==n&&Reporter.errorReport({key:"appServiceSDKScriptError",error:t,extend:"at checking before navigate to miniprogram"})})))},W=!1,U=0;Object(s.subscribe)("tapAnyWhere",(function(e){U=e.timeStamp,W=!0})),Object(l.onAppEnterBackground)((function(){U=0,W=!1}));var G=function(){U=Date.now(),W=!0},H=function(e){var t=f.default.accountInfo.appId;0===f.default.appType&&"wx308bd2aeb83d3345"!==t&&"wxc98889eca359c1e5"!==t?W?(V(e),Object(d.reportRecycledAPI)({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===U?-2:Date.now()-U})):Object(s.beforeInvokeFail)("navigateToMiniProgram",e,"can only be invoked by user TAP gesture."):V(e)},Y=function(e){Object(g.checkPermissionSync)("navigateToMiniProgramDirectly")?T(e,e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("navigateToMiniProgram","navigateToMiniProgramDirectly")}}):Object(s.beforeInvokeFail)("navigateToMiniProgramDirectly",e,"no permission")}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.r(t),n.d(t,"hasOwnProperty",(function(){return r}))},function(e,t,n){var r=n(128)("xml-parser");e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:n()}}();function t(){if(i(/^<\?xml\s*/)){for(var e={attributes:{}};!o()&&!s("?>");){var t=a();if(!t)return e;e.attributes[t.name]=t.value}return i(/\?>\s*/),e}}function n(){r("tag %j",e);var t=i(/^<([\w-:.]+)\s*/);if(t){for(var c,u={name:t[1],attributes:{},children:[]};!(o()||s(">")||s("?>")||s("/>"));){var l=a();if(!l)return u;u.attributes[l.name]=l.value}if(i(/^\s*\/>\s*/))return u;for(i(/\??>\s*/),u.content=function(){r("content %j",e);var t=i(/^([^<]*)/);return t?t[1]:""}();c=n();)u.children.push(c);return i(/^<\/[\w-:.]+>\s*/),u}}function a(){r("attribute %j",e);var t,n=i(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(n)return{name:n[1],value:(t=n[2],t.replace(/^['"]|['"]$/g,""))}}function i(t){var n=e.match(t);if(n)return e=e.slice(n[0].length),n}function o(){return 0==e.length}function s(t){return 0==e.indexOf(t)}}},function(e,t,n){n.r(t),n.d(t,"render",(function(){return X})),n.d(t,"updateRender",(function(){return J})),n.d(t,"unmount",(function(){return Q})),n.d(t,"emitComponentProperty",(function(){return $})),n.d(t,"percentProperties",(function(){return Ee})),n.d(t,"convertStyle",(function(){return we})),n.d(t,"mergeStyles",(function(){return De})),n.d(t,"convertComputableStyle",(function(){return Me})),n.d(t,"calculateDynamicStyle",(function(){return me})),n.d(t,"VideoEventType",(function(){return E})),n.d(t,"Component",(function(){return O})),n.d(t,"innerUsage",(function(){return I})),n.d(t,"Layout",(function(){return je}));var r=n(24),a=n(14),i=n(28),o=n(113),s=n(112),c=n(77),u=n(114);var l=n(63),d=n.n(l),f=n(27),p=n(12),h=n.n(p),v=n(8),g=n(11);function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},b=function(e){for(var t=Array.isArray(e)?e[0]:e;t.parent&&t.parent!==je&&t.parent.referComponent;)t=t.parent;return t},O=function(){function e(t){Object(v.default)(this,e),this.state={},this.style={},this.isComponent=!0,this._hasUnmount=!1,this._eventHandler={},this._stateQueue={},this._setStateTimer=null,this._setStyleTimer=null,this._manualStyle={},this._subComponents=[],this._elementMap={},this.parent=null,this.props=t}return Object(g.default)(e,[{key:"setState",value:function(e,t){var n=this;this._stateQueue=this._stateQueue||{};for(var r=!1,a=0,i=Object.keys(e);a<i.length;a++){var o=i[a];e[o]!==this.state[o]&&(r=!0)}r?(Object.assign(this._stateQueue,e),this._setStateTimer&&clearTimeout(this._setStateTimer),this._setStateTimer=setTimeout((function(){return _(n,void 0,void 0,h.a.mark((function e(){var n,r,a,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this._setStateTimer=null,n=!1,r=0,a=Object.keys(this._stateQueue);r<a.length;r++)i=a[r],o=this._stateQueue[i],this.state[i]!==o&&(n=!0);if(n){e.next=5;break}return e.abrupt("return");case 5:return $(this,"updateState",Object.assign(Object.assign({},this.state),this._stateQueue)),Object.assign(this.state,this._stateQueue),J(this),me(b(this._rootElement)),e.next=11,je.nextLayout();case 11:null==t||t(this.state,this.props);case 12:case"end":return e.stop()}}),e,this)})))}),0)):null==t||t(this.state,this.props)}},{key:"ready",value:function(e){}},{key:"updatedProps",value:function(){}},{key:"render",value:function(){return""}},{key:"_unmountComponent",value:function(){if(!this._hasUnmount){if(this._hasUnmount=!0,Array.isArray(this._subComponents)){var e,t=y(this._subComponents);try{for(t.s();!(e=t.n()).done;){e.value._unmountComponent()}}catch(e){t.e(e)}finally{t.f()}}$(this,"destroy")}}},{key:"getRootElement",value:function(){if(!Array.isArray(this._rootElement))return this._rootElement;throw new Error("You should'nt try getRootElement() in component with virtual root")}},{key:"getRootElements",value:function(){return this._rootElement}},{key:"getRootComponent",value:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"getSubComponents",value:function(){return this._subComponents}},{key:"getElementById",value:function(e){return this._elementMap[e]?this._elementMap[e]:null}},{key:"getEventHandler",value:function(e){return this._eventHandler[e]}},{key:"setStyle",value:function(e,t){return _(this,void 0,void 0,h.a.mark((function n(){var r,a,i;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.getElementById(e),a=this._manualStyle,e&&t&&(r&&Object.assign(r.style,t),a[e]=a[e]||{},Object.assign(a[e],t)),n.next=5,Promise.resolve();case 5:return i=this.getRootComponent(),n.next=8,i.requestLayout();case 8:case"end":return n.stop()}}),n,this)})))}},{key:"requestLayout",value:function(){var e=this,t=Array.isArray(this._rootElement)?this._rootElement[0]:this._rootElement;return new Promise((function(n){e._setStyleTimer&&clearTimeout(e._setStyleTimer),e._setStyleTimer=setTimeout((function(){e._setStyleTimer=null,me(b(e._rootElement)),Promise.race([null==t?void 0:t.nextUpdate(),Object(f.timeout)(200)].filter((function(e){return e}))).then((function(){return n()}))}),0)}))}},{key:"_bindEvent",value:function(e,t,n){return this._eventHandler[e]=this._eventHandler[e]||{},this._eventHandler[e][t]=this._eventHandler[e][t]||new Set,this._eventHandler[e][t].add(n),n}},{key:"_unbindEvent",value:function(e,t,n){var r,a;return!!(null===(a=null===(r=this._eventHandler[e])||void 0===r?void 0:r[t])||void 0===a?void 0:a.has(n))&&(this._eventHandler[e][t].delete(n),0===this._eventHandler[e][t].size&&delete this._eventHandler[e][t],0===Object.keys(this._eventHandler[e]).length&&delete this._eventHandler[e],!0)}},{key:"onClick",value:function(e,t){return this._bindEvent(e,"click",t)}},{key:"offClick",value:function(e,t){return this._unbindEvent(e,"click",t)}},{key:"onReady",value:function(e,t){return this._bindEvent(e,"ready",t)}},{key:"offReady",value:function(e,t){return this._unbindEvent(e,"ready",t)}},{key:"onTouchstart",value:function(e,t){return this._bindEvent(e,"touchstart",t)}},{key:"offTouchstart",value:function(e,t){return this._unbindEvent(e,"touchstart",t)}},{key:"onTouchmove",value:function(e,t){return this._bindEvent(e,"touchmove",t)}},{key:"offTouchmove",value:function(e,t){return this._unbindEvent(e,"touchmove",t)}},{key:"onTouchend",value:function(e,t){return this._bindEvent(e,"touchend",t)}},{key:"offTouchend",value:function(e,t){return this._unbindEvent(e,"touchend",t)}},{key:"onTouchcancel",value:function(e,t){return this._bindEvent(e,"touchcancel",t)}},{key:"offTouchcancel",value:function(e,t){return this._unbindEvent(e,"touchcancel",t)}},{key:"onWaiting",value:function(e,t){return this._bindEvent(e,"waiting",t)}},{key:"offWaiting",value:function(e,t){return this._unbindEvent(e,"waiting",t)}},{key:"onPlay",value:function(e,t){return this._bindEvent(e,"play",t)}},{key:"offPlay",value:function(e,t){return this._unbindEvent(e,"play",t)}},{key:"onPause",value:function(e,t){return this._bindEvent(e,"pause",t)}},{key:"offPause",value:function(e,t){return this._unbindEvent(e,"pause",t)}},{key:"onEnded",value:function(e,t){return this._bindEvent(e,"ended",t)}},{key:"offEnded",value:function(e,t){return this._unbindEvent(e,"ended",t)}},{key:"onTimeUpdate",value:function(e,t){return this._bindEvent(e,"timeUpdate",t)}},{key:"offTimeUpdate",value:function(e,t){return this._unbindEvent(e,"timeUpdate",t)}},{key:"onError",value:function(e,t){return this._bindEvent(e,"error",t)}},{key:"offError",value:function(e,t){return this._unbindEvent(e,"error",t)}},{key:"onProgress",value:function(e,t){return this._bindEvent(e,"progress",t)}},{key:"offProgress",value:function(e,t){return this._unbindEvent(e,"progress",t)}},{key:"onFullScreenChange",value:function(e,t){return this._bindEvent(e,"fullScreenChange",t)}},{key:"offFullScreenChange",value:function(e,t){return this._unbindEvent(e,"fullScreenChange",t)}}]),e}();O.isComponent=!0,O.subComponents={};var E,I=function(e){return e},S=n(106);!function(e){e.waiting="waiting",e.play="play",e.pause="pause",e.ended="ended",e.timeUpdate="timeUpdate",e.error="error",e.progress="progress",e.fullScreenChange="fullScreenChange",e.loadedMetaData="loadedMetaData"}(E||(E={}));var C=n(15),k=n(16),T=n(7);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(T.default)(e);if(t){var a=Object(T.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(k.default)(this,n)}}var P=function(e){Object(C.default)(n,e);var t=A(n);function n(){return Object(v.default)(this,n),t.apply(this,arguments)}return Object(g.default)(n,[{key:"render",value:function(){return this.props.children}}]),n}(O);function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}P.isFragment=!0;var R="Fragment",M={view:r.View,text:r.Text,image:r.Image,video:r.Video},j=function(e){return e.name[0]>="A"&&e.name[0]<="Z"},x=new WeakMap,L=function(e,t){var n,r=t.referComponent,a={children:t.children},l="getSubComponentProps",d=[];if(e.getProps){var f=e.getProps.split(":"),p=(n=f,Object(o.default)(n)||Object(s.default)(n)||Object(c.default)(n)||Object(u.default)());l=p[0],d=p.slice(1)}Object.assign(a,$.apply(void 0,[r,l,t.name].concat(Object(i.default)(d)))||{});for(var h=0,v=Object.keys(e);h<v.length;h++){var g=v[h],y=e[g];["getProps","children"].includes(g)||(a[g]=y)}return a.children=t.children,a},N=function(e,t,n){if(!n.isComponent)throw new Error("class "+e.name+" is not a component, please ensure extend BaseComponent");return X(n,L(t,e),!1,e.referComponent)},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F(e),n=e.referComponent,r=t.id,a=(("string"==typeof t.class?t.class:"")||"").split(/\s+/).filter(Boolean),i=Object.assign({},t);r&&(i.name=r),delete i.id,i.style=De({classList:a,name:r,referComponent:n});var o=null!=i.bubbleEvent,s=M[e.name],c=new s(i);if(c.isBubbleEventSet=o,Object.assign(c,{classList:a,referComponent:n,key:t.key||null}),r&&n&&n.getEventHandler(r))for(var u=0,l=Object.keys(n.getEventHandler(r));u<l.length;u++){var d=l[u],f=n.getEventHandler(r)[d];if(d in E){if("video"===e.name){var p,h=w(f);try{for(h.s();!(p=h.n()).done;){var v=p.value,g="on"+d[0].toUpperCase()+d.slice(1),y=c[g];null==y||y.call(c,v)}}catch(e){h.e(e)}finally{h.f()}}}else{var m,_=w(f);try{for(_.s();!(m=_.n()).done;){var b=m.value;c.on(d,b)}}catch(e){_.e(e)}finally{_.f()}}}return null!=r&&(I(n)._elementMap[r]=c),c},F=function(e){for(var t={},n=0,r=Object.keys(e.attributes);n<r.length;n++){var a=r[n],i=e.attributes[a],o=Object(f.splitLineToCamelCase)(a);t[o]=i,/\{\{.+\}\}/.test(i)||("true"===i?t[o]=!0:"false"===i?t[o]=!1:"id"===o?t.id=Object(f.splitLineToCamelCase)(i):t[o]=i)}return t},V=function(e){var t=e.constructor.subComponents||[],n="function"==typeof t?t():t;return Object.assign(Object.assign({},n),Object(a.default)({},R,P))},W=function e(t){if(Array.isArray(t)){var n,r={element:null,subComponents:[]},a=w(t.map((function(t){return e(t)})));try{for(a.s();!(n=a.n()).done;){var o,s=n.value,c=s.element,u=s.subComponents;if(c)if(null===r.element&&(r.element=[]),Array.isArray(c))(o=r.element).push.apply(o,Object(i.default)(Object(S.flatten)(c)));else r.element.push(c);var l,d=w(u);try{for(d.s();!(l=d.n()).done;){var f=l.value;r.subComponents.includes(f)||r.subComponents.push(f)}}catch(e){d.e(e)}finally{d.f()}}}catch(e){a.e(e)}finally{a.f()}return r}if(!t)return{element:null,subComponents:[]};var p,h=V(t.referComponent),v=[],g=F(t);if(j(t)){if(!h[t.name])throw new Error("component name "+t.name+" does not exists");var y=N(t,g,h[t.name]);if(!(p=y.getRootElements()))return{element:null,subComponents:[]};v.push(y)}else{var m=B(t,g);t.children.forEach((function(t){var n=e(t),r=n.element,a=n.subComponents;if(r)if(v.push.apply(v,Object(i.default)(a)),Array.isArray(r)){var o,s=w(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;m.add(c)}}catch(e){s.e(e)}finally{s.f()}}else m.add(r)})),p=m}return{element:p,subComponents:v}},U=function(e,t){for(var n=["autoInsert","autoplay","bubbleEvent","clickState","controls","enablePlayGesture","enableProgressGesture","eventType","height","hide","initialTime","live","loop","muted","obeyMuteSwitch","objectFit","parentId","playbackRate","poster","preLoad","scene","showCenterPlayBtn","src","underGameView","width","x","y","value"],r=!1,a=0,i=n;a<i.length;a++){var o=i[a];void 0===t[o]&&(t[o]=void 0)}for(var s=0,c=Object.keys(t);s<c.length;s++){var u=c[s],l=t[u];n.includes(u)&&e[u]!==l&&(e[u]=l,r=!0)}return r},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n;if(e!==t){if(!r){if(!e||!e.parent)throw new Error("can not find element tree without parent");r=e.parent}if(e&&r.remove(e),t)if(Array.isArray(t)){var a,i=w(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;r.add(o)}}catch(e){i.e(e)}finally{i.f()}}else r.add(t)}},H=function(e,t){return M[t.name]&&e?e.constructor===M[t.name]:!(!(null==e?void 0:e.isRootElementOfComponent)||!e.referComponent)&&e.referComponent.constructor.name===t.name},Y=function(e,t){var n=F(t),r=t.referComponent,a=V(r),o=e&&H(e,t);if(!j(t)){var s;if(!t.children||0===t.children.length)return e&&o?(U(e,n),e):B(t,n);if(e&&o)return U(e,n),K(function(e){return Object.keys(e.children).map((function(t){return e.children[t]}))}(e),t.children),e;var c=W(t),u=c.element,l=c.subComponents;return(s=r.getSubComponents()).push.apply(s,Object(i.default)(l)),u}var d=null==e?void 0:e.referComponent,f=null==d?void 0:d.constructor;if(d&&f===a[t.name])return Object.assign(I(d).props,L(n,t)),J(d);var p=r.getSubComponents().indexOf(d);return p>-1&&r.getSubComponents().splice(p,1),d&&$(d,"destroy"),null==e||e.remove(),N(t,n,a[t.name]).getRootElements()},q=function e(t){return t.reduce((function(t,n){return n.name===R?t.push.apply(t,Object(i.default)(e(n.children))):t.push(n),t}),[])},K=function(e,t){var n,r=[],a={},o=w(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.key?a[s.key]=s:r.push(s)}}catch(e){o.e(e)}finally{o.f()}var c,u=w(q(t));try{for(u.s();!(c=u.n()).done;){var l=c.value,d=l.key,f=null;if(d)a[d]&&(f=a[d],delete a[d]);else for(var p=0,h=Object.keys(r);p<h.length;p++){var v=h[p],g=r[+v];if(g&&H(g,l)){f=g,r.splice(Number(v),1);break}}f||(f=r.shift()||null),e.length&&e[0].parent&&G(f,Y(f,l),e[0].parent)}}catch(e){u.e(e)}finally{u.f()}for(var y=Object.keys(a).reduce((function(e,t){return e.push(a[t]),e}),[]),m=0,_=[].concat(r,Object(i.default)(y));m<_.length;m++){var b=_[m];null==b||b.remove()}},z=function e(t,n){Array.isArray(t)?t.forEach((function(t){return e(t,n)})):(n(t),t.children.forEach((function(t){return e(t,n)})))},Z=function(e,t){z(e,(function(e){e.referComponent||(e.referComponent=t)}))},X=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=new e(t);a.parent=r;var i=a.render(),o="string"==typeof i?d()(i).root:i;Z(o,a);var s=W(o),c=s.element,u=s.subComponents;return I(a)._subComponents=u,c&&(I(a)._rootElement=c,Array.isArray(c)?c.forEach((function(e){e.isRootElementOfComponent=!0})):c.isRootElementOfComponent=!0),$(a,"ready",c,u),n&&(c&&(Array.isArray(c)?c.forEach((function(e){je.add(e),me(e)})):(je.add(c),me(c))),x.set(e,a)),a},J=function(e,t){t&&Object.assign(I(e).props,t);var n=e.getRootElements(),r=e.render(),a="string"==typeof r?d()(r).root:r;return Z(a,e),Array.isArray(n)&&Array.isArray(a)?K(n,a):Array.isArray(n)&&!Array.isArray(a)?K(n,[a]):!Array.isArray(n)&&Array.isArray(a)?K([n],a):Array.isArray(n)||Array.isArray(a)||G(n,Y(n,a)),$(e,"updatedProps"),n},Q=function(e){if(!I(e).isComponent)throw new Error("variable is not a component instance");var t=e.getRootElements();Array.isArray(t)?t.forEach((function(e){return je.remove(e)})):je.remove(t),I(e)._unmountComponent(),x.delete(e.constructor)},$=function(e,t){if("function"==typeof e[t]){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e[t].apply(e,r)}return null},ee=n(32),te=n(91),ne=n(19),re=n(122);function ae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=["width","height"],se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"column",t=arguments.length>1?arguments[1]:void 0;return["row","column"].indexOf(e)===["width","height"].indexOf(t)},ce=function(e,t){return Math.max(e,t)},ue=function(e,t){return e+t},le=function(e){return{width:(e.style.marginLeft||0)+(e.style.marginRight||0),height:(e.style.marginTop||0)+(e.style.marginBottom||0)}},de=function(e){return{width:(e.style.paddingLeft||0)+(e.style.paddingRight||0),height:(e.style.paddingTop||0)+(e.style.paddingBottom||0)}},fe=function(e,t,n){return e&&"px"===e.slice(-2)?parseFloat(e.slice(0,-2))+n:parseFloat(e.slice(0,-1))/100*t+n},pe=function(e,t,n,r,a,i){var o,s=e.parent,c=r[n],u=de(e)[n],l=t,d=null,f=!1;if(!a&&i>0&&(null==l||i>l)&&(l=i),r.position&&"absolute"===r.position[1]&&null!=l&&(l+=i),c||null==l)c&&"percent"===c[0]&&null!=l?(d=l*c[1]-u,f=!0):c&&"digit"===c[0]&&(d=c[1]-u,f=!0);else if("auto"!==e.style[n])if("absolute"===(null===(o=r.position)||void 0===o?void 0:o[1])){for(var p=0,h=!1,v=0,g="width"===n?["left","right"]:["top","bottom"];v<g.length;v++){var y=g[v];null!=r[y]?"digit"===r[y][0]?p+=Number(r[y][1])||0:"percent"===r[y][0]&&(p+=(Number(r[y][1])||0)*l):h=!0}d=h?null:l-p}else a&&se(s.style.flexDirection,n)&&e.style.flex>0?d=null:(function(e){return Object(ne.getVisibleChildren)(e).some((function(e){return null!=e.style.flex&&e.style.flex>0}))}(e)&&(f=!0),d=l-u);return null!=d&&(e.autoFitSize[n].size=d),f},he=function e(t){var n=Object(ne.isRootElement)(t),a=de(t);t.autoFitSize={width:{size:null,margin:0,padding:a.width},height:{size:null,margin:0,padding:a.height}};var i,o=t.parent,s=Me(De(t)),c={width:!1,height:!1},u={width:null,height:null},l=ae(oe);try{for(l.s();!(i=l.n()).done;){var d=i.value,f=s[d],p=n?"width"===d?te.deviceInfo.screenWidth:te.deviceInfo.screenHeight:o.autoFitSize[d].size,h=n?0:o.autoFitSize[d].padding;!f&&n&&"height"===d&&(p=null),c[d]=pe(t,p,d,s,!0,h)}}catch(e){l.e(e)}finally{l.f()}ge(t,s);var v,g=de(t),y="wrap"===t.style.flexWrap,m=[],_=ae(Object(ne.getVisibleChildren)(t));try{for(_.s();!(v=_.n()).done;){var b=v.value;e(b);var O=le(b);if("absolute"!==b.style.position){var E,I=ae(oe);try{for(I.s();!(E=I.n()).done;){var S=E.value,C=se(t.style.flexDirection,S);if(y){if(C){var k="width"===S?"height":"width";m.push([(b.autoFitSize[S].size||0)+b.autoFitSize[S].padding+O[S],(b.autoFitSize[k].size||0)+b.autoFitSize[k].padding+O[k]])}}else{var T=C?ue:ce;null==b.autoFitSize[S].size&&b.autoFitSize[S].padding<=0&&T===ue&&(c[S]=!0),u[S]=T((b.autoFitSize[S].size||0)+b.autoFitSize[S].padding+O[S],u[S]||0)}}}catch(e){I.e(e)}finally{I.f()}}}}catch(e){_.e(e)}finally{_.f()}if(y){var A=0,P=0,w=0,D=0,R=se(t.style.flexDirection,"width")?"width":"height",M="width"===R?"height":"width";D=c[R]&&null!=t.style[R]?t.style[R]:m.reduce((function(e,t){return e+Object(ee.default)(t,1)[0]}),0);var j,x=ae(m);try{for(x.s();!(j=x.n()).done;){var L=Object(ee.default)(j.value,2),N=L[0],B=L[1];w=Math.max(w,B),N+A>D?(P+=w,w=B,A=N):A+=N}}catch(e){x.e(e)}finally{x.f()}P+=w,u[R]=A,u[M]=P}t instanceof r.Text&&(null!=t.autoFitSize.height.size&&c.height||Object.assign(t.autoFitSize.height,{size:t.style.lineHeight||t.style.fontSize||0,padding:g.height}),null!=t.autoFitSize.width.size&&c.width||Object.assign(t.autoFitSize.width,{size:re.default.getTextWidth(t.value,t.style.fontSize||14)+3,padding:g.width}));var F,V=ae(oe);try{for(V.s();!(F=V.n()).done;){var W=F.value;c[W]||null===u[W]?g[W]>0&&(t.autoFitSize[W].padding=g[W]):Object.assign(t.autoFitSize[W],{size:null!=u[W]?u[W]:null,padding:g[W]})}}catch(e){V.e(e)}finally{V.f()}},ve=function e(t){var n,a,i=Object(ne.getVisibleChildren)(t),o=ae(oe);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=se(t.style.flexDirection,s),u=t.autoFitSize[s].size,l=t.autoFitSize[s].padding;if(null!=u||l){u=u||0;var d,f=0,p=0,h=ae(i);try{for(h.s();!(d=h.n()).done;){var v=d.value,g=v.autoFitSize[s],y=g.size,m=g.margin,_=g.padding;"absolute"!==v.style.position&&(null!=y?f+=y+_+m:v.style.flex&&v.style.flex>0&&(p+=Number(v.style.flex)))}}catch(e){h.e(e)}finally{h.f()}var b,O=ae(i);try{for(O.s();!(b=O.n()).done;){var E=b.value,I=Me(De(E)),S=null;c?S=E.style.flex?(u-f)/ce(p,1)*E.style.flex:null:t.style.alignItems&&"stretch"!==t.style.alignItems||(S=u),null==E.autoFitSize[s].size&&S?pe(E,S,s,I,!1,l):"absolute"===(null===(n=I.position)||void 0===n?void 0:n[1])&&pe(E,u,s,I,!1,l)}}catch(e){O.e(e)}finally{O.f()}}}}catch(e){o.e(e)}finally{o.f()}var C,k=ae(i);try{for(k.s();!(C=k.n()).done;){e(C.value)}}catch(e){k.e(e)}finally{k.f()}var T,A=ae(oe);try{for(A.s();!(T=A.n()).done;){var P=T.value,w=t.autoFitSize[P],D=w.size,R=w.padding;null!=D&&t.style[P]!==D+R&&(t.style[P]=D+R)}}catch(e){A.e(e)}finally{A.f()}t instanceof r.Text&&null==t.style.lineHeight&&(t.style.lineHeight=t.style.height)},ge=function(e,t){for(var n=e.autoFitSize.width.size,r=e.autoFitSize.height.size,a=0,i=Object.keys(t);a<i.length;a++){var o=i[a],s=t[o];"percent"===s[0]?"horizontal"===Ee[o]&&null!=n?e.style[o]=s[1]*n:"vertical"===Ee[o]&&null!=r&&(e.style[o]=s[1]*r):"normal"===s[0]&&(e.style[o]=s[1])}t.transform&&"transform"===t.transform[0]&&(e.style.left=fe(t.transform[1][0],n||0,e.style.left||0),e.style.top=fe(t.transform[1][1],r||0,e.style.top||0)),!e.style.lineHeight&&e.parent&&e.parent.style.lineHeight&&(e.style.lineHeight=e.parent.style.lineHeight)},ye=function e(t){var n,r,a=[["width","left"],["height","top"]],i=ae(Object(ne.getVisibleChildren)(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e(o);var s,c=ae(a);try{for(c.s();!(s=c.n()).done;){var u=Object(ee.default)(s.value,2),l=u[0],d=u[1];if((o.style.position||(null===(n=o.expandAbsoluteSize)||void 0===n?void 0:n.has(l)))&&"hidden"!==t.style.overflow){var f=(o.style[l]||0)+(o.style[d]||0);f>(t.style[l]||0)&&(t.style[l]=f,t.expandAbsoluteSize=t.expandAbsoluteSize||new Set,t.expandAbsoluteSize.add(l))}}}catch(e){c.e(e)}finally{c.f()}}}catch(e){i.e(e)}finally{i.f()}},me=function(e){he(e),ve(e),ye(e)};function _e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Oe=function(e){return Number(e).toString()===e},Ee={left:"horizontal",right:"horizontal",marginLeft:"horizontal",marginRight:"horizontal",paddingLeft:"horizontal",paddingRight:"horizontal",marginTop:"horizontal",marginBottom:"horizontal",paddingTop:"horizontal",paddingBottom:"horizonta",borderRadius:"horizontal",top:"vertical",bottom:"vertical"},Ie=/^\s*#[0-9a-fA-F]{3}\s*$/,Se=/^\s*#[0-9a-fA-F]{3,6}\s*$/,Ce=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,ke=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,Te=/px$/,Ae=function(e){return"number"==typeof e?e:Te.test(e)?Number(e.replace(Te,""))||0:Oe(e)?parseInt(e,10):e},Pe=function(e){if("string"==typeof e&&Ie.test(e)){var t=e.slice(1),n=Object(ee.default)(t,3),r=n[0],a=n[1],i=n[2];return"#"+r+r+a+a+i+i}return e},we=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=e[i];if(["padding","margin"].includes(i)){var s,c=Array.isArray(o)?o:(null==o?"":o).toString().split(/\s+/),u=null,l=null,d=null,f=null;switch(c.length){case 0:continue;case 1:var p=Object(ee.default)(c,1);u=p[0];var h=Object(ee.default)(c,1);l=h[0];var v=Object(ee.default)(c,1);d=v[0];var g=Object(ee.default)(c,1);f=g[0];break;case 2:var y=Object(ee.default)(c,2);u=y[0],l=y[1];var m=Object(ee.default)(c,2);d=m[0],f=m[1];break;case 3:var _=Object(ee.default)(c,3);u=_[0],l=_[1],d=_[2],f=l;break;case 4:var b=Object(ee.default)(c,4);u=b[0],f=b[1],d=b[2],l=b[3];break;default:continue}Object.assign(t,(s={},Object(a.default)(s,i+"Top",Ae(u)),Object(a.default)(s,i+"Left",Ae(l)),Object(a.default)(s,i+"Bottom",Ae(d)),Object(a.default)(s,i+"Right",Ae(f)),s))}else if("border"===i){var O=(o||"").toString().split(/\s+/);switch(O.length){case 0:continue;case 1:t.borderColor=Pe(O[0]);continue;case 2:t.borderWidth=Ae(O[0]),t.borderColor=Pe(O[1]);continue;case 3:t.borderWidth=Ae(O[0]),t.borderColor=Pe(O[2]);continue;default:continue}}else if("background"===i&&Se.test(e[i]))t.backgroundColor=Pe(e[i]);else if("background"===i&&(Ce.test(e[i])||ke.test(e[i])))t.backgroundColor=e[i];else if("background"===i&&e[i].includes("linear-gradient"))t.backgroundColor=e[i];else if("color"===i&&"string"==typeof o&&ke.test(o)){var E=ke.exec(o).slice(1,5).map((function(e){return Number(e)})),I=Object(ee.default)(E,4),S=I[0],C=I[1],k=I[2],T=I[3],A=function(e){return e.toString(16)};t.color="#"+A(S)+A(C)+A(k),null==e.opacity&&(t.opacity=Number(T))}else if("display"===i&&"none"===e[i])t.hidden=!0;else if("rotate"===i){var P=e[i];t.rotate="string"==typeof P?Number(P.replace("deg",""))||0:P}else t[i]=Pe(Ae(e[i]))}return t},De=function(e){var t=I(e.referComponent);if(!t)return Object.assign({},e.style||{});var n,r={},a=t.style||{},i=_e(e.classList||[]);try{for(i.s();!(n=i.n()).done;){var o=n.value;Object.assign(r,we(a[o])),Object.assign(r,we(a["."+o]))}}catch(e){i.e(e)}finally{i.f()}return a[e.name]&&Object.assign(r,we(a[e.name])),e.name&&t._manualStyle[e.name]&&Object.assign(r,we(t._manualStyle[e.name])),r},Re={percent:/^-?[1-9]\d*(\.\d+)?%$/,translate:/translate\(\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*,\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*\)/},Me=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],i=e[a];if(null!=i){var o=i.toString().trim();if((Ee[a]||["width","height"].includes(a))&&Re.percent.test(o)){var s=parseFloat(o.slice(0,-1))/100;t[a]=["percent",s]}else if(Oe(o))t[a]=["digit",Number(o)];else if("transform"===a&&o.includes("translate")){var c=Re.translate.exec(o);c&&(t[a]=["transform",c.slice(1,3)])}else t[a]="string"==typeof i?["normal",o]:["normal",i]}}return t},je=r.webviewLayout},function(e,t,n){n.r(t);var r=n(9),a={},i={lastShareTicket:null,get:function(e){return a[e]},set:function(e,t){var n=Object(r.guid)();return a[n]={shareKey:e,shareName:t},n}};t.default=i},function(e,t,n){n.r(t),n.d(t,"onAppEnterBackground",(function(){return s}));var r=n(0),a=n(23),i=n(18),o=Object(i.getEventManager)("AppEnterBackground"),s=o.internalOnMethod;Object(a.onNativeEvent)("onAppEnterBackground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.emit(e),Object(r.publish)("onAppEnterBackground",e)}))},function(e,t,n){n.r(t),n.d(t,"_fs",(function(){return w})),n.d(t,"getOpenDataDir",(function(){return N}));var r,a=n(28),i=n(69),o=n(116),s=n(96),c=n(0),u=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],l=n(50),d=n(1),f=n(2),p=f.IS_DEVTOOLS?"http://":"wxfile://",h=[],v=!1;f.IS_IOS?r=new RegExp("^"+p+"tmp_"):f.IS_ANDROID&&(r=new RegExp("^tmp_")),d.default.onReady((function(){f.IS_ANDROID||f.IS_IOS?Object(c.invokeMethod)("readdir",{dirPath:p,success:function(e){var t=e.files||[];h=t.filter((function(e){return r.test(e)})),v=!0}}):v=!0}));var g=function(e,t){if(/^wxfile:\/\/(tmp\/?)?$/.test(t)){var n=l.FakeTempFilePathMap.get();e.files=e.files.filter((function(e){return new RegExp("^"+t).test(e)||(e=""+t+e),-1===n.indexOf(e)})).filter((function(e){return v?-1===h.indexOf(e):!r.test(e)}))}};var y=n(8),m=n(11),_=function(){function e(t){var n=t.mode,r=t.size,a=t.lastAccessedTime,i=t.lastModifiedTime;Object(y.default)(this,e),this.mode=n,this.size=r,this.lastAccessedTime=a,this.lastModifiedTime=i}return Object(m.default)(e,[{key:"_checkModeProperty",value:function(e){return(61440&this.mode)===e}},{key:"isDirectory",value:function(){return this._checkModeProperty(16384)}},{key:"isFile",value:function(){return this._checkModeProperty(32768)}}]),e}(),b=function(e,t){var n=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((function(t){n=n&&void 0!==e[t]})),n)e.stats=new _(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new _(e.stats[""]);else{var r=[],a=e.stats;f.IS_ANDROID&&(a=e,r.push({path:"/",stats:O(t)})),Object.keys(a).forEach((function(e){if("errMsg"!==e){var t=a[e];""===e&&(e="/"),r.push({path:e,stats:new _(t)}),delete a[e]}})),e.stats=r}},O=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new Error("path must be a string");if(Object(c.invokeMethod)("statSync",{path:e,recursive:r,success:function(n){b(n,e),t=n.stats},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return t},E=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],I=n(9),S=n(4),C=n(14),k=n(46);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(C.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=n(10),w={saveFile:i.saveFile,saveFileSync:i.saveFileSync,getSavedFileList:i.getSavedFileList,getSavedFileInfo:i.getSavedFileInfo,removeSavedFile:i.removeSavedFile,getFileInfo:o.getFileInfo,readFile:s.readFile,readFileSync:s.readFileSync,writeFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("writeFile",e,{filePath:""})&&(e.encoding&&-1===u.indexOf(e.encoding)?Object(c.beforeInvokeFail)("writeFile",e,'invalid encoding "'+e.encoding+'"'):Object(c.invokeMethod)("writeFile",e,{}))},writeFileSync:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===u.indexOf(n))throw new Error('invalid encoding "'+n+'"');var r;if(Object(c.invokeMethod)("writeFileSync",{filePath:e,data:t,encoding:n,fail:function(e){r=e.errMsg}}),r)throw new Error(r)},mkdir:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("mkdir",e,{dirPath:""})&&Object(c.invokeMethod)("mkdir",e)},mkdirSync:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");if(Object(c.invokeMethod)("mkdirSync",{dirPath:e,recursive:n,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},rmdir:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("rmdir",e,{dirPath:""})&&Object(c.invokeMethod)("rmdir",e)},rmdirSync:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");if(Object(c.invokeMethod)("rmdirSync",{dirPath:e,recursive:n,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},readdir:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("readdir",e,{dirPath:""})&&Object(c.invokeMethod)("readdir",e,{beforeSuccess:function(t){g(t,e.dirPath)}})},readdirSync:function(e){if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,n;if(Object(c.invokeMethod)("readdirSync",{dirPath:e,success:function(e){t=e.files},fail:function(e){n=e.errMsg}},{beforeSuccess:function(t){g(t,e)}}),n)throw new Error(n);return t},access:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("access",e,{path:""})&&Object(c.invokeMethod)("access",e)},accessSync:function(e){if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t;if(Object(c.invokeMethod)("accessSync",{path:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},unlink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("unlink",e,{filePath:""})&&Object(c.invokeMethod)("unlink",e)},unlinkSync:function(e){if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t;if(Object(c.invokeMethod)("unlinkSync",{filePath:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},stat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("stat",e,{path:""})&&Object(c.invokeMethod)("stat",e,{beforeSuccess:function(t){b(t,e.path)}})},statSync:O,unzip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("unzip",e,{zipFilePath:""})&&Object(c.invokeMethod)("unzip",Object.assign({},e,{targetDirectory:e.targetPath}))},copyFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("copyFile",e,{srcPath:"",destPath:""})&&Object(c.invokeMethod)("fs_copyFile",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},copyFileSync:function(e,t){if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var n;if(Object(c.invokeMethod)("fs_copyFileSync",{srcPath:e,destPath:t,fail:function(e){n=e.errMsg.replace(/^fs_/,"")}}),n)throw new Error(n)},rename:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("rename",e,{oldPath:"",newPath:""})&&Object(c.invokeMethod)("fs_rename",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:function(e,t){if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var n;if(Object(c.invokeMethod)("fs_renameSync",{oldPath:e,newPath:t,fail:function(e){n=e.errMsg.replace(/^fs_/,"")}}),n)throw new Error(n)},appendFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("appendFile",e,{filePath:""})&&(e.encoding&&-1===u.indexOf(e.encoding)?Object(c.beforeInvokeFail)("appendFile",e,'invalid encoding "'+e.encoding+'"'):Object(c.invokeMethod)("fs_appendFile",e,{}))},appendFileSync:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===u.indexOf(n))throw new Error('invalid encoding "'+n+'"');var r;if(Object(c.invokeMethod)("fs_appendFileSync",{filePath:e,data:t,encoding:n,fail:function(e){r=e.errMsg}}),r)throw new Error(r)},open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);Object(c.beforeInvoke)("open",e,{filePath:""})&&(void 0===e.flag||E.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),Object(c.invokeMethod)("open",t)):Object(c.beforeInvokeFail)("open",e,'invalid flag "'+e.flag+'"'))},openSync:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.filePath,a=n.flag;if(!r||"string"!=typeof r)throw new TypeError("filePath must be a string");if(void 0!==a&&!E.includes(a))throw new I.ThirdScriptError("invalid flag: "+a);if(void 0===a&&(a="r"),Object(c.invokeMethod)("openSync",{filePath:r,flag:a,fail:function(e){t=e.errMsg},success:function(t){e=t.fd}}),t)throw new Error(t);return e},close:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("close",e,{fd:""})&&Object(c.invokeMethod)("close",e)},closeSync:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fd;if(!n||"string"!=typeof n)throw new TypeError("fd must be a string");if(Object(c.invokeMethod)("closeSync",{fd:n,fail:function(t){e=t.errMsg}}),e)throw new Error(e)},fstat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("fstat",e,{fd:""})&&Object(c.invokeMethod)("fstat",e,{beforeSuccess:function(e){var t=e.mode,n=e.size,r=e.lastAccessedTime,a=e.lastModifiedTime;r>1617e9&&(r=Math.floor(r/1e3)),a>1617e9&&(a=Math.floor(a/1e3)),e.stats=new _({mode:t,size:n,lastAccessedTime:r,lastModifiedTime:a}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.fd;if(!r||"string"!=typeof r)throw new TypeError("fd must be a string");if(Object(c.invokeMethod)("fstatSync",{fd:r,fail:function(e){t=e.errMsg},success:function(t){var n=t.mode,r=t.size,a=t.lastAccessedTime,i=t.lastModifiedTime;a>1617e9&&(a=Math.floor(a/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),e=new _({mode:n,size:r,lastAccessedTime:a,lastModifiedTime:i})}}),t)throw new Error(t);return e},write:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);if(Object(c.beforeInvoke)("write",t,{fd:""}))if(t.encoding&&-1===u.indexOf(t.encoding))Object(c.beforeInvokeFail)("write",t,'invalid encoding "'+t.encoding+'"');else{if(Object(S.isArrayBuffer)(t.data)){if(t.data.byteLength>10485760)return void Object(c.beforeInvokeFail)("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!Object(S.isString)(t.data))return void Object(c.beforeInvokeFail)("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),Object(c.invokeMethod)("write",t)}},writeSync:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.fd,a=n.data,i=n.offset,o=n.length,s=n.encoding,l=n.position;if(!r||"string"!=typeof r)throw new TypeError("fd must be a string");if(s&&-1===u.indexOf(s))throw new I.ThirdScriptError('invalid encoding "'+s+'"');if(Object(S.isArrayBuffer)(a)){if(a.byteLength>10485760)throw new I.ThirdScriptError("ArrayBuffer exceed size limit (10M)");("number"!=typeof i||i<0)&&(i=0),("number"!=typeof o||o<0)&&(o=a.byteLength-i)}else if(!Object(S.isString)(a))throw new TypeError("data must be a string or ArrayBuffer");if("number"!=typeof l&&(l=void 0),Object(c.invokeMethod)("writeSync",{fd:r,data:a,offset:i,length:o,encoding:s,position:l,fail:function(t){e=t.errMsg},success:function(e){t={bytesWritten:e.bytesWritten}}}),e)throw new Error(e);return t},read:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(c.beforeInvoke)("read",e,{fd:""}))if(Object(S.isArrayBuffer)(e.arrayBuffer)){var t=Object.assign({},e);f.IS_IOS&&k.default&&k.default.trace&&(t.arrayBufferId=k.default.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),Object(S.isNumber)(t.position)&&t.position<0?t.position=0:Object(S.isUndefined)(t.position)||Object(S.isNull)(t.position)?t.position=null:Object(S.isNumber)(t.position)||(t.position=0);var n=Number(t.length);Number.isNaN(n)?t.length=0:t.length=n;var r=Number(t.offset);Number.isNaN(r)?t.offset=0:t.offset=r,Object(c.invokeMethod)("read",t,{beforeSuccess:function(t){t.arrayBuffer=e.arrayBuffer},afterAll:function(){f.IS_IOS&&k.default&&k.default.untrace&&k.default.untrace(t.arrayBufferId)}})}else Object(c.beforeInvokeFail)("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fd,n=e.arrayBuffer;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!Object(S.isArrayBuffer)(n))throw new TypeError("arrayBuffer must be an ArrayBuffer");var r=Object.assign({},e);f.IS_IOS&&k.default&&k.default.trace&&(r.arrayBufferId=k.default.trace(r.arrayBuffer,"rw"),delete r.arrayBuffer),Object(S.isNumber)(r.position)&&r.position<0?r.position=0:Object(S.isUndefined)(r.position)||Object(S.isNull)(r.position)?r.position=null:Object(S.isNumber)(r.position)||(r.position=0);var a=Number(r.length);Number.isNaN(a)?r.length=0:r.length=a;var i,o,s=Number(r.offset);if(Number.isNaN(s)?r.offset=0:r.offset=s,Object(c.invokeMethod)("readSync",A(A({},r),{},{fail:function(e){o=e.errMsg},success:function(e){i={bytesRead:e.bytesRead,arrayBuffer:n}}})),f.IS_IOS&&k.default&&k.default.untrace&&k.default.untrace(r.arrayBufferId),o)throw new Error(o);return i},truncate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),Object(c.invokeMethod)("truncate",e,{}))},truncateSync:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.filePath,r=t.length;if(!n||"string"!=typeof n)throw new Error("filePath must be a string");if("number"!=typeof r&&(r=0),(r=Math.floor(r))<0&&(r=0),Object(c.invokeMethod)("truncateSync",{filePath:n,length:r,fail:function(t){e=t.errMsg}}),e)throw new Error(e)},ftruncate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(c.beforeInvoke)("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),Object(c.invokeMethod)("ftruncate",e))},ftruncateSync:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fd,r=t.length;if(!n||"string"!=typeof n)throw new Error("fd must be a string");if("number"!=typeof r&&(r=0),(r=Math.floor(r))<0&&(r=0),Object(c.invokeMethod)("ftruncateSync",{fd:n,length:r,fail:function(t){e=t.errMsg}}),e)throw new Error(e)}},D="",R="";d.default.onReady((function(){try{D=d.default.env.USER_DATA_PATH,R=d.default.env.OPEN_DATA_PATH,delete d.default.env.OPEN_DATA_PATH}catch(e){}}));var M={saveFile:["filePath"],saveFileSync:[1],readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0]},j=function(e){"string"==typeof e&&e.startsWith(D+"/__plugins__")&&Reporter.reportKeyValue({key:"Error",value:[1,"FrameworkError","Warning: MiniProgram is using reserved plugin path",e,__libVersionInfo__.version,0,"","",__libVersionInfo__.updateTime,"",0,"",0].map(encodeURIComponent).join(",")})},x=function(e,t){return"string"!=typeof e||!e.startsWith("wxfile://ad")&&((!Object(P.isSinglePageMode)()||!e.startsWith("wxfile://usr")&&!e.startsWith("http://usr"))&&!e.startsWith("opendata"===t?D:R))},L=function(e){var t={};return Object.keys(w).forEach((function(n){var r=w[n];t[n]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(!M[n])return r.apply(void 0,Object(a.default)(i));M[n].forEach((function(e){var t=n.endsWith("Sync")?i:i[0];j(t[e])}));var s=M[n].every((function(t){var r=n.endsWith("Sync")?i:i[0];return x(r[t],e)}));if(s)return r.apply(void 0,Object(a.default)(i));if(n.endsWith("Sync"))throw new Error(n+":fail permission denied");i=i[0]||{},Object(c.beforeInvokeFail)(n,i,"permission denied")}})),t};t.default={app:L("app"),game:L("game"),opendata:L("opendata")};function N(){return R}},function(e,t,n){n.r(t),n.d(t,"SDKVersion",(function(){return r}));var r="undefined"==typeof __libVersionInfo__||"develop"===__libVersionInfo__.version?"9.9.9":__libVersionInfo__.version},function(e,t,n){n.r(t),n.d(t,"saveFile",(function(){return a})),n.d(t,"saveFileSync",(function(){return i})),n.d(t,"getSavedFileList",(function(){return s})),n.d(t,"getSavedFileInfo",(function(){return c})),n.d(t,"removeSavedFile",(function(){return u})),n.d(t,"openDocument",(function(){return o}));var r=n(0),a=function(e){Object(r.beforeInvoke)("saveFile",e,{tempFilePath:""})&&Object(r.invokeMethod)("saveFile",e)},i=function(e,t){if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var n,a;if(Object(r.invokeMethod)("saveFileSync",{tempFilePath:e,filePath:t,success:function(e){a=e.savedFilePath},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return a},o=function(e){Object(r.beforeInvoke)("openDocument",e,{filePath:""})&&(e.showMenu=e.showMenu||!1,Object(r.invokeMethod)("openDocument",e))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.invokeMethod)("getSavedFileList",e)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.beforeInvoke)("getSavedFileInfo",e,{filePath:""})&&Object(r.invokeMethod)("getSavedFileInfo",e)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.beforeInvoke)("removeSavedFile",e,{filePath:""})&&Object(r.invokeMethod)("removeSavedFile",e)}},function(e,t,n){n.r(t),n.d(t,"checkNeedAppEnterForegroundPatch",(function(){return o})),n.d(t,"checkNeedInsertImageViewPatch",(function(){return s})),n.d(t,"checkNeedPreserveDrawingBufferPatch",(function(){return c}));var r,a=n(1),i=n(2),o=(r=!1,(i.IS_IOS||i.IS_ANDROID&&a.default.clientVersion>=637865520)&&(r=!0),function(){return r}),s=function(){var e=!1;return i.IS_IOS&&a.default.clientVersion>=385877248&&(e=!0),function(){return e}}(),c=function(){var e=!1;return i.IS_IOS&&a.default.clientVersion>=385878314&&(e=!0),function(){return e}}()},function(e,t,n){n.r(t),n.d(t,"generateFunctionalPagePath",(function(){return u})),n.d(t,"isFunctionalPagePath",(function(){return l})),n.d(t,"parseCompletePath",(function(){return f})),n.d(t,"getFunctionalPageEnterParams",(function(){return p})),n.d(t,"getFunctionalPageEnterParamsString",(function(){return h})),n.d(t,"generateShareDataFromFunctionalPage",(function(){return v})),n.d(t,"mapPageTypeToCardSubType",(function(){return g})),n.d(t,"isAtFunctionalPage",(function(){return y})),n.d(t,"generateGameIndexPath",(function(){return _}));var r=n(14),a=n(13),i=n(95),o={},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return o[e]},c=n(43);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageType,n=void 0===t?"":t,r=e.query,i="";return"string"==typeof r?i=r:r&&"object"===Object(a.default)(r)&&(i=m(r)),c.PREFIX+"/"+n+"?"+i.replace(/^\?/,"")}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new RegExp("^"+c.PREFIX+"/("+d()+")").test(e)}function d(){return Object.keys(c.PAGE_TYPE).map((function(e){return c.PAGE_TYPE[e]})).join("|")}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.indexOf("?"),n="",r="";t>=0?(n=e.slice(0,t),r=e.slice(t+1)):n=e;var a=new RegExp("^"+c.PREFIX+"/("+d()+")"),i=e.match(a),o="";return i&&(o=i[1]),{path:n,query:r,functionalPageType:o,isFunctionalPage:!!o}}function p(){var e=Object(i._getEnterOptionsSync)().referrerInfo,t=e&&e.messageExtraData,n={};return"object"===Object(a.default)(t)&&null!==t&&(n=t),n}function h(){var e=Object(i._getEnterOptionsSync)().referrerInfo,t=e&&e.messageExtraData,n="";return"object"===Object(a.default)(t)&&null!==t&&(n=JSON.stringify(t)),n}function v(e){var t={},n=s();if(n.pageType===c.PAGE_TYPE.PLAY_PAGE_IMAGE){var r=u({pageType:c.PAGE_TYPE.PLAY_PAGE_IMAGE,query:n.query});t={title:n.params.title||e.title,path:r,imageUrl:n.params.imageUrl||n.params.fileUrl,messageExtraData:Object.assign({},n.params,{pageType:c.PAGE_TYPE.PLAY_PAGE_IMAGE}),cardSubType:g(c.PAGE_TYPE.PLAY_PAGE_IMAGE)}}else if(n.pageType===c.PAGE_TYPE.PLAY_PAGE_VIDEO){var a=u({pageType:c.PAGE_TYPE.PLAY_PAGE_VIDEO,query:n.query});t={title:n.params.title||e.title,path:a,imageUrl:n.params.thumbUrl,messageExtraData:Object.assign({},n.params,{pageType:c.PAGE_TYPE.PLAY_PAGE_VIDEO}),cardSubType:g(c.PAGE_TYPE.PLAY_PAGE_VIDEO)}}return t}function g(e){var t;return(t={},Object(r.default)(t,c.PAGE_TYPE.PLAY_PAGE_IMAGE,0),Object(r.default)(t,c.PAGE_TYPE.PLAY_PAGE_VIDEO,1),t)[e]}function y(){return!!s()}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).reduce((function(t,n){return""+t+n+"="+e[n]+"&"}),"");return t=t.replace(/&$/,"")}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"index.html",n="";"string"==typeof e?n=e:e&&"object"===Object(a.default)(e)&&(n=m(e));var r=t+"?"+n;return r}},function(e,t,n){n.r(t),n.d(t,"WebView",(function(){return b})),n.d(t,"getWebViewIdList",(function(){return O}));var r=n(28),a=n(8),i=n(11),o=n(22),s=n(15),c=n(16),u=n(7),l=n(45),d=n(0),f=n(23),p=n(1);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.default)(e);if(t){var a=Object(u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.default)(this,n)}}var v=new Map,g=new WeakMap,y=new WeakMap,m=new WeakMap;function _(e){var t=this;return new Promise((function(n,r){var a=y.get(t);Object(d.invokeMethod)("insertHTMLWebView",{htmlId:t.id,position:a,src:g.get(t),zIndex:m.get(t),backgroundColor:a.backgroundColor,__skipDomainCheck__:e,success:n,fail:r})}))}var b=function(e){Object(s.default)(n,e);var t=h(n);function n(e){var r,i=e.src,s=e.zIndex,c=e.style,u=void 0===c?{}:c,l=e.__skipDomainCheck__;return Object(a.default)(this,n),r=t.call(this,{style:u}),v.set(r.id,Object(o.default)(r)),g.set(Object(o.default)(r),i),y.set(Object(o.default)(r),u),m.set(Object(o.default)(r),s),_.call(Object(o.default)(r),l),r}return Object(i.default)(n,[{key:"src",get:function(){return g.get(this)},set:function(e){g.set(this,e),Object(d.invokeMethod)("updateHTMLWebView",{htmlId:this.id,src:e})}},{key:"style",get:function(){return y.get(this)},set:function(e){this.style||y.set(this,{});var t=Object.assign(this.style,e);Object(d.invokeMethod)("updateHTMLWebView",{htmlId:this.id,position:t,backgroundColor:t.backgroundColor})}},{key:"zIndex",get:function(){return m.get(this)},set:function(e){m.set(this,e),Object(d.invokeMethod)("updateHTMLWebView",{htmlId:this.id,zIndex:e})}},{key:"destroy",value:function(){v.delete(this.id),Object(d.invokeMethod)("removeHTMLWebView",{htmlId:this.id})}}]),n}(l.Element);function O(){return Object(r.default)(v.keys())}function E(e){var t=e.htmlId,n=v.get(t);n&&n.onload&&setTimeout(n.onload)}function I(e){var t=e.name,n=e.arg,r=e.htmlId;"postMessage"===t&&v.forEach((function(e,t){var a=e.onmessage;r&&r!==t||a&&setTimeout((function(){return a(n)}))}))}p.default.onReady((function(){4===p.default.appType&&(Object(f.onNativeEvent)("onWebviewFinishLoad",E),Object(f.onNativeEvent)("onWebInvokeAppService",I),Object(f.onNativeEvent)("WEB_INVOKE_APPSERVICE",I))}))},function(e,t,n){n.r(t),n.d(t,"LOG_LIMIT",(function(){return r})),n.d(t,"AppStatus",(function(){return a})),n.d(t,"BackgroudAPIBlackList",(function(){return i})),n.d(t,"NotActiveAPIBlackList",(function(){return o}));var r=1024,a={FORE_GROUND:0,BACK_GROUND:1,LOCK:2},i=[],o=[]},function(e,t,n){n.r(t),n.d(t,"onShow",(function(){return v})),n.d(t,"offShow",(function(){return g})),n.d(t,"_onShow",(function(){return y})),n.d(t,"_offShow",(function(){return m})),n.d(t,"emitGameOnshow",(function(){return O})),n.d(t,"_onBaseFrameShow",(function(){return _})),n.d(t,"_offBaseFrameShow",(function(){return b}));var r=n(13),a=n(58),i=n(18),o=n(1),s=n(87),c=n(2),u=n(23),l=n(92),d=n(71),f=n(4),p=Object(i.getEventManager)("Show"),h=Object(i.getEventManager)("BaseFrameShow"),v=p.onMethod,g=p.offMethod,y=p.internalOnMethod,m=p.internalOffMethod,_=h.internalOnMethod,b=h.internalOffMethod;function O(e,t){e=e||Object(a.getLaunchOptionsSync)(),t=t||Object(a._getLaunchOptionsSync)(),Reporter.__query__=e.query,l.default.query=e.query,p.emitInternal(t),p.emitGlobal(e)}function E(e){wxNativeConsole.info("[emitBaseFrameOnShow]",e),h.emitInternal(e)}function I(e){var t=e.split("?")[1],n={};if(t)try{n=t.split("&").reduce((function(e,t){var n=t.split("="),r=n[0],a=n.slice(1).join("=");return e[r]=a,e}),{})}catch(e){n={}}return n}Object(u.onNativeEvent)("onAppEnterForeground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.path;c.IS_ANDROID&&Object(f.isObject)(e.query)&&Object.keys(e.query).length>0||t&&(e.query=I(t));var n=Object(a.formatLaunchInfo)(e),i=n.publicLaunchInfo,o=n.appLaunchInfo,u=o.shareInfo;E(o),setTimeout((function(){Object(d.isAtFunctionalPage)()||O(i,o),"object"===Object(r.default)(u)&&null!==u&&Object(s.showUpdatableMessageSubscribeButton)(u.shareKey)}),0)})),o.default.onReady((function(){var e=Object(a.getLaunchOptionsSync)(),t=Object(a._getLaunchOptionsSync)();Reporter.__query__=e.query,l.default.query=e.query,c.IS_DEVTOOLS||(E(t),setTimeout((function(){Object(d.isAtFunctionalPage)()||O(e,t)}),0))}))},function(e,t,n){n.r(t),n.d(t,"onAppShow",(function(){return c})),n.d(t,"offAppShow",(function(){return u})),n.d(t,"_onAppShow",(function(){return l})),n.d(t,"emitIsloatedAppShow",(function(){return d}));var r=n(48),a=n(18),i=n(107),o=n(40),s=Object(a.getEventManager)("AppShow"),c=s.onMethod,u=s.offMethod,l=s.internalOnMethod;function d(e){s.emitGlobal(e)}Object(r.onAppEnterForeground)((function(e){s.emitInternal(e)})),Object(o.onAppRoute)((function e(t){if("appLaunch"===t.openType){var n=Object(i._getLaunchOptionsSync)();s.emitInternal(n),Object(o.offAppRoute)(e)}}))},function(e,t,n){n.r(t),n.d(t,"getAdUxInfo",(function(){return u}));var r=n(23),a=n(1),i=n(99),o=n(101),s="",c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{s=e.transitExtraData.adUxInfo}catch(e){s=""}};"undefined"!=typeof __safeway__&&(a.default.onReady((function(){c(a.default.appLaunchInfo)})),Object(r.onNativeEvent)("onAppEnterForeground",(function(e){c(e)})),Object(r.onNativeEvent)("onAppEnterBackground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"back"!==e.mode&&"close"!==e.mode||(s="")})),Object(o.subscribe)("getAdUxInfo",(function(e,t){Object(i.publish)("adUxInfoGot",{adUxInfo:s,callbackId:e.callbackId},[t])})));var u=function(){return s}},function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var r=n(89);function a(e,t){if(e){if("string"==typeof e)return Object(r.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.default)(e,t):void 0}}},function(e,t,n){function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"reportRecycledAPI",(function(){return a}));var r=n(5),a=function(e){var t,n=e.name,a=e.scene,i=e.strategy,o=e.timeDiffToLastTap,s=void 0===o?0:o;"undefined"!=typeof __appServiceEngine__&&(t=__appServiceEngine__.getCurrentPagesByDomain("").find((function(e){return e.__wxWebviewId__===r.default.currentWebviewId}))||{});var c=[n,a,Reporter.getAppType(),t?t.route:"",i||0,s].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"RecycledAPI",value:c})}},function(e,t,n){n.r(t),n.d(t,"_getABTestConfig",(function(){return i})),n.d(t,"getABTestConfig",(function(){return o}));var r=n(1),a=n(0),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.invokeMethod)("getABTestConfig",e)},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};7===r.default.appType?Object(a.invokeMethod)("getABTestConfig",e):Object(a.beforeInvokeFail)("getABTestConfig",e,"permission denied",1)}},function(e,t,n){var r,a,i,o,s,c,u,l,d;n.r(t),n.d(t,"COMMON_EVENT",(function(){return r})),n.d(t,"ROOT_EVENT",(function(){return a})),n.d(t,"BUTTON_EVENT",(function(){return i})),n.d(t,"TEXT_EVENT",(function(){return o})),n.d(t,"VIDEO_EVENT",(function(){return s})),n.d(t,"FEEDBACK_EVENT",(function(){return c})),n.d(t,"ENDPAGE_EVENT",(function(){return u})),n.d(t,"CAROUSEL_EVENT",(function(){return l})),n.d(t,"REWARDEDVIDEO_EVENT",(function(){return d})),function(e){e.TAP="tap",e.ANIMATIONEND="animationend"}(r||(r={})),function(e){e.APPENTERFOREGROUND="appEnterForeground",e.APPENTERBACKGROUND="appEnterBackground",e.CONTAINERTAP="containerTap",e.ADBUTTONTAP="adButtonTap",e.VIEWABLEEXPOSURE="viewableExposure",e.EXPOSURE="exposure",e.SHOWHALF="showhalf",e.HIDEHALF="hidehalf",e.SPLASHADFIRSTRENDER="splashAdFirstRender",e.SPLASHADMENUVIEW="splashAdMenuView"}(a||(a={})),function(e){e.BUTTONTAP="buttonTap"}(i||(i={})),function(e){e.RELATIONFETCHED="relationFetched"}(o||(o={})),function(e){e.VIDEOENDED="videoEnded",e.VIDEOPAUSE="videoPause",e.VIDEOPLAY="videoPlay",e.VIDEOTIMEUPDATE="videoTimeUpdate",e.MUTEDCHANGE="mutedChange",e.VIDEOLOADEDMETADATA="videoLoadedMetaData"}(s||(s={})),function(e){e.FEEDBACKBTNTAP="feedbackBtnTap",e.TAGTAP="tagTap",e.DISLIKETAP="dislikeTap",e.DISLIKEREASONTAP="dislikeReasonTap"}(c||(c={})),function(e){e.REPLAY="replay",e.SHOW="show",e.HIDE="hide",e.VIDEODISLIKE="videodislike"}(u||(u={})),function(e){e.SHOWCHANGE="showChange",e.UNITTAP="unitTap"}(l||(l={})),function(e){e.REWARDEDVIDEOPLAY="rewardedVideoPlay",e.REWARDEDVIDEOEND="rewardedVideoEnd",e.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",e.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",e.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone"}(d||(d={}))},function(e,t,n){n.r(t),n.d(t,"login",(function(){return cn})),n.d(t,"logout",(function(){return ln})),n.d(t,"checkSession",(function(){return un})),n.d(t,"authorize",(function(){return pn})),n.d(t,"_authorize",(function(){return hn})),n.d(t,"getUserInfo",(function(){return vn})),n.d(t,"getUserProfile",(function(){return gn})),n.d(t,"_getNativeUserInfo",(function(){return yn})),n.d(t,"chooseAddress",(function(){return mn})),n.d(t,"_chooseAddressForPlugin",(function(){return _n})),n.d(t,"_requestPaymentForPlugin",(function(){return bn})),n.d(t,"getSetting",(function(){return Tn})),n.d(t,"transformGetSettingResponse",(function(){return kn})),n.d(t,"openSetting",(function(){return wn})),n.d(t,"_openSetting",(function(){return Pn})),n.d(t,"_openSettingForPlugin",(function(){return Dn})),n.d(t,"getWeRunData",(function(){return Rn})),n.d(t,"uploadWeRunData",(function(){return Mn})),n.d(t,"addWeRunData",(function(){return jn})),n.d(t,"chooseInvoiceTitle",(function(){return xn})),n.d(t,"operateWXData",(function(){return I.operateWXData})),n.d(t,"_operateWXData",(function(){return I._operateWXData})),n.d(t,"constructOperateWXData",(function(){return I.constructOperateWXData})),n.d(t,"_pluginOperateWXData",(function(){return I._pluginOperateWXData})),n.d(t,"getOpenDeviceId",(function(){return Ln})),n.d(t,"getUserGameLabel",(function(){return Nn})),n.d(t,"reportUserBehaviorBranchAnalytics",(function(){return Bn.reportUserBehaviorBranchAnalytics})),n.d(t,"reportUserBehaviorBranchAnalyticsForDebug",(function(){return Bn.reportUserBehaviorBranchAnalyticsForDebug})),n.d(t,"shareToWeRun",(function(){return Or})),n.d(t,"sendGroupMessage",(function(){return Er})),n.d(t,"reportGroupShare",(function(){return Ir})),n.d(t,"payment",(function(){return r})),n.d(t,"share",(function(){return a})),n.d(t,"card",(function(){return i})),n.d(t,"soter",(function(){return o})),n.d(t,"redPacket",(function(){return s})),n.d(t,"facialRecognition",(function(){return c})),n.d(t,"trafficCard",(function(){return u})),n.d(t,"favorites",(function(){return l})),n.d(t,"checkIsUserAdvisedToRest",(function(){return Cr})),n.d(t,"chooseInvoice",(function(){return Tr})),n.d(t,"faceVerifyForPay",(function(){return Ar})),n.d(t,"openOfficialAccountProfile",(function(){return Pr})),n.d(t,"openMiniProgramProfile",(function(){return wr})),n.d(t,"openUserProfile",(function(){return Dr})),n.d(t,"preventApplePayUI",(function(){return Rr})),n.d(t,"getWxSecData",(function(){return Mr})),n.d(t,"requestSubscribeMessage",(function(){return Vr})),n.d(t,"openMiniProgramSearch",(function(){return Hr})),n.d(t,"openMiniProgramHistoryList",(function(){return Yr})),n.d(t,"openMiniProgramStarList",(function(){return qr})),n.d(t,"batchGetContactDirectly",(function(){return Kr})),n.d(t,"preloadMiniProgramEnvDirectly",(function(){return zr})),n.d(t,"predownloadMiniProgramPackageDirectly",(function(){return Zr})),n.d(t,"requestBizSplitBillPayment",(function(){return Xr})),n.d(t,"getGroupEnterInfo",(function(){return ea}));var r={};n.r(r),n.d(r,"requestPayment",(function(){return z})),n.d(r,"verifyPaymentPassword",(function(){return ne})),n.d(r,"bindPaymentCard",(function(){return re})),n.d(r,"requestPaymentToBank",(function(){return ae})),n.d(r,"requestVirtualPayment",(function(){return ie})),n.d(r,"openOfflinePayView",(function(){return oe})),n.d(r,"openWCPayCardList",(function(){return se})),n.d(r,"requestMallPayment",(function(){return ce})),n.d(r,"setCurrentPaySpeech",(function(){return ue})),n.d(r,"loadPaySpeechDialectConfig",(function(){return le})),n.d(r,"requestJointPayment",(function(){return de})),n.d(r,"getWCPayOverseaPrepayRequest",(function(){return fe})),n.d(r,"requestH5Transaction",(function(){return pe})),n.d(r,"openWCPayOverseaPaymentReceive",(function(){return he})),n.d(r,"handleWCPayOverseaWalletBuffer",(function(){return ve})),n.d(r,"requestVerifyUserIdentity",(function(){return ge})),n.d(r,"openSelectPayment",(function(){return ye})),n.d(r,"requestEntrustAuthorization",(function(){return me})),n.d(r,"requestFacetoFacePayment",(function(){return _e})),n.d(r,"phoneBindCardVerifySms",(function(){return Oe})),n.d(r,"requestQueryCashier",(function(){return Ee})),n.d(r,"requestPersonalPay",(function(){return be})),n.d(r,"requestOrderPayment",(function(){return De}));var a={};n.r(a),n.d(a,"getShareInfo",(function(){return je})),n.d(a,"showShareMenu",(function(){return Le})),n.d(a,"hideShareMenu",(function(){return Ne})),n.d(a,"updateShareMenu",(function(){return We})),n.d(a,"showUpdatableMessageSubscribeButton",(function(){return Ge})),n.d(a,"shareAppMessageForFakeNative",(function(){return Ke})),n.d(a,"shareFileMessage",(function(){return Je})),n.d(a,"shareVideoMessage",(function(){return et})),n.d(a,"ShareInfoStorage",(function(){return Re.default})),n.d(a,"authPrivateMessage",(function(){return at})),n.d(a,"userShareMenuState",(function(){return xe})),n.d(a,"showShareImageMenu",(function(){return _t}));var i={};n.r(i),n.d(i,"addCard",(function(){return wt})),n.d(i,"openCard",(function(){return Dt}));var o={};n.r(o),n.d(o,"checkIsSupportSoterAuthentication",(function(){return Rt})),n.d(o,"startSoterAuthentication",(function(){return Mt})),n.d(o,"checkIsSoterEnrolledInDevice",(function(){return jt}));var s={};n.r(s),n.d(s,"openGoldenRedPacketDetail",(function(){return xt})),n.d(s,"sendGoldenRedPacket",(function(){return Lt})),n.d(s,"sendBizRedPacket",(function(){return Bt})),n.d(s,"sendRedPacket",(function(){return Ft})),n.d(s,"openRedPacket",(function(){return Vt})),n.d(s,"showRedPackage",(function(){return Ut}));var c={};n.r(c),n.d(c,"checkIsSupportFacialRecognition",(function(){return Gt})),n.d(c,"startFacialRecognitionVerify",(function(){return Yt})),n.d(c,"startCustomFacialRecognitionVerify",(function(){return qt})),n.d(c,"startFacialRecognitionVerifyAndUploadVideo",(function(){return Kt})),n.d(c,"startCustomFacialRecognitionVerifyAndUploadVideo",(function(){return zt}));var u={};n.r(u),n.d(u,"checkTrafficCardConditions",(function(){return Zt})),n.d(u,"queryTrafficCardInfo",(function(){return Xt})),n.d(u,"issueTrafficCard",(function(){return Jt})),n.d(u,"rechargeTrafficCard",(function(){return Qt})),n.d(u,"setDefaultTrafficCard",(function(){return $t}));var l={};n.r(l),n.d(l,"addFileToFavorites",(function(){return nn})),n.d(l,"addVideoToFavorites",(function(){return sn}));var d=n(86),f=n(12),p=n.n(f),h=n(14),v=n(33),g=n(0),y=n(38),m=n(41),_=n(1);function b(e){var t=_.default.accountInfo&&_.default.accountInfo.appId||"noAppId";Object(y.invokeWebviewMethod)("getRequestPaymentFromGlobalStorage",{appId:t},void 0,e)}function O(e,t){var n=_.default.accountInfo&&_.default.accountInfo.appId||"noAppId";e&&Object(y.invokeWebviewMethod)("setRequestPaymentToGlobalStorage",{requestPayment:e,appId:n},void 0,t)}var E=n(83),I=n(29),S=n(61),C=n(76),k=n(2),T=n(4),A=n(10),P=(n(8),n(11),n(34)),w=(n(24),Object(A.promisify)(Object(I.constructOperateWXData)(!1,"getSubjectalterInfo")),!1),D=500,R=!1,M=function(){return{shouldCheck:w,timeout:D,deprecated:R}},j=n(31),x=n(48);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B,F,V,W,U=0,G=1,H=2,Y=3,q=4,K=(Object(x.onAppEnterForeground)((function(e){B=+e.scene||0,F=e.scene_note||e.sceneNote||"",V=+e.prescene||0,W=e.prescene_note||e.presceneNote||""})),_.default.onReady((function(){var e;e=_.default.appLaunchInfo||{},B=e.scene||0,F=e.scene_note||e.sceneNote||"",V=e.prescene||0,W=e.prescene_note||e.presceneNote||""})),function(){return{scene:B,scene_note:F,prescene:V,prescene_note:W}}),z=Object(j.async2Invoke)("requestPayment",function(){var e=Object(v.default)(p.a.mark((function e(t){var n,r,a,i,o,s,c,u,l,d,f,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Object(T.paramCheck)(t,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""}))){e.next=3;break}throw new Error("parameter error: "+n);case 3:if(t=Object.assign({},t),r=M(),a=r.deprecated,i=!1,!(i="develop"===_.default.envVersion||"trial"===_.default.envVersion?_.default.usingShopPlugin||!1:M().shouldCheck||!1)){e.next=35;break}if(console.log("wx.requestPayment is deprecated for shop plugin. Please use wx.requestOrderPayment."),!a){e.next=11;break}throw new Error("deprecated for shop plugin");case 11:return o=U,s=t.ticket||"",e.prev=13,c=M().timeout||500,e.prev=15,e.next=18,Promise.race([Q(N({ticket:s,prepay_id:t.package.replace("prepay_id=","")},K())),$("timeout",c)]);case 18:u=e.sent,l=u.is_authorized,o=l?Y:q,e.next=29;break;case 24:e.prev=24,e.t0=e.catch(15),e.t0,wxNativeConsole.error("[paymentCheckTicket] fail",e.t0),o=e.t0&&"timeout"===e.t0.message?H:G;case 29:if(o!==q){e.next=31;break}throw new Error("check ticket rejected");case 31:return e.prev=31,ee({ticket:s,checkTicketStatus:o}),e.finish(31);case 35:return d=Ae.NONE,e.prev=36,e.next=39,te(t);case 39:return h=e.sent,d=Ae.SUCCESS,e.abrupt("return",h);case 44:throw e.prev=44,e.t1=e.catch(36),d=Ae.FAILED,f=e.t1.message,e.t1;case 49:return e.prev=49,i&&we({prepayId:(t.package||"").replace("prepay_id=",""),requestPaymentStatus:d,requestPaymentErrmsg:f}),e.finish(49);case 52:case"end":return e.stop()}}),e,null,[[13,,31,35],[15,24],[36,44,49,52]])})));return function(t){return e.apply(this,arguments)}}()),Z=function(){var e=Object(v.default)(p.a.mark((function e(){var t,n,r,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){b((function(t){var n=!1,r="",a=_.default&&_.default.appContactInfo&&_.default.appContactInfo.operationInfo&&_.default.appContactInfo.operationInfo.jsonInfo&&_.default.appContactInfo.operationInfo.jsonInfo.warning_info&&_.default.appContactInfo.operationInfo.jsonInfo.warning_info.jsapi_alter||[];a&&a.forEach((function(e){"requestPayment"===e.jsapi_name&&e.wording&&(n=!0,r=e.wording)})),e({time:t,isRistWarning:n,wording:r})}))}));case 2:if(t=e.sent,n=t.time,r=t.isRistWarning,a=t.wording,i=(+new Date-(n||0))/1e3/60,!(r&&i>30)){e.next=10;break}return e.next=10,new Promise((function(e,t){Object(m._showModal)({content:a,confirmText:"继续支付",cancelText:"取消",success:function(n){n.confirm?(O(+new Date),e()):t(new Error("cancel"))}})}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=Object(j.invoke2Async)(g.invokeMethod.bind(null,"requestPayment")),J=Object(j.invoke2Async)(I._operateWXData),Q=function(){var e=Object(v.default)(p.a.mark((function e(){var t,n,r,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,J({apiName:"webapi_openproductcheckticket",reqData:N({},t)});case 3:return n=e.sent,r=n.respData,e.abrupt("return",JSON.parse(r.data));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(e,t){return new Promise((function(n,r){return setTimeout((function(){return r(new Error(e))}),t)}))},ee=function(e){var t=e.ticket,n=e.checkTicketStatus,r=_.default.appLaunchInfo||{},a=K(),i=[r.sessionid||r.sessionId||"",a.scene,a.scene_note,a.prescene,a.prescene_note,n||0,t||""].join(",");Reporter.reportKeyValue({key:"RequestPaymentCheckTicket",value:i})},te=function(){var e=Object(v.default)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return n=Object(E.getPayCookieString)(),t.passCookies&&"string"==typeof t.passCookies?t.cookie=n?t.passCookies+";; "+n:t.passCookies:n?t.cookie=n:delete t.cookie,delete t.passCookies,r=Object(C.getAdUxInfo)(),e.next=8,X(N(N({adUxInfo:r},t),{},{grantMessageQuota:!0}));case 8:return a=e.sent,Object(I._operateWXData)({apiName:"webapi_reportpayrecord",reqData:{prepay_id:t.package.replace("prepay_id=","")}}),Object(y.invokeWebviewMethod)("reportPaymentFormId",{packageStr:t.package}),Object(S._setWxIsInvokeInTapForNavToMiniProgram)(),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){Object(g.invokeMethod)("verifyPaymentPassword",e)},re=function(e){Object(g.invokeMethod)("bindPaymentCard",e)},ae=function(e){Object(g.invokeMethod)("requestPaymentToBank",e)},ie=function(e){Object(g.invokeMethod)("requestVirtualPayment",e)},oe=function(e){Object(g.invokeMethod)("openOfflinePayView",e)},se=function(e){Object(g.invokeMethod)("openWCPayCardList",e)},ce=function(e){Object(g.invokeMethod)("requestMallPayment",e)},ue=function(e){Object(g.invokeMethod)("setCurrentPaySpeech",e)},le=function(e){Object(g.invokeMethod)("loadPaySpeechDialectConfig",e)},de=function(e){Object(g.invokeMethod)("requestJointPayment",e)},fe=function(e){Object(g.invokeMethod)("getWCPayOverseaPrepayRequest",e)},pe=function(e){Object(g.invokeMethod)("requestH5Transaction",e)},he=function(e){Object(g.invokeMethod)("openWCPayOverseaPaymentReceive",e)},ve=function(e){Object(g.invokeMethod)("handleWCPayOverseaWalletBuffer",e)},ge=function(e){Object(g.invokeMethod)("requestVerifyUserIdentity",e)},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openSelectPayment",e)},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("requestEntrustAuthorization",e)},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("requestFacetoFacePayment",e)},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("requestPersonalPay",e)},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k.IS_ANDROID&&Object(A.compareClientVersion)(_.default.clientVersion,"7.0.15")>=0||k.IS_IOS&&Object(A.compareClientVersion)(_.default.clientVersion,"7.0.13")>=0?Object(g.invokeMethod)("phoneBindCardVerifySms",e):Object(g.beforeInvokeFail)("phoneBindCardVerifySms",e,"not yet supported")},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.beforeInvoke)("requestQueryCashier",e,{timeStamp:0,nonceStr:"",package:"",signType:"",paySign:""})&&Object(g.invokeMethod)("requestQueryCashier",e)},Ie=0,Se=1,Ce=2,ke=3,Te=4,Ae={NONE:0,SUCCESS:1,FAILED:2},Pe=function(){var e=Object(v.default)(p.a.mark((function e(){var t,n,r,a,i,o,s,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.extUserUin,r=t.prepayId,a=t.orderInfo,i=_.default.appLaunchInfo||{},e.next=4,J({apiName:"webapi_openproductaddorder",reqData:{ext_info:N({ext_useruin:n,ext_appid:_.default.host&&_.default.host.appId,session_id:i.sessionid||i.sessionId||""},K()),prepay_id:r,order_info:a}});case 4:return o=e.sent,s=o.respData,e.abrupt("return",JSON.parse(s.data));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(v.default)(p.a.mark((function e(t){var n,r,a,i,o,s,c,u,l,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.extUserUin,r=t.addOrderStatus,a=t.requestPaymentStatus,i=t.requestPaymentErrmsg,o=t.prepayId,s=t.outOrderId,c=Object(P.getSystemInfoSync)(),u=_.default.appLaunchInfo||{},e.next=5,J({apiName:"webapi_openproductreportorder",reqData:{ext_info:N(N({ext_useruin:n,ext_appid:_.default.host&&_.default.host.appId,session_id:u.sessionid||u.sessionId||""},K()),{},{add_order_status:r,request_payment_status:a,request_payment_errmsg:i,model:c.model,brand:c.brand,version:c.version,system:c.system,platform:c.platform,sdk_version:c.SDKVersion}),prepay_id:o,order_info:{out_order_id:s}}});case 5:return l=e.sent,d=l.respData,e.abrupt("return",JSON.parse(d.data));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=Object(j.async2Invoke)("requestOrderPayment",Object(v.default)(p.a.mark((function e(){var t,n,r,a,i,o,s,c,u,l,f,h,v,g,y,m,_=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.length>0&&void 0!==_[0]?_[0]:{},!(n=Object(T.paramCheck)(t,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""}))){e.next=4;break}throw new Error("parameter error: "+n);case 4:return r=t.orderInfo,a=void 0===r?{}:r,i=t.extUserUin,o=Object(d.default)(t,["orderInfo","extUserUin"]),s=(t.package||"").replace("prepay_id=",""),c=M().timeout||500,u=(t.orderInfo||{}).out_order_id,l=Ie,h=Ae.NONE,e.prev=10,e.prev=11,e.next=14,Promise.race([Pe({extUserUin:i,prepayId:s,orderInfo:a}),$("timeout",c)]);case 14:g=e.sent,y=g.errcode,m=g.errmsg,l=0===y?Se:Te,f=m,e.next=26;break;case 22:e.prev=22,e.t0=e.catch(11),e.t0,l=e.t0&&"timeout"===e.t0.message?ke:Ce;case 26:if(l!==Te){e.next=28;break}throw new Error(f||"addOrder failed");case 28:return e.prev=28,e.next=31,te(o);case 31:h=Ae.SUCCESS,e.next=39;break;case 34:throw e.prev=34,e.t1=e.catch(28),v=e.t1.message||"unknown",h=Ae.FAILED,e.t1;case 39:return e.prev=39,we({extUserUin:i,addOrderStatus:l,requestPaymentStatus:h,requestPaymentErrmsg:v,prepayId:s,outOrderId:u}),e.finish(39);case 42:case"end":return e.stop()}}),e,null,[[10,,39,42],[11,22],[28,34]])})))),Re=n(65),Me=n(9),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Re.default.get(e.shareTicket);t?Object(g.baseOperateWXData)(Object(Me.assign)({data:{api_name:"webapi_getshareinfo",data:{share_key:t.shareKey,share_name:t.shareName}}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getShareInfo")},beforeSuccess:function(e){k.IS_ANDROID&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data||(e.data={}),void 0!==e.data.data&&(e.rawData=e.data.data);try{var t=JSON.parse(e.data.data);t.roomTopic&&(e.roomTopic=t.roomTopic)}catch(e){}e.iv=e.data.iv,e.encryptedData=e.data.encryptedData,e.data.cloud_id&&(e.cloudID=e.data.cloud_id),delete e.data}}):Object(g.beforeInvokeFail)("getShareInfo",e,"invalid shareTicket")},xe={showShareAppMessageMenu:!1,showShareTimelineMenu:!1,withShareTicket:!1,isPrivateMessage:!1},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Array.isArray(e.menus)?e.menus:["shareAppMessage"],n=[];if(t.includes("shareAppMessage")){xe.showShareAppMessageMenu=!0;var r=new Promise((function(t,n){!0===e.withShareTicket?(xe.withShareTicket=!0,Object(g.invokeMethod)("showShareMenuWithShareTicket",{withShareTicket:!0,success:t,fail:n,beforeAll:function(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail:function(e){e.errMsg+=", with arg withShareTicket: true"}})):(xe.withShareTicket=!1,Object(g.invokeMethod)("showShareMenu",{success:t,fail:n}))}));n.push(r)}if(t.includes("shareAppMessage")&&t.includes("shareTimeline")){xe.showShareTimelineMenu=!0;var a=new Promise((function(e,t){Object(g.invokeMethod)("showShareTimelineMenu",{success:e,fail:t})}));n.push(a)}Promise.all(n).then((function(){Object(g.beforeInvokeCallback)({name:"showShareMenu",args:e})})).catch((function(t){var n=t.errMsg.replace("showShareMenu:fail","").replace("showShareTimelineMenu:fail","");Object(g.beforeInvokeFail)("showShareMenu",e,n,t.errCode)}))},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Array.isArray(e.menus)?e.menus:["shareAppMessage","shareTimeline"],n=[];function r(){return new Promise((function(e,t){Object(g.invokeMethod)("hideShareTimelineMenu",{success:e,fail:t})}))}if(t.includes("shareTimeline")&&(xe.showShareTimelineMenu=!1,n.push(r())),t.includes("shareAppMessage")){xe.showShareAppMessageMenu=!1,0===n.length&&n.push(r());var a=new Promise((function(e,t){Object(g.invokeMethod)("hideShareMenu",{success:e,fail:t})}));n.push(a)}Promise.all(n).then((function(){Object(g.beforeInvokeCallback)({name:"hideShareMenu",args:e})})).catch((function(t){var n=t.errMsg.replace("hideShareMenu:fail","").replace("hideShareTimelineMenu:fail","");Object(g.beforeInvokeFail)("hideShareMenu",e,n,t.errCode)}))};function Be(e){return new Promise((function(t,n){"boolean"==typeof e.withShareTicket?Object(g.invokeMethod)("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:n},{beforeAll:function(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail:function(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}))}function Fe(e){return new Promise((function(t,n){if("boolean"==typeof e.isUpdatableMessage||"boolean"==typeof e.isPrivateMessage){var r=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo&&e.templateInfo.templateId,parameter_list:e.templateInfo&&e.templateInfo.parameterList});Object(g.invokeMethod)("updateShareMenuUpdatable",{isPrivateMessage:e.isPrivateMessage,updatable:e.isUpdatableMessage,templateId:r,success:t,fail:n}),!0===e.isPrivateMessage?xe.isPrivateMessage=!0:!1===e.isPrivateMessage&&(xe.isPrivateMessage=!1)}else t({errMsg:"updateShareMenu:ok"})}))}function Ve(e){return new Promise((function(t,n){"string"==typeof e.toDoActivityId?(Object(g.invokeMethod)("updateShareMenuUpdatable",{updatable:!0,success:function(e){},fail:function(e){wxNativeConsole.error("updateShareMenuToDo updateShareMenuUpdatable fail",e)}}),Object(g.invokeMethod)("updateShareMenuShareTicket",{withShareTicket:!0,success:function(e){},fail:function(e){wxNativeConsole.error("updateShareMenuToDo updateShareMenuShareTicket fail",e)}}),Object(g.invokeMethod)("updateShareMenuToDo",{toDoActivityId:e.toDoActivityId,isToDoMessage:"boolean"!=typeof e.isToDoMessage||e.isToDoMessage,success:function(e){wxNativeConsole.info("updateShareMenuToDo success",e),t(e)},fail:function(e){wxNativeConsole.error("updateShareMenuToDo fail",e),n(e)}})):t({errMsg:"updateShareMenu:ok"})}))}var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wxNativeConsole.info("wx.updateShareMenu",e),Promise.all([Be(e),Fe(e),Ve(e)]).then((function(t){"function"==typeof e.success&&__errorTracer__.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])})).catch((function(t){void 0===t.errMsg&&(t.errMsg="updateShareMenu:fail "+t.message),"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},Ue=n(51),Ge=function(){Object(Ue.reportDeprecatedAPI)("showUpdatableMessageSubscribeButton"),console.warn("wx.showUpdatableMessageSubscribeButton 此接口已废弃")},He=n(5),Ye=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(Me.getRealRoute)(He.default.lastRoute,e,t)},qe=function(e){if("string"!=typeof e)return e;var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?t+"?"+n:t},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(g.beforeInvoke)("shareAppMessageForFakeNative",e,{title:"",bizType:0})){var t=Object.assign({useDefaultSnapshot:!0,disableForward:!1},e);if(e.path&&"string"==typeof e.path)t.path=qe(__appServiceEngine__.convertComponentAliasToRoute(e.path));else{var n=Object.keys(He.default.query).map((function(e){return e+"="+He.default.query[e]})).join("&"),r=He.default.lastRoute+"?"+n;t.path=qe(__appServiceEngine__.convertComponentAliasToRoute(r))}e.imageUrl&&"string"==typeof e.imageUrl&&(/^(http|https|wxfile):\/\//.test(e.imageUrl)?t.imageUrl=e.imageUrl:t.imageUrl=Ye(e.imageUrl,!1));var a=_.default.accountInfo.appId;"wx60422b707e49ff2e"!==a&&(delete t.bizSourceName,delete t.bizSourceIconUrl),Object(g.invokeMethod)("shareAppMessageForFakeNative",t)}},ze=function(e){if(e&&"string"==typeof e)if(/^\w+:\/\//.test(e)){if(!/^wxfile:\/\//.test(e)&&!/^http:\/\/tmp\//.test(e))throw new Error("invalid path")}else if(e)return Ye(e,!1);return e};function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Object(h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=Object(j.async2Invoke)("shareFileMessage",Object(v.default)(p.a.mark((function e(){var t,n,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},Object(g.beforeInvokePromise)(t,{filePath:""}),n=ze(t.filePath),e.prev=3,e.next=6,Object(g.invokeMethodAsync)("shareFileMessage",Xe(Xe({},t),{},{filePath:n}));case 6:e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(3),"cancel"===e.t0.message){e.next=12;break}throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[3,8]])}))));function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Object(h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et=Object(j.async2Invoke)("shareVideoMessage",Object(v.default)(p.a.mark((function e(){var t,n,r,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},Object(g.beforeInvokePromise)(t,{videoPath:""}),n=ze(t.videoPath),r=ze(t.thumbPath),e.prev=6,e.next=9,Object(g.invokeMethodAsync)("shareVideoMessage",$e($e({},t),{},{videoPath:n,thumbPath:r}));case 9:e.next=15;break;case 11:if(e.prev=11,e.t0=e.catch(6),"cancel"===e.t0.message){e.next=15;break}throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[6,11]])})))),tt=n(25),nt="authPrivateMessage",rt=Object(I.constructOperateWXData)(!1,nt);function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Re.default.get(e.shareTicket);t&&t.shareKey?Object(tt.checkPermissionSync)("authShareRelationship")?rt({apiName:"webapi_authmgr",reqData:{share_key:t.shareKey},success:function(t){wxNativeConsole.info("webapi_authmgr res",t);var n=JSON.parse(t.respData.data),r={};r.iv=n.iv,r.encryptedData=n.encrypt_activity_id,r.valid=1===n.res,Object(g.beforeInvokeCallback)({name:nt,args:e,res:r})},fail:e.fail}):Object(g.beforeInvokeFail)(nt,e,"no permission"):Object(g.beforeInvokeFail)(nt,e,"invalid shareTicket")}var it=n(26),ot=(n(28),n(120)),st=(n(50),n(93));var ct=function(e,t){Object(g.beforeInvoke)("getImageInfo",e,{src:""})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/tmp\//.test(e.src)?Object(g.invokeMethod)("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}}):/^(http|https):\/\//.test(e.src)?t({url:e.src,success:function(t){404!==t.statusCode?(e.src=t.tempFilePath,Object(g.invokeMethod)("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})):Object(g.beforeInvokeFail)("getImageInfo",e,"image not found (404)")},fail:function(t){Object(g.beforeInvokeFail)("getImageInfo",e,"download image fail. reason: "+t.errMsg)}}):(e.src=Object(Me.getRealRoute)(He.default.lastRoute,e.src,!1),Object(g.invokeMethod)("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})))},ut=n(37),lt=Object(j.invoke2Async)((function(e){var t=Object.assign({},e),n=[t.src];Object(st.getCloudFileUrl)(n,"image",(function(e){return t.src=e.data[0].url,ct(t,ot.downloadFile)}))})),dt=1,ft=3,pt=4,ht=5,vt=6,gt=7,yt=function(e){var t=e.action,n=_.default.appLaunchInfo||{},r=[_.default.appType+1e3,t,n.sessionid||n.sessionId||""].join(",");Reporter.reportKeyValue({key:"ShareImageMenu",value:r})},mt=function(){var e=Object(v.default)(p.a.mark((function e(t){var n,r,a,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return __sclEngine__.initScl((function(t){return e(t.mainRoot)}))}));case 2:return n=e.sent,r=n.append("share-image",{imgPath:t.imgPath,height:t.height,width:t.width,actions:JSON.stringify([{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/2uoxkoDR1eSqqVos0C1sjp6O1Y0jhQYHSJZFkNBXZMrA5HaEVtR1iBAEXOejBJxWV-ULARe-VXRVYozusJicDA",imageDarkSrc:"https://res.wx.qq.com/op_res/2uoxkoDR1eSqqVos0C1sjp6O1Y0jhQYHSJZFkNBXZMrA5HaEVtR1iBAEXOejBJxWV-ULARe-VXRVYozusJicDA"},{action:"addToFavorites",text:"收藏",imageSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng",imageDarkSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/BgIIq_VgA_b30mPKYKb4CmnQemMBJMujsqfe6REw4MSf3i_ql8KU-FywDJLSRGRnxQOWW5VphGdXW0Yr2-Z-0g",imageDarkSrc:"https://res.wx.qq.com/op_res/G0_niEOxSlL24rHxfWQRrYEhHlR548A2lETw0Se_jFtJt3ZpHTIaPZPeINUGM3--cFoO5adG9q8jjhNfUzKUxA"}])}),a=Object(ut.setNavigateBackInterception)((function(e){[ut.NavigationBackTypes.BottomBackButton,ut.NavigationBackTypes.NavigationBackInterceptionType,ut.NavigationBackTypes.NavigateBackCall].includes(e.type)&&r.handleClose()})),e.next=7,new Promise((function(e){["shareToFriend","addToFavorites","saveToAlbum","cancel"].forEach((function(t){r.addListener(t,(function(){return e({action:t})}))}))}));case 7:return i=e.sent,o=i.action,Object(ut.stopNavigateBackInterception)(a),e.abrupt("return",{action:o});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=Object(j.async2Invoke)("showShareImageMenu",Object(v.default)(p.a.mark((function e(){var t,n,r,a,i,o,s,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},Object(tt.checkPermissionSync)("showShareImageMenu")){e.next=3;break}throw new Error("no permission");case 3:if(Object(it.beforeInvokePromise)(t,{path:""}),n=t.path,!/^\w+:\/\//.test(n)){e.next=10;break}if(/^wxfile:\/\//.test(n)||/^http:\/\/tmp\//.test(n)){e.next=8;break}throw new Error("invalid path");case 8:e.next=11;break;case 10:n="/"+Ye(n,!1);case 11:return e.next=13,lt({src:n});case 13:return r=e.sent,a=r.height,i=r.width,e.next=18,mt({imgPath:n,height:a,width:i});case 18:o=e.sent,s=o.action,yt({action:dt}),e.t0=s,e.next="shareToFriend"===e.t0?24:"addToFavorites"===e.t0?37:"saveToAlbum"===e.t0?41:(e.t0,46);break;case 24:return e.prev=24,e.next=27,Object(it.invokeMethodAsync)("shareImageMessage",{imagePath:n});case 27:yt({action:ft}),e.next=36;break;case 30:if(e.prev=30,e.t1=e.catch(24),"cancel"!==e.t1.message){e.next=35;break}return yt({action:pt}),e.abrupt("return");case 35:throw e.t1;case 36:return e.abrupt("return");case 37:return yt({action:ht}),e.next=40,Object(it.invokeMethodAsync)("addImageToFavorites",{url:n});case 40:return e.abrupt("return");case 41:return yt({action:vt}),e.next=44,Object(it.invokeMethodAsync)("saveImageToPhotosAlbum",{filePath:n});case 44:return k.IS_IOS&&Object(m.showToast)({icon:"success",title:"已保存"}),e.abrupt("return");case 46:throw yt({action:gt}),new Error("cancel");case 48:case"end":return e.stop()}}),e,null,[[24,30]])})))),bt=n(23),Ot=n(18),Et=n(57),It=Object(Ot.getEventManager)("AppRouteDone"),St=It.internalOnMethod;It.internalOffMethod;function Ct(e,t){if(0===_.default.appType&&e&&t&&!He.default.navigationBarTitleMap[e]){var n="";_.default.page[t]&&_.default.page[t].window&&Object(T.isString)(_.default.page[t].window.navigationBarTitleText)?n=_.default.page[t].window.navigationBarTitleText:_.default.global&&_.default.global.window&&Object(T.isString)(_.default.global.window.navigationBarTitleText)&&(n=_.default.global.window.navigationBarTitleText),He.default.navigationBarTitleMap[e]=n}}Object(bt.onNativeEvent)("onAppRouteDone",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Et.webviewAnimation.appRoute=!1,Et.webviewAnimation.appRouteDone=!0,Object(Et.clearDelayedInvoke)();var n="";He.default.navigatorLock=!1,e.path&&(n=e.path,e.path=e.path.substring(0,e.path.length-5)),e.webviewId=void 0!==e.webviewId?e.webviewId:t,"dismissPip"!==He.default.lastOpenType&&(He.default.lastRoute=e.path||""),It.emit(e),Object(g.publish)("onAppRouteDone",{frameset:e.frameset},[t]),e.path,Ct(e.path,n)}));var kt=n(40),Tt=!1,At=null,Pt=null;Object(kt.onAppRoute)((function(){Tt=!0})),St((function(){Tt=!1,At&&(wt(At),At=null),Pt&&(Dt(Pt),Pt=null)}));var wt=function(e){Object(g.beforeInvoke)("addCard",e,{cardList:[]})&&(Tt?At=e:Object(g.invokeMethod)("addCard",e))},Dt=function(e){Object(g.beforeInvoke)("openCard",e,{cardList:[]})&&(Tt?Pt=e:Object(g.invokeMethod)("openCard",e))},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("checkIsSupportSoterAuthentication",e,{})},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(g.beforeInvoke)("startSoterAuthentication",e,{challenge:""})){var t=e.success;Object(g.invokeMethod)("startSoterAuthentication",Object.assign({},e,{success:function(n){0!==n.errCode?"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api startSoterAuthentication fail callback function")(n):"function"==typeof t&&__errorTracer__.surroundThirdByTryCatch(t,"at api startSoterAuthentication success callback function")(n)}}),{beforeSuccess:function(e){"number"==typeof e.errCode&&0!==e.errCode&&(e.errMsg="startSoterAuthentication:fail")}})}},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.beforeInvoke)("checkIsSoterEnrolledInDevice",e,{checkAuthMode:""})&&Object(g.invokeMethod)("checkIsSoterEnrolledInDevice",e,{})},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openGoldenRedPacketDetail",e,{})},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("sendGoldenRedPacket",e,{})},Nt=n(49),Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(tt.checkPermissionSync)("sendBizRedPacketForOpen")){var t=Object(Nt.getEnterOptionsSync)().scene;if(1047!==t&&1124!==t&&1011!==t&&1025!==t){var n="sendBizRedPacket:fail scene "+t+" not support.";return e.fail&&e.fail({errMsg:n}),void(e.complete&&e.complete({errMsg:n}))}}Object(g.invokeMethod)("sendBizRedPacket",e,{})},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("sendRedPacket",e,{})},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openRedPacket",e,{})},Wt="https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket",Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(g.beforeInvoke)("showRedPackage",e,{url:""}))if(0===e.url.indexOf(Wt)){var t=Object.assign({isNativeStyle:!0},e);Object(g.invokeMethod)("private_openUrl",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("private_openUrl","showRedPackage")}})}else Object(g.beforeInvokeFail)("showRedPackage",e,"url is invalid")},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("checkIsSupportFacialRecognition",e,{})},Ht=function(e){return JSON.stringify({name:e.name,id_card_number:e.idCardNumber,mobile:e.mobile,outer_verify_id:e.outerVerifyId,user_id_key:e.userIdKey})},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ht(e);Object(g.invokeMethod)("startFacialRecognitionVerify",Object(Me.assign)(e,{requestVerifyPreInfo:t}),{})},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ht(e);Object(g.invokeMethod)("startCustomFacialRecognitionVerify",Object(Me.assign)(e,{requestVerifyPreInfo:t}),{})},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ht(e);Object(g.invokeMethod)("startFacialRecognitionVerifyAndUploadVideo",Object(Me.assign)(e,{requestVerifyPreInfo:t}),{})},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ht(e);Object(g.invokeMethod)("startCustomFacialRecognitionVerifyAndUploadVideo",Object(Me.assign)(e,{requestVerifyPreInfo:t}),{})},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k.IS_ANDROID&&Object(A.compareClientVersion)(_.default.clientVersion,"7.0.18")>=0?Object(g.invokeMethod)("checkTrafficCardConditions",e):Object(g.beforeInvokeFail)("checkTrafficCardConditions",e,"not yet supported")},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k.IS_ANDROID&&Object(A.compareClientVersion)(_.default.clientVersion,"7.0.18")>=0?Object(g.invokeMethod)("queryTrafficCardInfo",e):Object(g.beforeInvokeFail)("queryTrafficCardInfo",e,"not yet supported")},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k.IS_ANDROID&&Object(A.compareClientVersion)(_.default.clientVersion,"7.0.18")>=0?Object(g.invokeMethod)("issueTrafficCard",e):Object(g.beforeInvokeFail)("issueTrafficCard",e,"not yet supported")},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k.IS_ANDROID&&Object(A.compareClientVersion)(_.default.clientVersion,"7.0.18")>=0?Object(g.invokeMethod)("rechargeTrafficCard",e):Object(g.beforeInvokeFail)("rechargeTrafficCard",e,"not yet supported")},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k.IS_ANDROID&&Object(A.compareClientVersion)(_.default.clientVersion,"7.0.18")>=0?Object(g.invokeMethod)("setDefaultTrafficCard",e):Object(g.beforeInvokeFail)("setDefaultTrafficCard",e,"not yet supported")};function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){Object(h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(g.beforeInvoke)("addFileToFavorites",e,{filePath:""})){var t=ze(e.filePath);Object(g.invokeMethod)("addFileToFavorites",tn(tn({},e),{},{filePath:t}))}};function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){Object(h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var on,sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(g.beforeInvoke)("addVideoToFavorites",e,{videoPath:""})){var t=ze(e.videoPath),n=ze(e.thumbPath);Object(g.invokeMethod)("addVideoToFavorites",an(an({},e),{},{videoPath:t,thumbPath:n}))}},cn=function(e){Object(g.invokeMethod)("login",Object(Me.assign)(e,{requestInQueue:!1}))},un=function(e){on&&clearTimeout(on),Object(g.invokeMethod)("refreshSession",e,{beforeSuccess:function(e){on=setTimeout((function(){Object(g.invokeMethod)("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:function(e){e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},ln=function(){Object(g.invokeMethod)("logout",{})};function dn(e){return"scope.userInfo"!==e||(Object(A.checkAPIAvailable)("getUserInfo")||Object(A.checkAPIAvailable)("authorize"))}var fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.innerContext,n=void 0===t?{}:t,r=e.args,a=void 0===r?{}:r;Object(g.beforeInvoke)("authorize",a,{scope:""})&&(dn(a.scope)?Object(g.invokeMethod)("authorize",Object(Me.assign)(a,{scope:[a.scope],requestInQueue:!n.hasOwnProperty("requestInQueue")||Boolean(n.requestInQueue)}),{beforeAll:function(e){delete e.body,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)}}):Object(g.beforeInvokeFail)("authorize",a,"scope unauthorized"))},pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fn({args:e})},hn=fn,vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=wx&&wx.version&&wx.version.version||"",n=!0===Object(A.checkAPIAvailable)("getUserInfo")||"unknown"===Object(A.checkAPIAvailable)("getUserInfo");Object(g.baseOperateWXData)(Object(Me.assign)({},e,{isImportant:!0,data:{api_name:"webapi_getuserinfo",with_credentials:"boolean"!=typeof e.withCredentials||e.withCredentials,show_confirm:n,data:{lang:e.lang||"en",version:t}}}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getUserInfo"),e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny")},beforeSuccess:function(e){k.IS_ANDROID&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data||(e.data={}),void 0!==e.data.data&&(e.rawData=e.data.data);try{e.userInfo=JSON.parse(e.data.data),e.signature=e.data.signature,e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv,e.data.cloud_id&&(e.cloudID=e.data.cloud_id)),delete e.data}catch(e){}}})},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(g.beforeInvoke)("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)Object(g.beforeInvokeFail)("getUserProfile",e,"desc length does not meet the requirements");else{var n=!0===Object(A.checkAPIAvailable)("getUserProfile")||"unknown"===Object(A.checkAPIAvailable)("getUserProfile");Object(g.baseOperateWXData)(Object(Me.assign)({},e,{isImportant:!0,data:{api_name:"webapi_getuserprofile",with_credentials:"boolean"!=typeof e.withCredentials||e.withCredentials,show_confirm:n,data:{lang:e.lang||"en",desc:e.desc}}}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getUserProfile"),e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny")},beforeSuccess:function(e){k.IS_ANDROID&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data||(e.data={}),void 0!==e.data.data&&(e.rawData=e.data.data);try{e.userInfo=JSON.parse(e.data.data),e.signature=e.data.signature,e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv,e.data.cloud_id&&(e.cloudID=e.data.cloud_id)),delete e.data}catch(e){}}})}}},yn=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.apiName="webapi_getuserinfo",Object(g.beforeInvoke)("operateWXData",a,{apiName:""})){var i=wx&&wx.version&&wx.version.version||"",o={api_name:a.apiName,from_component:!0,data:a.reqData||{},operate_directly:e};o.data.version=i,n&&(o.plugin_appid=a.pluginId);var s={data:o,isImportant:!0===r,requestInQueue:!a.hasOwnProperty("requestInQueue")||Boolean(a.requestInQueue)};new Date,new Date,Object(g.baseOperateWXData)(Object.assign({},s,a),{beforeAll:function(e){void 0!==t&&(e.errMsg=e.errMsg.replace("operateWXData",t))},beforeSuccess:function(e){new Date,new Date,k.IS_ANDROID&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv,e.data.cloud_id&&(e.cloudID=e.data.cloud_id)),e.respData=e.data,delete e.data}})}}}(!1,void 0,!0),mn=function(e){Object(g.invokeMethod)("openAddress",e,{beforeSuccess:function(e){Object(Me.renameProperty)(e,"addressPostalCode","postalCode"),Object(Me.renameProperty)(e,"proviceFirstStageName","provinceName"),Object(Me.renameProperty)(e,"addressCitySecondStageName","cityName"),Object(Me.renameProperty)(e,"addressCountiesThirdStageName","countyName"),Object(Me.renameProperty)(e,"addressDetailInfo","detailInfo")},beforeAll:function(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddress"),delete e.err_msg}})},_n=function(e){Object(g.invokeMethod)("openAddress",e,{beforeSuccess:function(e){Object(Me.renameProperty)(e,"addressPostalCode","postalCode"),Object(Me.renameProperty)(e,"proviceFirstStageName","provinceName"),Object(Me.renameProperty)(e,"addressCitySecondStageName","cityName"),Object(Me.renameProperty)(e,"addressCountiesThirdStageName","countyName"),Object(Me.renameProperty)(e,"addressDetailInfo","detailInfo")},beforeAll:function(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddressForPlugin"),delete e.err_msg}})},bn=function(e){b((function(t){var n=(+new Date-(t||0))/1e3/60,r=!1,a="",i=_.default&&_.default.appContactInfo&&_.default.appContactInfo.operationInfo&&_.default.appContactInfo.operationInfo.jsonInfo&&_.default.appContactInfo.operationInfo.jsonInfo.warning_info&&_.default.appContactInfo.operationInfo.jsonInfo.warning_info.jsapi_alter||[];i&&i.forEach((function(e){"requestPayment"===e.jsapi_name&&e.wording&&(r=!0,a=e.wording)})),r&&n>30?Object(m._showModal)({content:a,confirmText:"继续支付",cancelText:"取消",success:function(t){t.confirm&&(O(+new Date),On(e))}}):On(e)}))},On=function(e){if(Object(g.beforeInvoke)("requestPayment",e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""})){e=Object.assign({},e);var t=Object(E.getPayCookieString)();e.passCookies&&"string"==typeof e.passCookies?e.cookie=t?e.passCookies+";; "+t:e.passCookies:t?e.cookie=t:delete e.cookie,delete e.passCookies,Object(g.invokeMethod)("requestPayment",Object.assign({},e,{grantMessageQuota:!0}),{beforeSuccess:function(){Object(y.invokeWebviewMethod)("reportPaymentFormId",{packageStr:e.package}),Object(S._setWxIsInvokeInTapForNavToMiniProgram)()}})}},En=n(21),In={SYS_MSG_TYPE_INTERACTIVE:1,SYS_MSG_TYPE_RANK:2},Sn=function(e){var t={};for(var n in e)t[e[n]]=n;return t}(In);var Cn=wxNativeConsole.createLogger("getSetting");function kn(e){if(Cn.info("webapi_getuserallappauth res",e),e.auth_item?e.authSetting=e.auth_item.reduce((function(e,t){return e[t.scope]=1===t.state,e}),{}):e.authSetting={},void 0!==e.sub_msg_switch){var t={mainSwitch:1===e.sub_msg_switch};if(e.sub_msg_list){Cn.info("sub_msg_list",e.sub_msg_list);var n=e.sub_msg_list.reduce((function(e,t){var n,r=t.template_id;return t.sys_msg_type>0&&(n=t.sys_msg_type,r=Sn[n]),t.ban_flag?e[r]="ban":e[r]=t.setting_status?"accept":"reject",e}),{});Cn.info("itemSettings",n),t.itemSettings=n,Object.assign(t,n)}e.subscriptionsSetting=t}return delete e.rawData,delete e.signature,delete e.auth_item,delete e.sub_msg_list,delete e.sub_msg_switch,e}var Tn=Object(En.default)("getSetting","webapi_getuserallappauth",{},{},(function(e){var t=wx&&wx.version&&wx.version.version||"",n=Object.assign({with_sub_msg:"boolean"==typeof e.withSubscriptions&&e.withSubscriptions,version:t},e);return delete n.withSubscriptions,n}),kn),An=function(e){return{2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[e]},Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openSetting",e,{beforeSuccess:function(e){var t=e.authSetting||[];if(e.authSetting=t.reduce((function(e,t){return e[t.scope]=1===t.state,e}),{}),e.subscriptionsSetting){var n={};if(n.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var r=e.subscriptionsSetting.templatesInfo;n.itemSettings=r.reduce((function(e,t){var n=An(t.tid),r={"-1":"ban",0:"reject",1:"accept"};return n?e[n]=r[t.status]:e[t.templateId]=r[t.status],e}),{})}e.subscriptionsSetting=n}}})},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Pn(e)},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openSetting",e,{beforeSuccess:function(e){var t=e.authSetting||[];e.authSetting=t.reduce((function(e,t){return e[t.scope]=1===t.state,e}),{})}})},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openWeRunSetting",{checkSupport:!0,success:function(){Object(g.baseOperateWXData)(Object(Me.assign)({data:{api_name:"webapi_getwerunstep_history"}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getWeRunData")},beforeSuccess:function(e){k.IS_ANDROID&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv,e.data.cloud_id&&(e.cloudID=e.data.cloud_id)),delete e.data}})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"number"!=typeof e.step||e.step<0?Object(g.beforeInvokeFail)("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):Object(g.invokeMethod)("openWeRunSetting",{checkSupport:!1,success:function(){Object(g.invokeMethod)("uploadWeRunData",e,{})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"number"!=typeof e.step||e.step<0?Object(g.beforeInvokeFail)("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):Object(g.invokeMethod)("openWeRunSetting",{checkSupport:!1,success:function(){Object(g.invokeMethod)("addWeRunData",e,{})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&__errorTracer__.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&__errorTracer__.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("chooseInvoiceTitle",e,{beforeSuccess:function(e){var t=e.invoiceTitleInfo||e.choose_invoice_title_info;if(t)try{var n=JSON.parse(t);delete e.invoiceTitleInfo,delete e.choose_invoice_title_info,e=Object.assign(e,n)}catch(e){}}})},Ln=Object(En.default)("getOpenDeviceId","webapi_getdeviceinfo"),Nn=Object(En.default)("getUserGameLabel","webapi_getgameplayerlabel",{},{},(function(){}),(function(e){return delete e.rawData,e})),Bn=n(110),Fn=n(66),Vn=n(75),Wn=Object(Ot.getEventManager)("AppHide"),Un=(Wn.onMethod,Wn.offMethod,Wn.internalOnMethod);Object(Fn.onAppEnterBackground)((function(e){Wn.emitInternal(e)}));var Gn=Object(Ot.getEventManager)("AppUnhang"),Hn=(Gn.internalOnMethod,Gn.onMethod);Object(g.onMethod)("onAppUnhang",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Gn.emit(e)}));var Yn=n(73);He.default.appStatus=Yn.AppStatus.FORE_GROUND,He.default.hanged=!1,Object(Vn._onAppShow)((function(e){Date.now()})),Un((function(e){Date.now()})),Object(x.onAppEnterForeground)((function(){He.default.appStatus=Yn.AppStatus.FORE_GROUND})),Object(Fn.onAppEnterBackground)((function(e){"hide"===e.mode?He.default.appStatus=Yn.AppStatus.LOCK:He.default.appStatus=Yn.AppStatus.BACK_GROUND,"close"===e.mode?He.default.hanged=!1:"hang"===e.mode&&(He.default.hanged=!0)})),Hn((function(){He.default.hanged=!1}));var qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.keyPath="WxaAppVersionInfo.AppVersion",Object(g.invokeMethod)("getAppContact",e,{beforeSuccess:function(e){e.data=JSON.parse(e.data)}})},Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.keyPath="WxaAppVersionInfo.VersionState",Object(g.invokeMethod)("getAppContact",e,{beforeSuccess:function(e){e.data=JSON.parse(e.data),1===e.data&&(e.data=0)}})},zn=null,Zn=Object(A.promisify)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["release","develop","trial"],n=Object(En.default)("CreateWxaShortLink","webapi_createwxashortlink",{},{},(function(e){return{wxa_appid:e.appid,wxa_path:e.path,page_title:e.title,version:e.version,version_type:t.indexOf(e.envVersion)}}),(function(e){delete e.rawData,e.shortLink=e.short_link,delete e.short_link}));n(e)})),Xn=Object(A.promisify)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};qn({success:function(t){Object(g.beforeInvokeCallback)({name:"getAppContact",args:e,res:t})},fail:function(t){Kn({success:function(t){Object(g.beforeInvokeCallback)({name:"getAppContact",args:e,res:t})},fail:function(t){Object(g.beforeInvokeCallback)({name:"getAppContact",args:e,res:t,success:!1})}})}})})),Jn=function(e){return Object(m.showToast)({icon:"none",title:e})},Qn=new Map,$n="请检查网络后重试",er=0;Object(g.onMethod)("onCopyUrl",(function(e){if(!Object(A.isGame)()&&e.webviewId!==He.default.currentWebviewId)return console.warn("[onCopyUrl] error: webviewId loss"),void Jn("请检查网络后重试");var t=e.shortLinkEnable||!1,n=He.default.lastRoute,r=He.default.lastOpenType,a=JSON.parse(JSON.stringify(He.default.lastRawQuery||{}));if("appLaunch"!==r&&"autoReLaunch"!==r)try{Object.keys(a).forEach((function(e){a[e]=decodeURIComponent(a[e])}))}catch(e){return void Jn($n)}var i=Object(A.isGame)()?t?"":"index.html":n+".html",o=Object.entries(a).map((function(e){return e.join("=")})).join("&");if(t&&"function"==typeof zn)try{o=(zn()||{}).query||""}catch(e){console.warn("[onCopyUrl] error",e)}var s=o?i+"?"+o:i;if(t){Qn.has(er)&&Qn.set(er,!1);var c=++er,u=!1;Qn.set(c,!0);var l=function(e){!!Qn.get(c)&&(Jn(e),e===$n&&Object(g.invokeMethod)("returnCopyUrl",{url:"",shortLinkEnable:t}),Qn.set(c,!1))};setTimeout((function(){u=!0,l($n)}),1500);var d=_.default.page[n+".html"],f=d&&d.window||{},p=_.default.global&&_.default.global.window||{},h=f.navigationBarTitleText||p.navigationBarTitleText||"";Xn().then((function(e){var n=e.data;return Zn({appid:_.default.accountInfo.appId,envVersion:_.default.envVersion,path:s,title:Object(A.isGame)()?"":h,version:n}).then((function(e){return console.log("createWxaShortLinkAsync, ",e),!!Qn.get(c)&&!u&&(Object(g.invokeMethod)("returnCopyUrl",{url:e.shortLink,shortLinkEnable:t,success:function(){Jn("已复制")},fail:function(){Jn($n)}}),Qn.set(c,!1)),null})).catch((function(e){l($n),console.log("[onCopyUrl]:",e)})),null})).catch((function(e){l($n),console.log("[onCopyUrl]: ",e)}))}else Object(g.invokeMethod)("returnCopyUrl",{url:s,shortLinkEnable:t,success:function(){Jn("已复制")},fail:function(){Jn($n)}})}));n(107);var tr=Object(Ot.getEventManager)("AppRunningStatusChange");tr.internalOnMethod;Object(g.onMethod)("onAppRunningStatusChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};He.default.runningStatus=e.status,tr.emit(e)}));var nr=Object(Ot.getEventManager)("AppService-Error"),rr=Object(Ot.getEventManager)("AppService-UnhandledRejection");nr.onMethod,nr.offMethod,rr.onMethod,rr.offMethod;Reporter.registerThirdErrorListener((function(e){nr.emit(e)})),Reporter.registerThirdUnhandledRejectionListener((function(e,t){rr.emit({reason:e,promise:t})}));var ar=n(13),ir=n(111),or=Object(Ot.getEventManager)("AppRouteResized");or.internalOnMethod,or.internalOffMethod;Object(g.onMethod)("onAppRouteResized",(function(e){"object"===Object(ar.default)(e)&&null!==e&&Object(ir.updateWindowSizeStatus)(e),or.emit({})}));var sr=n(118),cr=n(42),ur=Object(Ot.getEventManager)("PageNotFound");ur.onMethod,ur.offMethod;function lr(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var a=n[r].split("=");if(a.length>1)try{t[a[0]]=decodeURIComponent(a[1])}catch(e){}}return t}var dr={page:void 0,time:Date.now(),count:0};Object(g.onMethod)("onPageNotFound",(function(){cr.nativeConsole.info("Ignored onPageNotFound.")})),Object(sr.onAppRoutePageNotFound)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;cr.nativeConsole.info("Page not found, webviewId="+t),He.default.lastRoute="",e&&"string"==typeof e.path&&e.path.endsWith(".html")&&(e.path=Object(Me.removeHtmlSuffixFromUrl)(e.path)),e&&"string"==typeof e.query&&(e.query=lr(e.query)),dr.page&&dr.page===e.path?dr.count++:dr={page:e.path,time:Date.now(),count:1};var n=!0;Date.now()-dr.time<=3e3&&dr.count>3?(n=!1,console.error('onPageNotFound error: page "'+e.path+'" is not found.')):ur.emit(e);var r=ur.getGlobalListeners().length>0&&n;r||Reporter.thirdErrorReport({error:new Error('onPageNotFound error: page "'+e.path+'" is not found.'),extend:" at onPageNotFound"}),Object(g.invokeMethod)("pageNotFoundCallback",{hasHandler:r,webviewId:t})}));var fr=Object(Ot.getEventManager)("ThemeChange"),pr=fr.onMethod;fr.internalOnMethod,fr.offMethod;Object(g.onMethod)("onThemeChange",(function(e){void 0!==_.default.theme&&(_.default.theme=e.theme,fr.emit({theme:e.theme}))}));var hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{sport_type_id:e.typeId,sport_time:e.time||0,sport_distance:e.distance||0,sport_number:e.number||0,sport_calorie:e.calorie||0,sport_url:e.url||""}}))},vr=Object(A.promisify)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(En.default)("checkWxaSportRecord","webapi_checkwxasportrecord",{},{},(function(e){return{sport_record_list:hr(e.recordList)}}),(function(e){delete e.rawData}));t(e)})),gr=Object(A.promisify)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(En.default)("reportWxaSportRecord","webapi_reportwxasportrecord",{},{},(function(e){return{sport_record_list:hr(e.recordList)}}),(function(e){delete e.rawData}));t(e)})),yr=function(e){var t=e.show,n=void 0===t?0:t,r=e.statusCancel,a=void 0===r?0:r,i=e.statusConfirm,o=void 0===i?0:i,s=e.clickMoreCount,c=[n,a,o,void 0===s?0:s];Reporter.reportKeyValue({key:"ShareToWeRun",value:c.join(","),immediately:!0})},mr=null;pr((function(e){var t=e.theme;mr&&mr.setData({theme:t})}));var _r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return t.forEach((function(t){e.hasOwnProperty(t)&&(n[t]=e[t])})),n},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=Object(ut.setNavigateBackInterception)((function(e){[ut.NavigationBackTypes.BottomBackButton,ut.NavigationBackTypes.NavigationBackInterceptionType,ut.NavigationBackTypes.NavigateBackCall].includes(e.type)&&mr&&(mr.handleCancel(),mr=null)}));__sclEngine__.initScl((function(r){var a=r.mainRoot.append("werun",{input:e});mr=a,a.addListener("confirm",(function(e){var r=e.detail.clickMoreCount;yr({show:1,statusCancel:0,statusConfirm:1,clickMoreCount:r}),Object(ut.stopNavigateBackInterception)(n),gr({recordList:t.recordList}).then((function(){return Object(g.beforeInvokeCallback)({name:"shareToWeRun",args:t})})).catch((function(e){return Object(g.beforeInvokeFail)("shareToWeRun",t,e.errMsg,+e.err_code)}))})),a.addListener("cancel",(function(e){var r=e.detail.clickMoreCount;yr({show:1,statusCancel:1,statusConfirm:0,clickMoreCount:r}),Object(g.beforeInvokeFail)("shareToWeRun",t,"cancel"),Object(ut.stopNavigateBackInterception)(n)}))}))},Or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.beforeInvoke)("shareToWeRun",e,{recordList:[]})&&(Object(tt.checkPermissionSync)("shareDataToWeRun")?vr({recordList:e.recordList}).then((function(t){var n=t.wording||{},r=_r(n,["title","sport_name","note_title","note_detail"]);r.theme=Object(P.getSystemInfoSync)().theme||"light";var a=JSON.stringify(r);br(a,e)}),(function(t){yr({show:0,statusCancel:0,statusConfirm:0,clickMoreCount:0}),Object(g.beforeInvokeFail)("shareToWeRun",e,t.errMsg,+t.err_code)})):Object(g.beforeInvokeFail)("shareToWeRun",e,"has no permission",-100004))},Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Ue.reportDeprecatedAPI)("sendGroupMessage"),Object(g.beforeInvokeFail)("sendGroupMessage",e,"sendGroupMessage 接口已废弃")},Ir=function(e){Object(I._operateWXData)({apiName:"webapi_reportgroupshare",reqData:e})},Sr=Object(En.default)("checkIsUserAdvisedToRest ","webapi_getplaytimelimit",{},{},(function(e){var t=e.todayPlayedTime;return{today_played_seconds:void 0===t?0:t}}),(function(e){e.result=!e.is_healthy,delete e.is_healthy})),Cr=function(e){Object(g.beforeInvoke)("checkIsUserAdvisedToRest",e,{todayPlayedTime:0})&&Sr(e)},kr=parseInt(Date.now()/1e3,10),Tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("chooseInvoice",Object.assign({},e,{timeStamp:kr,nonceStr:kr+""}),{beforeSuccess:function(){}})},Ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("faceVerifyForPay",e)},Pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e,{scene:151});delete t.profileReportInfo,Object(g.invokeMethod)("openBizProfile",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("openBizProfile","openOfficialAccountProfile")}})},wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openWeAppProfile",e)},Dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);delete t.profileReportInfo,Object(g.invokeMethod)("openUserProfile",t)},Rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(it.invokeMethod)("preventApplePayUI",e)},Mr=Object(En.default)("getWxSecData","getWxSecData",{},{},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),(function(e){return e})),jr=n(44),xr=0,Lr={};_.default.onReady((function(){xr=_.default.appType,Lr=_.default.appLaunchInfo}));var Nr=function(e,t){var n=[];return t.forEach((function(t){var r=e[t];"boolean"==typeof r&&(r=r?1:0),n.push(t+":"+r)})),n.join("|")},Br=Object(I.constructOperateWXData)(!1,"requestSubscribeMessage"),Fr=!1;Object(kt.onAppRoute)((function(){Fr=!1})),Object(Fn.onAppEnterBackground)((function(){Fr=!1}));var Vr=function(e){if(Fr)Object(g.beforeInvokeFail)("requestSubscribeMessage",e,"last call has not ended");else{if(!Object(g.beforeInvoke)("requestSubscribeMessage",e,{tmplIds:[]}))return;Fr=!0,k.IS_IOS&&_.default.clientVersion<385877504||k.IS_ANDROID&&_.default.clientVersion<654313216||k.IS_DEVTOOLS?Ur(e):Wr(e)}},Wr=function(e){Reporter.reportIDKey({key:"requestSubscribeMessageWithNative",force:!0});var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),Object(g.invokeMethod)("requestSubscribeMessage",t,{beforeAll:function(){Fr=!1},beforeSuccess:function(){Reporter.reportIDKey({key:"requestSubscribeMessageWithNativeSuccess",force:!0}),Fr=!1},beforeFail:function(){Reporter.reportIDKey({key:"requestSubscribeMessageWithNativeFail",force:!0})}})},Ur=function(e){var t,n,r=e.tmplIds||[];if(0===r.length?(t="TmplIds can't be empty",n=10001):r.length>=4?(t="Templates count out of max bounds",n=20003):""===r[0]?(t="No template data return, verify the template id exist",n=20001):"string"!=typeof r[0]&&(t="Invalid template id",n=10004),t)return Fr=!1,void Object(g.beforeInvokeFail)("requestSubscribeMessage",e,t,n);var a=r.map((function(e){return{TemplateId:e}}));Br({apiName:"webapi_subscribe_msg",reqData:{AppId:_.default.accountInfo.appId,ActionType:1,ItemList:a},success:function(t){var n=(JSON.parse(t.respData.data).InfoList||[])[0]||{};if(n.TemplateId!==r[0])return Fr=!1,void Object(g.beforeInvokeCallback)({name:"requestSubscribeMessage",args:e,res:Object(h.default)({},r[0],"ban")});var a="订阅一次以下消息通知";3===n.TemplateType&&(a="长期订阅以下消息通知"),Object(m.showModal)({title:a,content:n.Title||"",confirmText:"允许",cancelText:"取消",success:function(t){Fr=!1,Gr(e,t)},fail:function(t){Fr=!1,Object(g.beforeInvokeFail)("requestSubscribeMessage",e,t.errMsg)}})},fail:function(t){var n=t.errMsg.replace("requestSubscribeMessage:fail","").trim();Object(g.beforeInvokeFail)("requestSubscribeMessage",e,n,+t.err_code),Fr=!1}})},Gr=function(e,t){var n=e.tmplIds[0];Br({apiName:"webapi_subscribe_msg",reqData:{AppId:_.default.accountInfo.appId,ActionType:2,UIData:{OpType:t.confirm?1:2,UIItem:[{TemplateId:n,ChooseStatus:1}]}},success:function(){var r={};r[""+n]=t.confirm?"accept":"reject",Object(g.beforeInvokeCallback)({name:"requestSubscribeMessage",args:e,res:r}),function(e){var t=e.name,n=e.data,r="undefined"!=typeof __appServiceEngine__?__appServiceEngine__.getCurrentPagesByDomain(""):[],a=r.length>0&&r[r.length-1].__route__||"",i=Object(jr._getCurrentNetworkType)(),o=wx&&wx.version&&wx.version.version||"",s="";switch(t){case"loadFontFace":s=Nr(n,["family","source","global","scopes"]);break;case"requestSubscribeMessage":s=Nr(n,["templateCount","templateType","operationType"])}var c=[Math.round(Date.now()/1e3),Lr.scene,Lr.sessionid||Lr.sessionId,a,i,o,t,s,xr,1,""].join(",");Reporter.reportKeyValue({key:"APIUse",value:c,immediately:!0})}({name:"requestSubscribeMessage",data:{templateCount:1,templateType:0,operationType:t.confirm?1:2}})},fail:function(t){var n=t.errMsg.replace("requestSubscribeMessage:fail","").trim();Object(g.beforeInvokeFail)("requestSubscribeMessage",e,n,+t.err_code)}})},Hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openWeAppSearch",e)},Yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openWeAppHistoryList",e)},qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.invokeMethod)("openWeAppStarList",e)},Kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(tt.checkPermissionSync)("batchGetContactDirectly"))Object(g.invokeMethod)("batchGetContact",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("batchGetContact","batchGetContactDirectly")}});else{var t="batchGetContactDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(tt.checkPermissionSync)("preloadMiniProgramEnvDirectly"))Object(g.invokeMethod)("preloadMiniProgramEnv",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("preloadMiniProgramEnv","preloadMiniProgramEnvDirectly")}});else{var t="preloadMiniProgramEnvDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},Zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(tt.checkPermissionSync)("predownloadMiniProgramPackageDirectly"))Object(g.invokeMethod)("predownloadMiniProgramPackage",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("predownloadMiniProgramPackage","predownloadMiniProgramPackageDirectly")}});else{var t="predownloadMiniProgramPackageDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},Xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(it.beforeInvoke)("requestBizSplitBillPayment",e,{orderNo:""})&&Object(it.invokeMethod)("requestBizSplitBillPayment",e)},Jr="";_.default.onReady((function(){Jr=_.default.appLaunchInfo.chatroomUsername,wxNativeConsole.info("chatroomUsername",Jr)})),Object(bt.onNativeEvent)("onAppEnterForeground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Jr=e.chatroomUsername,wxNativeConsole.info("onAppEnterForeground chatroomUsername",Jr)}));var Qr="getGroupEnterInfo",$r=Object(I.constructOperateWXData)(!1,Qr),ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Jr?Object(tt.checkPermissionSync)("getGroupToolbarInfo")?$r({apiName:"webapi_swapopengid",reqData:{chatroom_name:Jr},success:function(t){wxNativeConsole.info("webapi_swapopengid res",t);var n=t.respData,r={};r.iv=n.iv,r.encryptedData=n.encryptedData,n.cloud_id&&(r.cloudID=n.cloud_id),Object(g.beforeInvokeCallback)({name:Qr,args:e,res:r})},fail:e.fail}):Object(g.beforeInvokeFail)(Qr,e,"no permission"):Object(g.beforeInvokeFail)(Qr,e,"invalid scene")}},function(e,t,n){n.r(t),n.d(t,"SET_COOKIES_INDEX",(function(){return h})),n.d(t,"GET_COOKIES_INDEX",(function(){return v})),n.d(t,"initCheckCookies",(function(){return O})),n.d(t,"getPassCookieString",(function(){return I})),n.d(t,"getPayCookieString",(function(){return S})),n.d(t,"getShareCookieString",(function(){return C})),n.d(t,"setCookiesWithoutPermission",(function(){return k})),n.d(t,"getCookiesWithoutPermission",(function(){return T})),n.d(t,"setCookies",(function(){return A})),n.d(t,"getCookies",(function(){return P}));var r=n(14),a=n(48),i=n(40),o=n(38),s=n(1),c=n(2),u=n(75),l=n(25),d=[],f=[],p=["expires","domain","path","busid","indate","receivetime","spread"],h=502,v=503,g={scene:-1,sceneNote:"",sessionId:""};function y(e){return c.IS_DEVTOOLS||Object(l.checkPermissionSync)(e)}function m(e){var t,n;t=function(t){t&&b(t,!1,d),e&&e()},n=s.default.accountInfo&&s.default.accountInfo.appId||"noAppId",Object(o.invokeWebviewMethod)("getCookiesFromGlobalStorage",{appId:n},void 0,t)}function _(){var e=Date.now(),t=[];d.forEach((function(n){var r=n.expires||n.__wxprivate_calc_expires__;if(r&&1e3*r>e){var a=[];for(var i in n)p.indexOf(i)>=0&&a.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));a.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value)),t.push(a.join("; "))}}));var n,r,a,i=t.join(";; ");i.length>=4096||(n=i,r=function(){},a=s.default.accountInfo&&s.default.accountInfo.appId||"noAppId",n&&n.trim()&&Object(o.invokeWebviewMethod)("setCookiesToGlobalStorage",{cookies:n,appId:a},void 0,r))}function b(e,t,n){if("string"==typeof e){var r=Date.now();e.split(";;").forEach((function(e){var a;if(e.split(";").forEach((function(e){a=a||{};var t=(e=e.split("="))[0].trim(),n=e[1]&&e[1].trim();"expires"!==t&&"indate"!==t||(n=+n,n=Number.isNaN(n)?void 0:n),t&&void 0!==n&&(p.indexOf(t)>=0?a[decodeURIComponent(t)]=decodeURIComponent(n):(a.name=decodeURIComponent(t),a.value=decodeURIComponent(n)))})),a){t&&(a.receivetime=~~(r/1e3)),void 0===a.expires&&void 0!==a.indate&&a.receivetime&&(a.__wxprivate_calc_expires__=+a.receivetime+ +a.indate);var i=a.expires||a.__wxprivate_calc_expires__;i&&!(1e3*i>r)||function(e,t){for(var n=0,r=t.length;n<r;n++){var a=t[n];if(e.busid===a.busid&&e.name===a.name)return!0}return!1}(a,n)||n.push(a),s.default.accountInfo&&s.default.accountInfo.appId&&a.spread&&(a.spread="*"===a.spread?"":a.spread+":",a.spread+=s.default.accountInfo.appId)}}))}}Object(u._onAppShow)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g.scene=e.scene,g.sceneNote=e.scene_note,g.sessionId=e.sessionid}));var O=function(){Object(i.onAppRoute)((function(){var e=s.default.appLaunchInfo||{},t=+s.default.appLaunchInfo.scene,n=e.referrerInfo&&e.referrerInfo.privateExtraData,r=e.referrerInfo&&e.referrerInfo.messageExtraData,a=n&&n.cookies||r&&r.cookies;"string"==typeof a&&b(a,1037!==t,d),m(_)})),Object(a.onAppEnterForeground)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=+e.scene,n=e.referrerInfo&&e.referrerInfo.privateExtraData,r=e.referrerInfo&&e.referrerInfo.messageExtraData,a=n&&n.cookies||r&&r.cookies;(1037===t||a&&"string"==typeof a||1===e.reLaunch||!0===e.reLaunch)&&(d=[],f=[]),"string"==typeof a&&b(a,1037!==t,d),m(_)}))};function E(e){var t=[];for(var n in e)p.indexOf(n)>=0&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)),t.join("; ")}var I=function(e){var t=Date.now(),n=[];d.forEach((function(e){var r=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!r||1e3*r>t)&&n.push(E(e))}));var r=n.join(";; ");return e&&e.success&&e.success({cookies:r}),r},S=function(e){var t=Date.now(),n=[];d.forEach((function(e){var r=e.expires||e.__wxprivate_calc_expires__;(!r||1e3*r>t)&&n.push(e)}));var r=s.default&&s.default.accountInfo&&s.default.accountInfo.appId||"",a=g.scene||"",i=g.sceneNote||"",o=g.sessionId||"";n.push({name:"appid",value:r,busid:"wxapp"},{name:"sessionid",value:o,busid:"wxapp"},{name:"scene",value:a,busid:"wxapp"},{name:"scene_note",value:i,busid:"wxapp"});var c=e&&e.pluginInfo?e.pluginInfo:{},u=c.hostAppId,l=c.pluginAppId;if(void 0!==u&&void 0!==l){var f=n.find((function(e){return"appid"===e.name}));f&&(f.value=u),n.push({name:"plugin_appid",value:l,busid:"wxapp"})}var p=s.default.host||{};"SDK"===p.env&&n.push({name:"sdk_host_appid",value:p.appId,busid:"wxapp"});var h=n.map(E).join(";; ");return e&&e.success&&e.success({cookies:h}),h},C=function(){var e=Date.now(),t=[];return f.forEach((function(n){var r=n.expires||n.__wxprivate_calc_expires__;(!r||1e3*r>e)&&t.push(E(n))})),t.join(";; ")},k=function(e){var t=Date.now(),n=e.cookies||[],r=e.isTemporary;if(n instanceof Array){var a=r?f:d,i=[],o={},c={},u=s.default.accountInfo&&s.default.accountInfo.appId||"";if(n.forEach((function(e){if(e.key&&"string"==typeof e.key){var n=+e.expires;if(!e.value||n&&1e3*n<t)o[e.key]={name:e.key,busid:e.busid};else{var a={name:e.key,value:e.value};p.forEach((function(t){var n=e[t];"expires"!==t&&"indate"!==t||(n=+n,n=Number.isNaN(n)?void 0:n),"spread"===t&&n&&!r&&u&&(a.spread="*"===n?"":n+":",a.spread+=u),"receivetime"!==t&&"spread"!==t&&void 0!==n&&(a[t]=n)})),c[e.key]=a,i.push(a)}}})),a.forEach((function(e){var n=o[e.name];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var r=c[e.name];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var a=e.expires||e.__wxprivate_calc_expires__;a&&1e3*a<t||i.push(e)}}})),function(e){var t=[];return e.forEach((function(e){t.push(E(e))})),t.join(";; ")}(i).length>=4096)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";r?f=i:(d=i,_())}},T=function(e){var t=Date.now(),n=e.keys||[],a=e.busid,i=e.isTemporary;if(n instanceof Array){var o=[];return(i?f:d).forEach((function(e){var i=e.expires||e.__wxprivate_calc_expires__;if((!i||1e3*i>t)&&n.indexOf(e.name)>=0&&(!a||a&&a===e.busid)){var s=Object(r.default)({},e.name,e.value);Object.keys(e).forEach((function(t){p.indexOf(t)>=0&&(s[t]=e[t]),"indate"!==t&&"expires"!==t||(s[t]=+s[t])})),o.push(s)}})),o}},A=function(e){var t="setCookies:ok";if(y("setCookies")){var n=k(e);n?(t=n,"function"==typeof e.fail&&e.fail({errMsg:t})):"function"==typeof e.success&&e.success({errMsg:t})}else t="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},P=function(e){var t="getCookies:ok";if(y("getCookies")){var n=T(e);"function"==typeof e.success&&e.success({errMsg:t,cookies:n})}else t="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})}},function(e,t,n){n.r(t),n.d(t,"reportAdMonitorData",(function(){return S})),n.d(t,"reportMMData",(function(){return I}));var r=n(13),a=n(117),i=n(10),o=n(29),s=n(27),c=n(34),u=n(2),l=n(19),d=n(1),f=Object(s.promisify)(Object(o.constructOperateWXData)(!1,"advert_report")),p="",h=u.PLATFORM,v="",g="",y="",m="",_="",b="",O=!0,E="";d.default.onReady((function(){p=Object(l.getInitDeviceOrientation)()||"";var e=Object(c.getStableSystemInfo)();v=e.system,g=e.version,y=e.SDKVersion,_=e.model,b=e.brand,O=Object(i.isGame)();try{E=d.default.accountInfo.appId,m=__libVersionInfo__.updateTime}catch(e){}}));var I=function(e,t){var n=Object(a.getMMDataProto)(e);if(n&&0!==n.length)return t=Object.assign({publisher_appid:E,appid:E,orig_weapp_id:"",network_type:"",wechat_version:g,platform:h,system_version:v,device_orientation:p,wxapp_lib_version:y,wxapp_lib_time:m,machine_type:_,ad_platform:O?1:0},t),t=Object.assign({DeviceModel:_,DeviceBrand:b,OsName:h,OsVersion:v},t),n=n.map((function(e){return{type:e.type,value:(t[e.key]||e.value).toString()}})),f({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:n})}}).catch((function(e){}))},S=function(e,t,n){!function(e){var t=e.key,n=e.id;"object"===Object(r.default)(t)&&(!n&&(n=t.idKeyGroup),t=t.idKey),0===t&&(t="0"),Reporter.reportIDKeyDirectly({id:n||924,key:t,force:!0})}({key:e}),function(e){var t=e.key,n=e.id,a=e.extInfo,i=e.reportData;if("object"===Object(r.default)(t)&&(!n&&(n=t.idKeyGroup),t=t.idKey),0===t&&(t="0"),i=i||{},a&&"string"!=typeof a)try{a=JSON.stringify(a)}catch(e){a=a.toString()}I(16295,{id_key:t,id_key_group:n||924,report_time:+new Date,ad_pos_type:i.ad_pos_type||0,source_url:i.source_url||"",expand_feild:i.reportAdData||"",expand_feild2:a,aid:i.aid||0,traceid:i.traceid||"",ad_unit_id:i.ad_unit_id})}({key:e,extInfo:t,reportData:n})}},function(e,t,n){n.r(t),n.d(t,"onPageReload",(function(){return s})),n.d(t,"triggerBeforeUnloadPage",(function(){return c})),n.d(t,"onBeforeUnloadPage",(function(){return u})),n.d(t,"triggerBeforeShareAppMessage",(function(){return l})),n.d(t,"onBeforeShareAppMessage",(function(){return d}));var r=n(35),a=n(0),i=n(9),o=new r.default;Object(a.onMethod)("onPageReload",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.webviewId=t,o.emit("onPageReload",e)}));var s=function(e){o.on("onPageReload",(function(t){t.path&&(t.path=Object(i.removeHtmlSuffixFromUrl)(t.path)),"function"==typeof e&&e(t)}))},c=function(e){o.emit("onBeforeUnloadPage_"+e,e),o.removeAllListeners("onBeforeShareAppMessage_"+e)},u=function(e,t){o.once("onBeforeUnloadPage_"+e,(function(e){"function"==typeof t&&t(e)}))},l=function(e){o.emit("onBeforeShareAppMessage_"+e,e)},d=function(e,t){o.on("onBeforeShareAppMessage_"+e,(function(e){"function"==typeof t&&t(e)}))}},function(e,t,n){function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"_shareAppMessage",(function(){return U})),n.d(t,"_beforeShareAppMessageSuccessFactory",(function(){return W})),n.d(t,"_doShareAppMessage",(function(){return G})),n.d(t,"shareAppMessage",(function(){return H})),n.d(t,"onShareMessageToFriend",(function(){return Y})),n.d(t,"showUpdatableMessageSubscribeButton",(function(){return V})),n.d(t,"getMessageExtraData",(function(){return B})),n.d(t,"shareVideoAppMessage",(function(){return q}));var r=n(14),a=n(35),i=n(0),o=n(82),s=n(50),c=(n(5),n(2)),u=function(e){Object(i.baseOperateWXData)(Object.assign({},e,{data:{api_name:"webapi_reportgroupshare",data:{path:e.path,share_key:e.shareKey}},success:function(t){c.IS_ANDROID&&"string"==typeof t.data&&(t.data=JSON.parse(t.data));var n=JSON.parse(t.data.data);0===n.errcode?(t.expiresIn=n.expires_in,t.groupMsgTicket=n.group_msg_ticket,delete t.data,Object(i.beforeInvokeCallback)({name:"getGroupMsgTicket",args:e,res:t})):Object(i.beforeInvokeFail)("getGroupMsgTicket",e,n.errmsg,n.errcode)},fail:function(t){Object(i.beforeInvokeFail)("getGroupMsgTicket",e,t.errMsg,-1)}}))},l=n(10),d=n(79),f=n(1),p=n(41),h=n(21),v=Object(h.default)("getIAPInfo","webapi_getiapinfo");var g=n(44),y=n(13),m={};function _(e){var t=e.result,n=e.shareType,r=e.canUseCustomImageUrl,a=e.imageUrlId,i=void 0===a?"":a,o=e.transformedImageUrl,s=void 0===o?"":o,c=m.query,u=[],l=f.default.accountInfo&&f.default.accountInfo.nickname||"";if(c&&"object"===Object(y.default)(c))for(var d in c)u.push(encodeURIComponent(d)+"="+encodeURIComponent(c[d]));var p=[m.scene,m.scene_note,m.sessionid,"",l,Reporter.getAppType(),t,0,u.join("&"),n,r?1:2,i,s,f.default.host?f.default.host.appId:""].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Share",value:p}),Reporter.submit()}var b=n(60),O=n(25),E=n(93),I=n(95);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filePath,n=e.thumbFilePath,r=e.fileType,a=e.appType;return new Promise((function(e,o){if(!/wxfile:\/\//.test(t)&&!/http:\/\//.test(t)){var c=s.FakeTempFilePathMap.get(t);t=c}Object(i.invokeMethod)("uploadToCommonCDN",{filePath:t,thumbFilePath:n,fileType:r,appType:a,isStorageMode:!0,snsUploadVersion:0,directReturnInDevtools:!0,success:e,fail:o})}))}var C=n(71),k=n(43),T=n(121),A=(n(116),!0),P={};f.default.onReady((function(){Object(l.checkAPIAvailable)("shareCustomImageUrl")||(Object(h.default)("getShareConfig","webapi_getshareconf")({success:function(e){Array.isArray(e.share_link_list)&&(P=e.share_link_list.reduce((function(e,t){return e[t.id]=t.url,e}),{}))},fail:function(e){}}),A=!1)}));var w=function(){return P},D=function(){return A};var R=n(110);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=new a.default,L=null,N=null,B=function(){return N};f.default.onReady((function(){Object(l.isGame)()&&n(74)._onShow((function(e){if(N={},e.referrerInfo&&e.referrerInfo.messageExtraData){var t=N=e.referrerInfo.messageExtraData,n=t.userInfo,r=t.shareType;if(r&&n){var a=[Reporter.getAppType(),r,n.openID,e.path||"",Object(g._getCurrentNetworkType)()].join(",");Reporter.reportKeyValue({key:"ShareCardClick",value:a})}}}))}));var F=o.share.ShareInfoStorage,V=function(e){Object(i.invokeMethod)("showUpdatableMessageSubscribeButton",{shareKey:e})},W=function(e){return function(t,n){var r=t.shareInfos;if(delete t.shareInfos,void 0!==r&&r.length>0)if(r=r.filter((function(e){return e.shareKey&&e.shareName})),t.shareTickets=r.map((function(e){return V(e.shareKey),F.set(e.shareKey,e.shareName)})),c.IS_DEVTOOLS)delete t.shareTickets,delete t.shareInfos,n();else{if(e.getGroupMsgTicket)return void Promise.all(r.map((function(e){return new Promise((function(t){!function(e){u(e)}({shareKey:e.shareKey,success:function(e){t({groupMsgTicket:e.groupMsgTicket,expiresIn:e.expiresIn})},fail:function(){t({groupMsgTicket:""})}})}))}))).then((function(e){return t.groupMsgInfos=e,n()})).catch((function(){}));n()}else n()}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=D(),o=w(),u="string"==typeof e.path?e.path:"",f="string"==typeof e.query?e.query:"",h="",v=0;switch(t){case"shareAppMessage":v=1;break;case"shareAppMessageDirectly":v=2;break;case"shareAppMessageToSpecificContactDirectly":v=3}if(f.length>2e3&&(console.warn('shareAppMessage: query exceed max length limit 2000: "'+f.length+'"'),f=f.substr(0,2e3)),f&&(u=u+"?"+f),e.imageUrl=s.FakeTempFilePathMap.get(e.imageUrl)||e.imageUrl,Array.isArray(e.imageUrl)&&(e.imageUrl=""),!a){if(!o[e.imageUrlId])return e.imageUrlId,Object(p.showToast)({icon:"none",title:"由于小程序违规，分享功能暂时无法使用"}),void g(2);h=e.imageUrl=o[e.imageUrlId]}function g(t){_({result:t,shareType:v,canUseCustomImageUrl:a,imageUrlId:e.imageUrlId,transformedImageUrl:h})}Object(i.invokeMethod)(t,Object.assign(n,e,{path:u,useDefaultSnapshot:!0,messageExtraData:Object.assign({shareType:v,userInfo:L},e.extra),success:function(t){Object(T.reportShareAppMessage)("shareAppMessage",t),(r||!c.IS_DEVTOOLS&&Object(l.checkAPIAvailable)("share"))&&Object(i.beforeInvokeCallback)({name:"shareAppMessage",args:e,res:t}),g(1),setTimeout((function(){Object(b.reportCanvasData)(b.ReportCanvasDataEventType.EVENT_CANVAS_AFTER_SHARE_SUCCESS)}),500)},fail:function(t){var n=t.errMsg.replace("shareAppMessage:fail","");(r||!c.IS_DEVTOOLS&&Object(l.checkAPIAvailable)("share"))&&Object(i.beforeInvokeFail)("shareAppMessage",e,n),g(-1!==n.indexOf("cancel")?3:2)},cancel:function(){setTimeout((function(){Object(b.reportCanvasData)(b.ReportCanvasDataEventType.EVENT_CANVAS_AFTER_SHARE_CANCEL)}),500)},complete:function(t){var n=(t.errMsg||"").replace(/^[^:]+/,"shareMessageToFriend"),r=!n||"shareMessageToFriend:ok"===n;Object(O.checkPermissionSync)("shareCallback")&&3===v&&(x.emit("callback",{errMsg:n,success:r}),Object(i.beforeInvokeCallback)({name:"shareMessageToFriend",errMsg:n,success:r,args:e}))}}),{beforeSuccess:W(e),beforeAll:function(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage"),e.errMsg=e.errMsg.replace("shareAppMessageToSpecificContactDirectly","shareAppMessage")}}),["success","fail","cancel","complete"].some((function(t){return"function"==typeof e[t]}))&&Object(d.reportRecycledAPI)({name:t,strategy:1}),Object(b.reportCanvasData)(b.ReportCanvasDataEventType.EVENT_CANVAS_BEFORE_SHARE)},G=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=function(){var e=t[0].imageUrl;Object(E.getCloudFileUrl)([e],"image",(function(r){/^(cloud):\/\//.test(e)&&(e=r.data[0].url),t[0].imageUrl=e,Object(l.isGame)()?n(140).addLabelToShareArgs(t[0]).catch(wxConsole.warn).then((function(){return U.apply(void 0,t)})):U.apply(void 0,t)}))};L?a():v({success:function(e){L=e},complete:function(){return a()}})},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={title:e.title||f.default.accountInfo.nickname,imageUrl:e.imageUrl,query:e.query,imageUrlId:e.imageUrlId,path:e.path},n=Object(I._getEnterOptionsSync)(),r=n.scene,a=n.chatroomUsername,i="shareAppMessageDirectly",o=e.toCurrentGroup;(o=1158===r?"boolean"!=typeof o||o:"boolean"==typeof o&&o)&&1158===r&&(t.chatroomUsername=a,i="shareAppMessageToSpecificContactDirectly"),G(t,i),Object(R.reportUserBehaviorBranchAnalyticsForDebug)({reportType:8,query:e.query})},Y=function(e){x.on("callback",e)};function q(e){return Object(p.showLoading)({title:"请稍等"}),S({filePath:e.filePath,thumbFilePath:e.thumbFilePath,fileType:20302,appType:213}).then((function(e){return Object(p.hideLoading)(),e})).then((function(t){var n=Object(C.generateFunctionalPagePath)({pageType:k.PAGE_TYPE.PLAY_PAGE_VIDEO,query:e.query});return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(a,o){var s={title:t.title,path:t.path,imageUrl:e.thumbUrl,cardSubType:Object(C.mapPageTypeToCardSubType)(n),messageExtraData:j({title:t.title,imageUrl:e.fileUrl,pageType:n,thumbUrl:e.thumbUrl,fileUrl:e.fileUrl},r)};Object(i.invokeMethod)("shareAppMessageDirectly",j(j({},s),{},{success:a,fail:o}))}))}(t,{title:e.title,path:n,imageUrl:t.thumbUrl},k.PAGE_TYPE.PLAY_PAGE_VIDEO,e)})).catch((function(e){Object(p.hideLoading)(),wxNativeConsole.error("fail",e)}))}},function(e,t,n){n.r(t),n.d(t,"getSurroundedCallbacks",(function(){return _})),n.d(t,"callbackInvoke",(function(){return O})),n.d(t,"mainInvokeMethod",(function(){return I})),n.d(t,"invokeMethod",(function(){return S})),n.d(t,"invokeMethodAsync",(function(){return C})),n.d(t,"invokeMethodWithPlugin",(function(){return k})),n.d(t,"_invokeMethod",(function(){return A}));var r=n(103),a=n(0),i={},o={},s={},c=0,u=function(e,t){return Object.keys(t).map((function(n){return Object.keys(t[n]).map((function(r){return{func:n,result:e,errMsg:r,count:t[n][r]}}))}))},l=function(){var e=u(1,i),t=u(2,o),n=u(3,s),r=[].concat(e,t,n);0!==r.length&&Object(a.invokeMethod)("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:r,appType:Reporter.getAppType()})}),i={},o={},s={}},d=n(31),f=n(54),p=n(1),h=n(4),v=n(57),g=n(2),y=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"],m=function(e){return g.IS_ANDROID&&y.includes(e)};function _(e,t){return Object.keys(e).reduce((function(n,r){return"function"==typeof e[r]&&(n[r]=__errorTracer__.surroundThirdByTryCatch(e[r],"at api "+t+" "+r+" callback function"),delete e[r]),n}),{})}function b(e,t){return Object.keys(e).reduce((function(n,r){return"function"==typeof e[r]&&(n[r]=Object(d.surroundByTryCatchFactory)(e[r],"at api "+t+" "+r+" callback function"),n[r]._argumentsLength=e[r].length),n}),{})}function O(e,t,n,r){e.errMsg=e.errMsg||t+":ok";var a=0===e.errMsg.indexOf(t+":ok"),u=new RegExp(t+":(fail |fail:)?cancel").test(e.errMsg),d=0===e.errMsg.indexOf(t+":fail");"function"==typeof r.beforeAll&&r.beforeAll(e),a?function(e,t,n){var r=function(){"function"==typeof e.success&&e.success(t),"function"==typeof n.afterSuccess&&n.afterSuccess(t)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(t,r):(n.beforeSuccess(t),r()):r()}(n,e,r):u?function(e,t,n,r){var a=new RegExp(t+":(fail |fail:)?cancel");e.errMsg=e.errMsg.replace(a,t+":fail cancel"),"function"==typeof n.fail&&n.fail(e),"function"==typeof r.beforeCancel&&r.beforeCancel(e),"function"==typeof n.cancel&&n.cancel(e),"function"==typeof r.afterCancel&&r.afterCancel(e)}(e,t,n,r):d&&function(e,t,n,r){"function"==typeof e.beforeFail&&e.beforeFail(n),"function"==typeof r.fail&&r.fail(n),"function"==typeof e.afterFail&&e.afterFail(n),Object(h.isFunction)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(n)||Reporter.reportIDKey({key:t+"_fail"})}(r,t,e,n),"function"==typeof n.complete&&n.complete(e),"function"==typeof r.afterAll&&r.afterAll(e),function(e,t,n,r,a){var u;(u=t?i:n?o:s)[e]=u[e]||{},u[e][a]=(u[e][a]||0)+1,Date.now()-c>=6e4&&(c=Date.now(),setTimeout(l,6e4))}(t,a,d,0,e.errMsg)}function E(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";Object(h.isObject)(n)||(n={}),"operateWXData"===t&&n._isFromBaseOperateWXData;var o=_(n,t);if(n=Object.assign({},n),a=b(a,t),Reporter.reportIDKey({key:t}),!e){if(0===p.default.appType&&f.banAPISet.has(t)&&!Object(f.checkAPIAvailableForCurrentPage)(t))return void O({errMsg:t+":fail API has been banned"},t,o,a);delete n.pluginId,delete n.permissionBytes,"/"!==i&&(n.pluginId=i)}var s=m(t);Object(r.invoke)(t,n,(function(e){O(e,t,o,a)}),s)}}var I=E(!1),S=function(e,t,n){v.UI_JSAPI.indexOf(e)<0?I(e,t,n):Object(v.registerDelayedInvoke)(e,t,n)},C=function(e,t,n){return Object(d.invoke2Async)((function(t){return S(e,t,n)}))(t)},k=function(e){return e?function(t,n,r){I(t,n,r,e)}:S},T=E(!0),A=function(e,t,n){T(e,t,n)}},function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"reportUserCaptureScreen",(function(){return a})),n.d(t,"reportLandingPageShare",(function(){return i}));var r=n(84),a=function(e){return Object(r.reportMMData)(19213,e)},i=function(e){return Object(r.reportMMData)(19214,e)}},function(e,t,n){n.r(t),n.d(t,"deviceInfo",(function(){return c})),n.d(t,"deviceReady",(function(){return u}));var r=n(1),a=n(10),i=n(19),o=n(34),s=!1,c={},u=function(){return s?Promise.resolve(c):new Promise((function(e){r.default.onReady((function(){s=!0,c.deviceOrientation=Object(i.getInitDeviceOrientation)();var t=Object(o.getInitScreenSize)();c.screenWidth=t.screenWidth||0,c.screenHeight=t.screenHeight||0,c.isWaGame=Object(a.isGame)(),e(c)}))}))}},function(e,t,n){n.r(t),t.default={query:{}}},function(e,t,n){n.r(t),n.d(t,"getCloudFileUrl",(function(){return s})),n.d(t,"getCloudFileInfo",(function(){return u}));var r,a,i=n(21),o=(r="getCloudFileUrl",a="qbase_commapi",Object(i.default)(r,a,{},{},(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:+new Date+"_"+Math.random()}}),(function(e){return e})));var s=function(e,t,n){u({fileIds:e,type:t,success:n})},c=new Map,u=function(e){var t=e.fileIds,n=e.type,r=e.success,a=new Map,i=[],s=!1;if(t.forEach((function(e){var t=c.get(e);if(t){if(Date.now()<t.expireTime)return void(a.has(e)||(a.set(e,t.data),s||(s=!0)));c.delete(e)}/^(cloud):\/\//.test(e)&&i.push(e)})),0!==i.length){var u=0,d=function(e,t){for(var n=[],r=Math.ceil(e.length/t),a=0;a<r;a++)n.push(e.slice(a*t,(a+1)*t));return n}(t,50);Promise.all(d.map((function(e){return new Promise((function(t){o({data:{fileid_list:e,type:n},requestInQueue:!1,success:function(n){var r=JSON.parse(n.rawData);if(r.baseresponse&&0===r.baseresponse.errcode?r.download_list.forEach((function(e){a.set(e.fileid,e),!c.has(e.fileid)&&e.max_age&&c.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):r.baseresponse?e.forEach((function(e){a.set(e,{download_url:e,service_errcode:r.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+r.baseresponse.errcode}),c.has(e)&&c.delete(e)})):e.forEach((function(e){a.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),c.has(e)&&c.delete(e)})),r.baseresponse&&r.baseresponse.stat&&r.baseresponse.stat.qbase_cost_time){var i=r.baseresponse.stat.qbase_cost_time;i>u&&(u=i)}t()},fail:function(){t()},complete:function(e){}})}))}))).then((function(){l(t,a,u,r)})).catch((function(e){"function"==typeof r&&r({data:t.map((function(t){return{url:t,service_errcode:-1,errmsg:e+""}}))})}))}else s?l(t,a,0,r):"function"==typeof r&&r({data:t.map((function(e){return{url:e}}))})};function l(e,t,n,r){var a=[];e.forEach((function(e){if(/^(cloud):\/\//.test(e)){var n=t.get(e);n?0===n.service_errcode?a.push({url:n.download_url}):a.push({url:e,code:n.service_errcode,msg:n.errmsg}):a.push({url:e,code:-1,msg:"NO_RESULT"})}else a.push({url:e})})),"function"==typeof r&&r({data:a,cost:n})}},function(e,t,n){var r;function a(e){r=e}function i(){return r}n.r(t),n.d(t,"setLastOnHideMode",(function(){return a})),n.d(t,"getLastOnHideMode",(function(){return i}))},function(e,t,n){n.r(t),n.d(t,"_getEnterOptionsSync",(function(){return u})),n.d(t,"getEnterOptionsSync",(function(){return l}));var r=n(1),a=n(10),i=n(74),o=n(58),s={},c=null;function u(){return s}function l(){return c||Object(o.getLaunchOptionsSync)()}r.default.onReady((function(){s=r.default.appLaunchInfo,Object(a.isGame)()&&(Object(i._onBaseFrameShow)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);s.referrerInfo=Object.assign({},s.referrerInfo,t.referrerInfo),delete t.referrerInfo,s=Object.assign({},s,t)})),Object(i.onShow)((function(e){c=e})))}))},function(e,t,n){n.r(t),n.d(t,"readFile",(function(){return y})),n.d(t,"readFileSync",(function(){return m}));var r=n(0),a=n(25),i=n(36),o=n(2),s=n(1),c=n(80),u=n(23),l=(n(44),n(4));var d="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",f="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";Object(l.isString)(d)&&(d=d.replace(" ","")),Object(l.isString)(f)&&(f=f.replace(" ","-")),s.default.onReady((function(){s.default.appLaunchInfo.scene,s.default.appLaunchInfo.sessionid||s.default.appLaunchInfo.sessionId,Object(u.onNativeEvent)("onAppEnterForeground",(function(e){e&&e.scene&&e.scene,e&&(e.sessionid||e.sessionId)&&(e.sessionid||e.sessionId)}))}));new WeakSet;var p=[];Map,Math.random;var h=n(9),v=i.default.fs,g=!1;v&&v.FileReader&&s.default.onReady((function(){var e=!1,t=o.IS_IOS?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";Object(c._getABTestConfig)({experimentId:t,experimentType:"Expt",success:function(t){var n,r;t&&1===Number(t.testConfig)&&(n=/readFile(?:Sync)?$/,r=1,p.push({match:n,version:r}),e=!0)},fail:function(e){}});var n=Object(a.checkPermissionSync)("bindingReadFile");g=e||n}));var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.beforeInvoke)("readFile",e,{filePath:""}))if(Object(l.isUndefined)(e.encoding)||Object(l.isString)(e.encoding))if(Object(l.isUndefined)(e.position)||Object(l.isNumber)(e.position))if(Object(l.isUndefined)(e.length)||Object(l.isNumber)(e.length))if(g){var t=new v.FileReader;t.onerror=function(t){return Object(r.beforeInvokeFail)("readFile",e,t)},t.onread=function(t){return Object(r.beforeInvokeCallback)({name:"readFile",args:e,res:{data:t}})},t.read(e.filePath,e.encoding)}else Object(r.invokeMethod)("readFile",e);else Object(r.beforeInvokeFail)("readFile",e,"invalid length: "+e.length);else Object(r.beforeInvokeFail)("readFile",e,"invalid position: "+e.position);else Object(r.beforeInvokeFail)("readFile",e,"invalid encoding: "+e.encoding)},m=function(e,t,n,a){if(!e||!Object(l.isString)(e))throw new h.ThirdScriptError("invalid filePath: "+e);if(!Object(l.isUndefined)(t)&&!Object(l.isString)(t))throw new h.ThirdScriptError("invalid encoding: "+t);if(!Object(l.isUndefined)(n)&&!Object(l.isNumber)(n))throw new h.ThirdScriptError("invalid position: "+n);if(!Object(l.isUndefined)(a)&&!Object(l.isNumber)(a))throw new h.ThirdScriptError("invalid length: "+a);if(g)try{return v.readFileSync(e,t)}catch(o){throw new Error(o)}var i,o;if(Object(r.invokeMethod)("readFileSync",{filePath:e,encoding:t,position:n,length:a,success:function(e){i=e.data},fail:function(e){o=e.errMsg}}),o)throw new Error(o);return i}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n.r(t),n.d(t,"encodeIdKey",(function(){return a})),n.d(t,"IDKEY_GROUP",(function(){return r})),n.d(t,"IDKEY",(function(){return o})),n.d(t,"SPLASHAD_IDKEY",(function(){return c})),n.d(t,"CUSTOMAD_IDKEY",(function(){return l}));var r,a=function(e,t){return{idKey:e,idKeyGroup:t}};!function(e){e[e.COMMON=924]="COMMON",e[e.SPLASHAD=1288]="SPLASHAD",e[e.CUSTOMAD=1390]="CUSTOMAD"}(r||(r={}));var i=function(e){return a(e,r.COMMON)},o={AD_BANNER_LOAD_ERROR:i(5),AD_VIDEO_LOAD_ERROR:i(10),REWARDED_VIDEO_PARSE_ERROR:i(11),REWARDED_VIDEO_RENDER_ERROR:i(12),REWARDED_VIDEO_LOAD_ERROR:i(13),REWARDED_VIDEO_FOLLOW_SUCCESS:i(14),OPEN_URL_ERROR:i(21),OPEN_WXAPP_ERROR:i(22),OPEN_CANVAS_ERROR:i(23),ADD_CONTACT_ERROR:i(24),LAUNCH_APP_ERROR:i(25),OPEN_WEBAPPSTORE_ERROR:i(26),ADD_DOWNLOAD_TASK_ERROR:i(28),CLICK_REPORT_ERROR:i(32),EXPOSURE_REPORT_ERROR:i(33),FOLLOW_REPORT_ERROR:i(34),REWARDED_VIDEO_ANIMATE_ERROR:i(35),AD_FOLLOWED:i(37),AD_INSTALLED:i(38),AD_INTERSTITIAL_LOAD_ERROR:i(39),REWARDED_VIDEO_INSTANCE_BROKEN:i(50),PRELOAD_MINIENV_SUCCESS:i(86),PRELOAD_MINIENV_ERROR:i(87),AD_GRID_LOAD_SUCCESS:i(88),AD_GRID_LOAD_COUNT_ERROR:i(89),AD_GRID_LOAD_ERROR:i(90),PREDOWNLOAD_SUCCESS:i(96),PREDOWNLOAD_ERROR:i(97),REWARDED_VIDEO_OTHER_SHOW_ERROR:i(105),BATCHLOAD_SUCCESS:i(112),BATCHLOAD_ERROR:i(113),REWARDED_VIDEO_BUTTON_WIDTH_ERROR:i(114),REWARDED_VIDEO_FULLSCREEN_SHOW_ERROR:i(115),BIND_GUIDE_SUCCESS:i(119),BIND_GUIDE_ERROR:i(120),REWARDED_VIDEO_FULLSCREEN_HIDE_ERROR:i(121),RIGHTBUTTON_HIDE_ERROR:i(127),REWARDED_VIDEO_RELATION_FETCH_ERROR:i(128),GET_DEVICEINFO_ERROR:i(129),THIRD_ERROR:i(130),GET_DEVICEINFO_SUCCESS:i(131),GET_WAID_SUCCESS:i(132),GET_WAID_ERROR:i(133),READ_ADINFOS_ERROR:i(134),AD_FETCH_SUCCESS:i(135),REWARDED_VIDEO_PRELOAD_ERROR:i(136),REWARDED_VIDEO_PRELOAD_SUCCESS:i(137),READ_ADINFOS_SUCCESS:i(138),ANALYSE_DEBUG_REPORT_ERROR:i(139),PRELOAD_CALL_ERROR:i(140),PRELOAD_LOAD_ERROR:i(141),PRELOAD_LOAD_SUCCESS:i(142),PRELOAD_USE_SUCCESS:i(143),PRELOAD_USE_ERROR:i(144),PRELOAD_DOWNLOAD_SUCCESS:i(145),PRELOAD_DOWNLOAD_ERROR:i(146),REPORT_VIDEO_FAILED:i(147),REWARD_GAUSS_EXISTS:i(148),REWARD_USE_GAUSS:i(149),REWARD_USE_EXPAND_STYLE:i(150),REWARD_USE_GAUSS_AND_EXPAND_STYLE:i(151),REWARDED_VIDEO_KEEP_ALIVE:i(152),REWARDED_VIDEO_END:i(154),OPEN_CHANNELS_ACTIVITY_SUCCESS:i(156),OPEN_CHANNELS_ACTIVITY_FAILED:i(157),OPEN_CHANNELS_LIVE_SUCCESS:i(158),OPEN_CHANNELS_LIVE_FAILED:i(159),OPEN_CHANNELS_USER_PROFILE_SUCCESS:i(160),OPEN_CHANNELS_USER_PROFILE_FAILED:i(161),REWARD_CHANNELS_CALLBACK_SUCCESS:i(162),REWARD_CHANNELS_CALLBACK_FAILED:i(163),H5_PRELOAD_CARD_CLICKED:i(164),H5_PRELOAD_BUTTON_CLICKED:i(165),H5_PRELOAD_SUCCESS:i(166),H5_PRELOAD_FAILED:i(167),H5_PRELOAD_PLAYABLE_CLICKED:i(168)},s=function(e){return a(e,r.SPLASHAD)},c={dataLoadSuccess:s(0),dataLoadFail:s(1),dataPreloadSuccess:s(2),dataPreloadFail:s(3),handleDataFail:s(4),launchAcceptShouldShow:s(5),menuAcceptShouldShow:s(6),readFileFail:s(7),launchShowSplashAdSuccess:s(8),menuShowSplashAdSuccess:s(9),showSplashAdFail:s(10),firstRenderFail:s(11),firstInsertFail:s(12),secondRenderFail:s(13),secondInsertFail:s(14),iosThirdInsertFail:s(15),checkAdStateFail:s(16),adOfflineClose:s(17),readFileDataFail:s(18),firstShowSuccess:s(19),showSplashAdMenuSuccess:s(20),showSplashAdMenuFail:s(21),secondShowSuccess:s(22),removeFileDataFail:s(23),landingPageFail:s(24),frequencyControlFail:s(25),frequencyControlReturn:s(26),bulkCopyFileFail:s(27),getAdInfosFail:s(28),getAidFail:s(29),setExposureTagFail:s(30),NO_ADINFOS:s(31),NO_AID:s(32),MATERIAL_NOT_READY:s(33),CHECK_AD_STATUS_ERROR:s(34),CRT_ORIENTATION_NOT_SURE:s(35),EXPOSURE_TIMES_LIMIT:s(36),START_CHECK_AD_STATUS:s(37),CHECK_AD_STATUS_SUCCESS:s(38),OTHER_ADS_EMIT_FETCH:s(39),WRITE_ADINFOS_SUCCESS:s(40),WRITE_ADINFOS_FAIL:s(41)},u=function(e){return a(e,r.CUSTOMAD)},l={LOAD_FAILED:u(1),PRELOAD_SUCCESS:u(2),PRELOAD_FAILED:u(3),PARSE_FAILED:u(4),TPL_RENDER_SUCCESS:u(5),TPL_PARSE_FAILED:u(6),TPL_LOAD_FAILED:u(7),AD_LIMIT_TIME:u(8),AD_LIMIT_BOUNDARY:u(9),RELATION_FETCH_ERROR:u(10),SHOW_FAILED1:u(11),SHOW_FAILED2:u(12),AD_VIDEO_LOAD_FAILED:u(13),FOLLOW_SUCCESS:u(14),FOLLOW_FAILED:u(15),RENDER_SUCCESS:u(16),RENDER_FAILED:u(17),REFETCH_SUCCESS:u(18),REFETCH_FAILED:u(19),LOAD_SUCCESS:u(20),WIDTH_GET_ERROR:u(21)}},function(e,t,n){n.r(t),n.d(t,"publish",(function(){return a}));var r=n(100);function a(e,t,n){var a={data:t,options:{timestamp:Date.now()}};Object(r.publish)(e,a,n)}},function(e,t,n){function r(e,t,n){__safeway__.bridge.publish(e,t,n)}n.r(t),n.d(t,"publish",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"subscribe",(function(){return a}));var r=n(102);function a(e,t){Object(r.subscribe)(e,(function(e,n){var r=e.data,a=e.options,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a&&a.timestamp||0,s=Date.now();Reporter.speedReport({key:"webview2AppService",data:r||{},timeMark:{startTime:o,endTime:s,nativeTime:i.nativeTime||0}}),"function"==typeof t&&t(r,n)}))}},function(e,t,n){function r(e,t){__safeway__.bridge.subscribe(e,t)}n.r(t),n.d(t,"subscribe",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"invoke",(function(){return a}));var r=n(76);function a(e,t,n,a){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||Object(r.getAdUxInfo)()),__safeway__.bridge.invoke(e,t,n,a)}},function(e,t,n){n.r(t),n.d(t,"onMethod",(function(){return i}));var r=n(105),a=n(31);function i(e,t){Object(r.on)(e,Object(a.surroundByTryCatchFactory)(t,"at api "+e+" callback function"))}},function(e,t,n){function r(e,t){__safeway__.bridge.on(e,t)}n.r(t),n.d(t,"on",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"pick",(function(){return c})),n.d(t,"omit",(function(){return u})),n.d(t,"isObject",(function(){return l})),n.d(t,"mergeDeep",(function(){return d})),n.d(t,"getMembers",(function(){return f})),n.d(t,"get",(function(){return p})),n.d(t,"flatten",(function(){return h})),n.d(t,"cloneDeep",(function(){return v}));var r=n(28),a=n(14),i=n(13);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})},u=function(e,t){return c(e,Object.keys(e).filter((function(e){return!t.includes(e)})))},l=function(e){return e&&"object"===Object(i.default)(e)&&!Array.isArray(e)};function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(l(e)&&l(i))for(var o=0,s=Object.keys(i);o<s.length;o++){var c=s[o];l(i[c])?(e[c]||Object.assign(e,Object(a.default)({},c,{})),d(e[c],i[c])):Object.assign(e,Object(a.default)({},c,i[c]))}return d.apply(void 0,[e].concat(n))}var f=function(e){for(var t=new Set,n=e;n;){var a,i=o(Object.getOwnPropertyNames(n));try{for(i.s();!(a=i.n()).done;){var s=a.value;t.add(s)}}catch(e){i.e(e)}finally{i.f()}n=Object.getPrototypeOf(n)}return Object(r.default)(t)},p=function(e,t,n){for(var r="string"==typeof t?t.split("."):t,a=e,i=0;a&&i<r.length;)a=a[r[i]],i+=1;return a||n},h=function e(t){return t.reduce((function(t,n){return Array.isArray(n)?t.push.apply(t,Object(r.default)(e(n))):t.push(n),t}),[])},v=function(e){return JSON.parse(JSON.stringify(e))}},function(e,t,n){n.r(t),n.d(t,"getLaunchOptionsSync",(function(){return f})),n.d(t,"_getLaunchOptionsSync",(function(){return p}));var r,a,i=n(0),o=n(47),s=n(53),c=n(49),u=n(1),l=n(123),d=n(10);function f(){if(!r)throw new Error("getLaunchOptionsSync:fail get launch options");var e=Object(l.getPluginId)(this)||"";return Object(s.isolateInfo)(r||{},e)}function p(){if(!a)throw new Error("getLaunchOptionsSync:fail get launch options");return a||{}}Object(i.subscribe)("getLaunchAppInfo",(function(e,t){var n=e.callbackId;Object(i.publish)("appLaunchInfoGot",{res:{sceneHistory:o.default.sceneHistory,appId:o.default.appId},callbackId:n},[t])})),u.default.onReady((function(){if(!Object(d.isGame)()){var e=u.default.appLaunchInfo||{};Object.assign(e,u.default.debugLaunchInfo||{}),o.default.appLaunchInfo=e,o.default.appLaunchShareInfo=e.shareInfo,Object(c.setInnerEnterOptions)(e),a=Object(s.filterInfo)(e,!0),r=Object(s.filterPublicInfo)(a,u.default.preloadType),a.__public=Object(s.isolateInfo)(r,""),Object(c.setEnterOptions)(r)}}))},function(e,t,n){n.r(t),n.d(t,"openUrl",(function(){return s})),n.d(t,"privateOpenUrl",(function(){return c}));var r=n(0),a=n(9),i=n(5),o=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!0!==i.default.openUrlLock)if(t.url=t.url||"",Object(a.validateUrl)(t.url))i.default.openUrlLock=!0,Object(r.invokeMethod)(e,t,{afterAll:function(){i.default.openUrlLock=!1}});else{console.error("invalid url",t.url);var n={errMsg:e+': invalid url "'+t.url+'"'};"function"==typeof t.fail&&t.fail(n),"function"==typeof t.complete&&t.complete(n)}}},s=o("openUrl"),c=o("private_openUrl")},function(e,t,n){n.r(t),n.d(t,"onDomReady",(function(){return f})),n.d(t,"onWebviewEvent",(function(){return p}));var r=n(0),a=n(9),i=n(5),o=n(2),s=n(18),c=Object(s.getEventManager)("XWebTextareaSupportedEvent"),u=!1;Object(r.subscribe)("xWebTextareaSupported",(function(e){var t=e.canInsert2XWeb;u=t,c.emit({canInsert2XWeb:t})})),(o.IS_DEVTOOLS||o.IS_WINDOWS||o.IS_MAC||o.IS_ANDROID||o.IS_MINA)&&Object(r.subscribe)("SPECIAL_PAGE_EVENT",(function(e){var t=e.data,n=e.eventName,s=e.ext,c=e.nodeId,l=e.instanceId,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((!o.IS_ANDROID||u)&&(t&&"input"===t.type&&s&&s.modelValueName&&__virtualDOM__.setModelValueData(t.detail.value,s.modelValueName,d,c),t&&"input"===t.type&&"function"==typeof i.default.webviewEventCallback)){var f=i.default.webviewEventCallback({data:t,eventName:n,webviewId:d,nodeId:c}),p=t.detail.value;if(s&&s.setKeyboardValue)if(void 0===f);else if("Object"===Object(a.getDataType)(f)){var h={};l&&(h.instanceId=l),p!==f.value&&(h.value=f.value+""),Number.isNaN(parseInt(f.cursor,10))||(h.cursor=parseInt(f.cursor,10)),Object(r.publish)("setKeyboardValue",h,[d])}else p!==f&&Object(r.publish)("setKeyboardValue",{value:f+"",cursor:-1,instanceId:l},[d])}}));var l="__DOMReady",d=Object(s.getEventManager)("DomReady"),f=d.internalOnMethod,p=function(e){i.default.webviewEventCallback=e,Object(r.subscribe)("PAGE_EVENT",(function(t){var n=t.data,r=t.eventName,a=t.nodeId,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r===l&&d.emit({data:n,eventName:r,webviewId:i,nodeId:a}),e({data:n,eventName:r,webviewId:i,nodeId:a})}))}},function(e,t,n){n.r(t),n.d(t,"reportUserBehaviorBranchAnalytics",(function(){return u})),n.d(t,"reportUserBehaviorBranchAnalyticsForDebug",(function(){return c}));var r=n(21),a=n(0),i=n(1),o=Object(r.default)("reportUserBehaviorBranchAnalytics","webapi_reportbranchanalytics",{},{},(function(e){return{itemList:[{branchId:e.branchId,branchDim:e.branchDim,eventType:e.eventType}]}})),s=Object(r.default)("reportUserBehaviorBranchAnalyticsForDebug","webapi_reportbranchanalyticsfordebugtool",{},{},(function(e){return{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:e.reportType,query:e.query}]}}));function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"release"!==i.default.envVersion&&s(e)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"!=typeof e.branchId?Object(a.beforeInvokeFail)("reportUserBehaviorBranchAnalytics",e,"branchId must be a string"):e.branchDim&&"string"!=typeof e.branchDim?Object(a.beforeInvokeFail)("reportUserBehaviorBranchAnalytics",e,"branchDim is an optional string"):1!==e.eventType&&2!==e.eventType?Object(a.beforeInvokeFail)("reportUserBehaviorBranchAnalytics",e,"eventType must be 1 or 2"):(o(e),c({branchId:e.branchId,branchDim:e.branchDim,reportType:e.eventType}))}},function(e,t,n){n.r(t),n.d(t,"updateWindowSizeStatus",(function(){return p})),n.d(t,"onWindowResize",(function(){return h})),n.d(t,"offWindowResize",(function(){return v}));var r=n(0),a=[],i=null,o=null,s=!1,c=[],u=!1,l="",d=0,f=0,p=function(e){e.deviceOrientation&&(l=e.deviceOrientation),d=e.size.windowWidth,f=e.size.windowHeight};Object(r.onMethod)("onViewDidResize",(function(e){!function(e){i=e;var t=!1,n=!0;e.deviceOrientation!==l&&(t=!0),e.size.windowWidth!==d&&(t=!0),e.size.windowHeight!==f&&(t=!0),p(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(u=!0),"auto"===e.pageOrientation.originalPageOrientation||u||(t=!1,n=!1)),"undefined"!=typeof __appServiceEngine__&&__appServiceEngine__.isFramesetMode()&&(n=!1),t&&(s=!0);var r=e.changedWebviewIds;n&&r&&r.forEach((function(e){c.indexOf(e)<0&&c.push(e)})),o||(o=setTimeout((function(){o=null;var e=s;s=!1;var t=c;c=[];var n={deviceOrientation:i.deviceOrientation,size:i.size};e&&a.forEach((function(e){__errorTracer__.surroundThirdByTryCatch(e,"at onWindowResize callback function")(n)})),t.forEach((function(e){var t="undefined"!=typeof __appServiceEngine__?__appServiceEngine__.getPageByWebviewId(e):null;t&&__errorTracer__.surroundThirdByTryCatch((function(){t.__callPageLifeTime__("onResize",n)}),"at Resize callback function")()}))}),16))}(e)}));var h=function(e){a.push(e)},v=function(e){a.splice(a.indexOf(e),1)}},function(e,t,n){function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){function r(e){if(Array.isArray(e))return e}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){n.r(t),n.d(t,"default",(function(){return o}));var r=n(8),a=n(11),i=n(35),o=function(){function e(){Object(r.default)(this,e),this.emitter=new i.default({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}return Object(a.default)(e,[{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"on",value:function(e,t){if(t&&"function"==typeof t){var n=__errorTracer__.surroundThirdByTryCatch(t,"at "+e+" callback function");this.callbackMap.set(t,n),this.originalCallbackMap.set(n,t),this.emitter.on(e,n)}}},{key:"off",value:function(e,t){var n=this;if(t&&"function"==typeof t){var r=this.callbackMap.get(t);"function"==typeof r&&(this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r))}else this.emitter.listeners(e).forEach((function(e){var t=n.originalCallbackMap.get(e);n.callbackMap.delete(t),n.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}]),e}()},function(e,t,n){n.r(t),n.d(t,"getFileInfo",(function(){return i}));var r=n(0),a=n(4),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.beforeInvoke)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=Object(a.paramCheck)(e,{digestAlgorithm:""});if(t)return void Object(r.beforeInvokeFail)("getFileInfo",e,"parameter error: "+t);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void Object(r.beforeInvokeFail)("getFileInfo",e,'parameter error: invalid digestAlgorithm "'+e.digestAlgorithm+'"')}Object(r.invokeMethod)("getFileInfo",e,{})}}},function(e,t,n){n.r(t),n.d(t,"getMMDataProto",(function(){return a}));var r={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}]},a=function(e){var t=r[e.toString()];return t?t.concat([]):[]}},function(e,t,n){n.r(t),n.d(t,"handleRewriteRoute",(function(){return g})),n.d(t,"handlePluginProtocol",(function(){return v})),n.d(t,"onAppRoutePageNotFound",(function(){return u})),n.d(t,"offAppRoutePageNotFound",(function(){return l})),n.d(t,"emitAppRoutePageNotFound",(function(){return d}));var r=n(88),a=n(18),i=n(9),o=n(42),s=Object.hasOwnProperty,c=Object(a.getEventManager)("AppRouteNotFound"),u=c.onMethod,l=c.offMethod,d=c.emit,f=function(e,t){o.nativeConsole.info("[rewriteRoute] (webviewId="+t+") "+e)},p={},h=function(e,t){var n=0;if(s.call(e,"originalWebviewId"))n=e.originalWebviewId,f("Found originalWebviewId="+n,t);else{if(1!==Object.keys(p).length)return f("No originalWebviewId found and we have "+Object.keys(p).length+" backup data, guess failed, cleaning backups and giving up",t),p={},e;n=Object.keys(p)[0],f("No originalWebviewId found and guess it="+n,t)}var r=p[n];return delete p[n],["openType","wxMaterial","location","prerender"].forEach((function(t){e[t]=r[t]})),e},v=function(e,t){var n=t.needHtmlSuffix,r=e.replace(/\.html(\?|$)/i,(function(e){return e.slice(5)})),a=Object(i.convertProtocolPath)(r);if("/"===a[0]&&(a=a.slice(1)),!n)return a;var o=a.indexOf("?");return o<0&&(o=a.length),a.slice(0,o)+".html"+a.slice(o)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(["dismissPip","navigateBack"].includes(e.openType))return!1;if("rewriteRoute"===e.openType&&(e=h(e,t)),!e.notFound)return!1;for(var n=!1,a=e.rawPath;/^[-_+a-z]+:\/\//i.test(a);){f(a+" has protocol, try rewriting",t);try{a=v(a,{needHtmlSuffix:!0}),n=!0}catch(e){return"AppServiceSdkKnownError"===e.type&&console.error(e.message),Object(r.invokeMethod)("pageNotFoundCallback",{hasHandler:!1,webviewId:t}),!1}}return n?(p[t]=e,f('rewriteRoute from "'+e.rawPath+'" to "'+a+'"',t),Object(r.invokeMethod)("rewriteRoute",{url:a,webviewId:t}),!0):(d(e,t),!1)}},function(e,t,n){var r=n(137)("xml-parser");e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:n()}}();function t(){if(i(/^<\?xml\s*/)){for(var e={attributes:{}};!o()&&!s("?>");){var t=a();if(!t)return e;e.attributes[t.name]=t.value}return i(/\?>\s*/),e}}function n(){r("tag %j",e);var t=i(/^<([\w-:.]+)\s*/);if(t){for(var c,u={name:t[1],attributes:{},children:[]};!(o()||s(">")||s("?>")||s("/>"));){var l=a();if(!l)return u;u.attributes[l.name]=l.value}if(i(/^\s*\/>\s*/))return u;for(i(/\??>\s*/),u.content=function(){r("content %j",e);var t=i(/^([^<]*)/);return t?t[1]:""}();c=n();)u.children.push(c);return i(/^<\/[\w-:.]+>\s*/),u}}function a(){r("attribute %j",e);var t,n=i(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(n)return{name:n[1],value:(t=n[2],t.replace(/^['"]|['"]$/g,""))}}function i(t){var n=e.match(t);if(n)return e=e.slice(n[0].length),n}function o(){return 0==e.length}function s(t){return 0==e.indexOf(t)}}},function(e,t,n){n.r(t),n.d(t,"downloadFile",(function(){return _e})),n.d(t,"_downloadFileSkipCheckDomain",(function(){return me}));var r=n(0),a=n(36),i=n(2),o=n(1),s=n(80),c=n(25),u=n(8),l=n(15),d=n(16),f=n(7),p=n(32),h=n(13),v=n(14),g=n(11),y=n(26),m=n(44),_=n(10),b=n(92),O=0,E=[],I=function(){var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:E,appType:Reporter.getAppType()},null,2);Object(r.invokeMethod)("reportRealtimeAction",{actionData:e}),E=[]},S=function(e){var t="";return Object.keys(e).forEach((function(n,r){try{var a=encodeURIComponent(n)+"="+encodeURIComponent(e[n]);0!==r&&(t+="&"),t+=a}catch(e){}})),t},C=n(55),k=n(4),T=n(67),A=(n(69),T.default.app),P=(A.saveFile,A.saveFileSync,A.getSavedFileList,A.getSavedFileInfo,A.removeSavedFile,A.getFileInfo,A.readFile,A.readFileSync,A.writeFile,A.writeFileSync,A.mkdir,A.mkdirSync,A.rmdir,A.rmdirSync,A.readdir,A.readdirSync,A.access,A.accessSync,A.unlink,A.unlinkSync,A.stat);A.statSync,A.unzip,A.copyFile,A.copyFileSync,A.rename,A.renameSync,A.appendFile,A.appendFileSync;var w=function(){function e(t){var n=this;if(Object(u.default)(this,e),this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof t)throw new TypeError("Promise resolver is not a function");try{t((function(e){"pending"===n._status&&(n._status="then",n._return=e,n._consume())}),(function(e){"pending"===n._status&&(n._status="catch",n._return=e,n._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}return Object(g.default)(e,[{key:"_consume",value:function(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}},{key:"then",value:function(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}},{key:"catch",value:function(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}}],[{key:"resolve",value:function(t){return new e((function(e){return e(t)}))}},{key:"reject",value:function(t){return new e((function(){throw t}))}}]),e}(),D=Object(_.promisify)(P),R=0,M=new WeakMap,j=new WeakMap,x=new WeakMap,L=new WeakMap,N=new WeakMap,B=new WeakMap,F=new WeakMap,V=new WeakMap,W=new WeakMap,U=new WeakMap,G={},H=new C.Emitter("Network",!0),Y=wxNativeConsole.createLogger("NetworkTask"),q=function(){function e(t,n){var r=this,a=n.taskType,s=n.beforeSend,c=n.beforeSuccess,l=n.beforeFail;Object(u.default)(this,e);var d=R++;M.set(this,d),x.set(this,"waiting"),L.set(this,t),N.set(this,a),F.set(this,s),V.set(this,c),Object(k.isFunction)(l)&&W.set(this,l);var f=!1;i.IS_ANDROID&&o.default.clientVersion>=654315008&&("Download"!==a&&"Request"!==a||Object.keys(o.default.gamePlugins||o.default.plugins||{}).forEach((function(e){var t=(o.default.gamePlugins||o.default.plugins)[e];!t||"wx20afc706a711eefc"!==t.provider&&"wx4d5893418b75cb20"!==t.provider||(f=!0)}))),U.set(this,f),this.promise=new w((function(e,t){r.resolve=e,r.reject=t}));var p=function(){$.call(r)?G[a].taskQueue.push({id:d,item:r}):z.call(r)};Object(k.isFunction)(t.customCheck)?t.customCheck(t,(function(e){e?K(a,t,e):p()})):p()}return Object(g.default)(e,[{key:"abort",value:function(){var e=this;if(Y.info("["+N.get(this)+"]["+M.get(this)+"]abort()"),"waiting"===x.get(this)){Y.info("["+N.get(this)+"]["+M.get(this)+"] waiting=true");var t=G[N.get(this)].taskQueue.findIndex((function(t){return t.id===M.get(e)}));t>-1&&(G[N.get(this)].taskQueue.splice(t,1),Object(y.beforeInvokeFail)(G[N.get(this)].functionName,L.get(this),"abort")),x.set(this,"done")}else this.promise.then((function(){var t;Object(y.invokeMethod)("operate"+N.get(e)+"Task",(t={},Object(v.default)(t,N.get(e).toLowerCase()+"TaskId",j.get(e)),Object(v.default)(t,"operationType","abort"),t))}))}},{key:"onProgressUpdate",value:function(e){var t=this;this.promise.then((function(){H.on(""+N.get(t)+j.get(t)+"progressUpdate",e)}))}},{key:"offProgressUpdate",value:function(e){var t=this;this.promise.then((function(){H.off(""+N.get(t)+j.get(t)+"progressUpdate",e)}))}},{key:"onHeadersReceived",value:function(e){var t=this;this.promise.then((function(){H.on(""+N.get(t)+j.get(t)+"headersReceived",e)}))}},{key:"offHeadersReceived",value:function(e){var t=this;this.promise.then((function(){H.off(""+N.get(t)+j.get(t)+"headersReceived",e)}))}}]),e}();function K(e,t,n){Object(y.beforeInvokeCallback)({name:G[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:n})}function z(){var e=this,t=L.get(this),n=N.get(this),r=U.get(this);x.set(this,"sending"),B.set(this,Date.now());var a=Z.call(this);r?this.promise.then((function(){X.call(e)})).catch((function(e){K(n,t,e)})):a?K(n,t,a):X.call(this)}function Z(){var e,t=this,n=N.get(this),r=L.get(this);G[n].currentTaskCount++;var a={data:r.data,url:r.url,header:r.header,method:r.method,timeout:Object(k.isNumber)(r.timeout)?r.timeout:0,enableHttp2:!!Object(k.isBoolean)(r.enableHttp2)&&r.enableHttp2,enableQuic:!!Object(k.isBoolean)(r.enableQuic)&&r.enableQuic,enableCache:!!Object(k.isBoolean)(r.enableCache)&&r.enableCache,enableProfile:!Object(k.isBoolean)(r.enableProfile)||r.enableProfile,__skipDomainCheck__:r.__skipDomainCheck__,success:function(e){var r=e[n.toLowerCase()+"TaskId"];j.set(t,r),G[n].taskIdMap[r]=t,t.resolve()},fail:function(a){G[n].currentTaskCount--;var i=a[n.toLowerCase()+"TaskId"];e=a.errMsg,J.call(t,{taskType:n,options:r,errMsg:e,success:!1}),t.reject(e),Y.error("["+n+"][createTask][Fail] taskId="+i)},complete:function(){x.set(t,"done")}},i=U.get(this),o="create"+n+"Task"+(i?"Async":"");return Object(y.invokeMethod)(o,F.get(this)(a)),e}function X(){var e=this,t=j.get(this),n=L.get(this),r=N.get(this),a=G[r].functionName;H.on(""+r+t+"success",(function(t){V.get(e).call(e,t),Object(y.beforeInvokeCallback)({name:a,args:{success:n.success,fail:n.fail,complete:n.complete},res:t})})),H.on(""+r+t+"fail",(function(t){var r=W.get(e);r&&r.call(e,t),Object(y.beforeInvokeCallback)({name:a,args:{success:n.success,fail:n.fail,complete:n.complete},success:!1,errMsg:t.errMsg})}))}function J(e){var t=e.taskType,n=e.options,r=e.errMsg,a=e.success,i=void 0===a||a,o=e.dataLength,s=void 0===o?0:o,c=e.statusCode,u=void 0===c?"":c,l=e.responseDataLength,d=void 0===l?0:l,f=e.profile,p=void 0===f?{}:f,h=n.url,v=i?1:2,g=Date.now()-B.get(this),y=n.__skipDomainCheck__;g>=6e4&&Y.error("reportTask costTime too long: "+g+"ms, taskId="+j.get(this)),function(e,t,n,r,a,i,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},l="",d="";Object(_.isGame)()&&(d=S(b.default.query));var f=[e,t,n,r,a,Reporter.getAppType(),i,s,Object(m._getCurrentNetworkType)(),l,d,c,S(u)].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"NetworkAPI",value:f}),Reporter.reportIDKey({key:e+"_"+(1===n?"ok":"fail")}),E.push([e,t,n,i||"",r,a,Object(m._getCurrentNetworkType)(),o?"1":"0",Reporter.getAppType(),s].map((function(e){var t;try{t=encodeURIComponent(e)}catch(n){t=e}return t})).join(",")),Date.now()-O>=6e4&&(O=Date.now(),setTimeout(I,6e4))}(G[t].functionName,h,v,g,r,u,y,s,d,p)}function Q(e,t){var n,r=t.toLowerCase()+"TaskId",a=e[r],i=e.state,o=e.header;if(delete e.state,delete e[r],e.cookies=o&&(n=o["Set-Cookie"]||o["set-cookie"])?Array.isArray(n)?n:n.split(",").reduce((function(e,t){return/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e}),[]).map((function(e){return e.trim()})):[],H.emit(""+t+a+i,e),"success"===i||"fail"===i){var s=G[t].taskIdMap[a],c=L.get(s);if(!s)return;G[t].currentTaskCount-=1,G[t].taskQueue.length>0&&z.call(G[t].taskQueue.shift().item);var u=Promise.resolve(Object(_.getDataLength)(c.data));if("Upload"===t){var l=0;"object"===Object(h.default)(c.formData)&&null!==c.formData&&(l=JSON.stringify(c.formData).length),u=D({path:c.filePath}).then((function(e){return l+e.stats.size})).catch((function(){return l}))}var d=Promise.resolve(Object(_.getDataLength)(e.data));if("Download"===t){var f=e.dataLength;d="number"==typeof f?Promise.resolve(f):D({path:e.filePath||e.tempFilePath||""}).then((function(e){return e.stats.size})).catch((function(){return 0}))}Promise.all([u,d]).then((function(n){var r=Object(p.default)(n,2),a=r[0],o=r[1];J.call(s,{taskType:t,options:c,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===i,dataLength:a,responseDataLength:o,profile:e.profile})})),ee.call(s)}}function $(){var e=N.get(this);return G[e].currentTaskCount>=G[e].maxTaskCount}function ee(){var e=N.get(this),t=j.get(this);delete G[e].taskIdMap[t],H.removeAllListeners(""+e+t+"success"),H.removeAllListeners(""+e+t+"fail"),H.removeAllListeners(""+e+t+"complete")}function te(e,t){var n=this,r=G[e]?G[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};Object(y.onMethod)("on"+e+"TaskStateChange",(function(t){Q.call(n,t,e)})),G[e]=Object.assign(r,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}te("Download",{maxTaskCount:10,functionName:"downloadFile"}),o.default.onReady((function(){try{"number"==typeof o.default.wxAppInfo.maxDownloadConcurrent&&te("Download",{maxTaskCount:o.default.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));var re=function(e){Object(l.default)(n,e);var t=ne(n);function n(e){return Object(u.default)(this,n),t.call(this,e,{taskType:"Download",beforeSend:function(t){return t.filePath=e.filePath,t},beforeSuccess:function(e){return delete e.timeInterval,e}})}return n}(q),ae=n(35),ie=a.default.Download,oe=new WeakMap,se=new WeakMap,ce=new WeakMap,ue=[],le=0,de=10;function fe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(e&&(oe.delete(e),se.delete(e),ce.delete(e),le--);ue.length>0&&le<de;){var t=ue.shift(),n=oe.get(t),r=se.get(t);n&&r&&(n.start(r),le++)}}o.default.onReady((function(){o.default.wxAppInfo&&o.default.wxAppInfo.maxDownloadConcurrent&&(de=o.default.wxAppInfo.maxDownloadConcurrent)}));var pe=function(){function e(t){var n=this;Object(u.default)(this,e);var a,i,o,s=new ie,c=new ae.default;oe.set(this,s),ce.set(this,c),se.set(this,Object(_.filterObject)(t,["url","header","filePath","enableProfile"])),s.onfail=function(e){Object(r.beforeInvokeFail)("downloadFile",t,e),fe(!0)},s.onsuccess=function(e){Object(r.beforeInvokeCallback)({name:"downloadFile",args:t,res:e}),fe(!0)},s.onheader=function(e){return c.emit("header",{header:e})},s.onprogress=function(e,t,n){return c.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:n})},(a={api:"downloadFile",url:t.url},i=a.api,o=a.url,Object(_.skipURLCheck)()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!1}):new Promise((function(e,t){Object(r.invokeMethod)("checkNetworkAPIURL",{api:i,url:o,success:e,fail:t})}))).then((function(e){t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost?(ue.push(n),fe()):Object(r.beforeInvokeFail)("downloadFile",t,"invalid url")})).catch((function(){Object(r.beforeInvokeFail)("downloadFile",t,"url validate error")}))}return Object(g.default)(e,[{key:"abort",value:function(){var e=oe.get(this);e&&e.abort()}},{key:"onHeadersReceived",value:function(e){var t=ce.get(this);t&&t.on("header",e)}},{key:"onProgressUpdate",value:function(e){var t=ce.get(this);t&&t.on("progress",e)}},{key:"offHeadersReceived",value:function(e){var t=ce.get(this);t&&t.off("header",e)}},{key:"offProgressUpdate",value:function(e){var t=ce.get(this);t&&t.off("progress",e)}}]),e}(),he=!1;function ve(e){return he?new pe(e):new re(e)}a.default.Download&&o.default.onReady((function(){var e=!1,t=i.IS_IOS?"clicfg_appbrand_ios_native_download":"clicfg_appbrand_native_download";Object(s._getABTestConfig)({experimentId:t,experimentType:"Expt",success:function(t){t&&1===Number(t.testConfig)&&(e=!0)},fail:function(e){}});var n=Object(c.checkPermissionSync)("bindingDownload");he=e||n}));var ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Object.assign({__skipDomainCheck__:!1},e),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.beforeInvoke)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{var n=new ve(t);return n}catch(e){return void Object(r.beforeInvokeFail)("downloadFile",t,e.message)}}}},ye=ge(),me=ge({__skipDomainCheck__:!0}),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("string"!=typeof e.filePath||!e.filePath.startsWith(Object(T.getOpenDataDir)()))return ye(e);Object(r.beforeInvokeFail)("downloadFile",e,"permission denied")}},function(e,t,n){n.r(t),n.d(t,"onWxAdUserCaptureScreen",(function(){return C})),n.d(t,"reportShareAppMessage",(function(){return k})),n.d(t,"onWeappTouchEvent",(function(){return P})),n.d(t,"offWeappTouchEvent",(function(){return w})),n.d(t,"onceWeappTouchEvent",(function(){return D}));var r=n(0),a=n(18),i=Object(a.getEventManager)("userCaptureScreen"),o=i.onMethod,s=(i.offMethod,null);Object(r.onMethod)("onUserCaptureScreen",(function(e){"function"==typeof s&&s(e),i.emit(e)}));var c=n(1),u=n(76),l=n(90),d=n(40),f=n(10),p=n(85),h=n(29),v=n(27),g=n(59),y=Object(v.promisify)(Object(h.constructOperateWXData)(!1,"advertReport")),m="",_=0,b="index.html",O=new f.EventEmitter,E="_onWxAdUserCaptureScreen",I={shareAppMessage:0,shareTimeline:3};c.default.onReady((function(){m=Object(u.getAdUxInfo)()}));var S={};try{Object(d.onAppRoute)((function(e){_=e.webviewId,S[_]||(S[_]=!0,b=e.path,Object(p.onBeforeUnloadPage)(_,(function(e){A(e)})))}))}catch(e){}o((function(){var e=+new Date;m&&Object(l.reportUserCaptureScreen)({eventTimeStamp:e,scene:7,uxinfo:m,url:b}),_&&Object(r.publish)(E,{eventTimeStamp:e,path:b},[_]),O.emit(E,{eventTimeStamp:e,webviewId:_,path:b})}));var C=function(e){"function"==typeof e&&O.on("_onWxAdUserCaptureScreen",e)},k=function(e,t){if(m){var n="",r=I[e]?I[e]:0;"shareAppMessage"===e&&t.shareInfos&&(r=t.shareInfos.length>0?2:1,n=t.shareInfos.length>0&&t.shareInfos[0].shareName||""),0===r&&"shareAppMessage"===e&&t.shareTickets&&(r=t.shareTickets.length>0?2:1),Object(l.reportLandingPageShare)({eventTimeStamp:+new Date,shareType:r,tousername:n,uxinfo:m,url:b})}},T={};Object(r.subscribe)("wxAdDelayReport",(function(e,t){T[t]||(T[t]={}),e.key&&e.value&&(T[t][e.key]=e.value)}));var A=function(e){if(T[e]){for(var t in T[e]){var n=T[e][t];y({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:n}}).catch((function(e){}))}delete T[e]}};Object(r.subscribe)("checkWxAdFetchLog",(function(e){Object(g.handleSplashAdFetchLog)(e)})),Object(r.subscribe)("weappTouchEvent",(function(e){O.emit("_onWeappTouchEvent",e)}));var P=function(e,t){if("function"==typeof e){var n=function(n){e(n,t)};return O.on("_onWeappTouchEvent",n),n}return null},w=function(e){O.off("_onWeappTouchEvent",e)},D=function(e,t){var n=!1;if("function"==typeof e){var r=function(r){!n&&e(r,t),n=!0};return O.on("_onWeappTouchEvent",r),r}return null}},function(e,t,n){n.r(t);var r,a=n(8),i=n(11),o=n(14),s={AD_TYPE_BANNER:1,AD_TYPE_PORTAL:2,AD_TYPE_ICON:3},c=(r={},Object(o.default)(r,s.AD_TYPE_BANNER,"BANNER"),Object(o.default)(r,s.AD_TYPE_PORTAL,"PORTAL"),Object(o.default)(r,s.AD_TYPE_ICON,"ICON"),{0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625}),u=n(2),l=n(10),d=c,f=null,p=function(){function e(){Object(a.default)(this,e)}return Object(i.default)(e,[{key:"getCharWidth",value:function(e,t){return(d[e]?d[e]:10)*t/10}},{key:"limitString",value:function(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}},{key:"getTextWidth",value:function(e,t){if(u.IS_ANDROID)return this.getTextWidthInAndroid(e,t);var n=function(){if(f)return f;if(Object(l.isGame)()){var e=new NativeGlobal.Canvas;e.width=1,e.height=1,f=e.getContext("2d")}else f=wx.createCanvasContext();return f}();return t&&(n.font=t+"px PingFangSC-Regular, SF Pro Display, SF Pro Text"),Math.ceil(n.measureText(e).width||0)+1}},{key:"getTextWidthInAndroid",value:function(e,t){var n=this;e=(e=String(e)).split("");var r=0;return e.forEach((function(e){var a=n.getCharWidth(e,t);r+=a})),r}},{key:"getMaxWordLength",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=(e=String(e)).split("");var a=0,i=0;r&&(n-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],c=this.getCharWidth(s,t);if(a+c>n)break;i++,a+=c}return i}},{key:"textMetrics",value:function(e,t){for(var n=t.fontSize,r=t.maxWidth,a=t.maxLines,i=void 0===a?1:a,o=[],s=0,c=e.substring(0,e.length);s<i;){var u=this.getMaxWordLength(c,n,r,!(s!==i-1)),l=s===i-1?this.limitString(c,u):c.substring(0,u);l&&o.push({text:l,width:this.getTextWidth(l,n)}),s++,c=c.substring(u,c.length)}return o}}]),e}();t.default=new p},function(e,t,n){n.r(t),n.d(t,"getPluginId",(function(){return o})),n.d(t,"getPluginVersion",(function(){return s})),n.d(t,"getPluginInfo",(function(){return c})),n.d(t,"getPluginInfoForWebview",(function(){return u})),n.d(t,"checkDomains",(function(){return l})),n.d(t,"parsePluginInfo",(function(){return d})),n.d(t,"replaceErrMsgApiName",(function(){return f}));var r=n(125),a={emitter:new(n(35).default),puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}},i=function(e){for(var t in a.puidToPluginWX)if(a.puidToPluginWX[t]===e)return t},o=function(e){return a.pluginIDs[i(e)]},s=function(e){return a.pluginVersions[i(e)]},c=function(e){var t=o(e);if(void 0!==t)return a.pluginInfos[t]},u=function(e){e.success(a.pluginInfos[e.pluginId])},l=function(e,t){if(void 0===t||void 0===e)return!1;for(var n=Object(r.parse)(e||""),a=0;a<t.length;a++){var i=t[a]||"",o=Object(r.parse)(i);if(o.protocol===n.protocol&&o.hostname===n.hostname&&o.port===n.port)return!0}return!1},d=function(e){return null==e?{}:{id:e.plugin_id,hostSign:{noncestr:e.noncestr||"",timestamp:e.timestamp||"",signature:e.host_sign||""},domains:{request:e.request_domain||[],uploadFile:e.upload_domain||[],downloadFile:e.download_domain||[]}}},f=function(e,t,n){var r=new RegExp("^"+t+":"),a={};return["success","fail","complete"].forEach((function(t){"function"==typeof e[t]&&(a[t]=function(a){a.errMsg=a.errMsg.replace(r,n+":"),e[t](a)})})),Object.assign({},e,a)}},function(e,t,n){n.r(t),function(e){n.d(t,"wxSAB",(function(){return h})),n.d(t,"createSharedArrayBuffer",(function(){return g})),n.d(t,"getSharedArrayBuffer",(function(){return y})),n.d(t,"SharedArrayBuffer",(function(){return v})),n.d(t,"unpackSharedArrayBuffer",(function(){return m}));var r=n(8),a=n(11),i=n(4),o=n(9),s="function"==typeof wxNativeConsole?wxNativeConsole.createLogger("SharedArrayBuffer"):wxConsole,c=0,u=1,l=2,d=new WeakMap,f=new Map,p=ArrayBuffer,h="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer;"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?p=__global.SharedArrayBuffer:e.SharedArrayBuffer&&(p=e.SharedArrayBuffer));var v=function(){function e(t,n){if(Object(r.default)(this,e),s.log("constructor length="+t+", sabId="+n),!Object(i.isNumber)(t)||t<0)throw new o.ThirdScriptError("Invalid array buffer length "+t);if(Object(i.isNumber)(n)){var a;s.info("get buffer with sabId: "+n);try{a=h.get(n)}catch(e){throw s.error("WeixinSharedBuffer.get"+n+" fail: "+e.message),new Error("WeixinSharedBuffer.get"+n+" fail: "+e.message)}Object.defineProperty(this,"buffer",{value:a,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:n,enumerable:!0,writable:!1})}else{s.info("new ArrayBuffer with length: "+t),Object.defineProperty(this,"buffer",{value:new p(t),writable:!1,enumerable:!0});var u=h.new(this.buffer);s.info("sabId: "+u),Object.defineProperty(this,"_sabId",{value:u,enumerable:!0,writable:!1})}var l={writeStatus:c,readStatus:c,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};d.set(this,l),f.set(this._sabId,this),s.log("["+this._sabId+"] created:",this.buffer)}return Object(a.default)(e,[{key:"destroy",value:function(){s.warn("["+this._sabId+"][destroy()]");var e=d.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],f.delete(this._sabId),d.get(this).destroyed=!0,this.unlock(),h.destroy(this._sabId)}},{key:"lock",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!0;var n=d.get(this),r=n.destroyed,a=n.writeStatus,c=n.readStatus,f=n.writeLockCallbacks,p=n.readLockCallbacks;if(r)throw new o.ThirdScriptError("SharedArrayBuffer has been destroyed");if(!Object(i.isFunction)(e))throw new o.ThirdScriptError("callback must be a function");if(a!==l)if(t)f.push(e),a===u||(n.writeStatus=u,n.writeLockId=h.Lock(this._sabId,(function(){f.forEach((function(e){return e()})),p.forEach((function(e){return e()})),n.writeStatus=l,n.writeLockCallbacks=[],n.readLockCallbacks=[]})));else{if(c===l)return s.info("["+this._sabId+"][lock()] readStatus is locked, callback immediately"),void e();p.push(e),c===u||a===u||(n.readLockId=h.Lock(this._sabId,(function(){p.forEach((function(e){return e()})),n.readStatus=l,n.readLockCallbacks=[]})),n.readStatus=u)}else e()}},{key:"unlock",value:function(){var e=d.get(this),t=e.writeLockId,n=e.readLockId,r=e.writeStatus,a=e.readStatus;e.destroyed?console.warn("unlock: SharedArrayBuffer has been destroyed"):(r!==u&&r!==l||(h.Unlock(this._sabId,t),e.writeStatus=c,e.writeLockId=void 0,e.writeLockCallbacks=[]),a!==u&&a!==l||(h.Unlock(this._sabId,n),e.readStatus=c,e.readLockId=void 0,e.readLockCallbacks=[]))}}]),e}(),g=function(e){return new v(e)},y=function(e){return s.info("[getSharedArrayBuffer] sabId="+e),f.has(e)?(s.info("[getSharedArrayBuffer] return existed object"),f.get(e)):(s.info("[getSharedArrayBuffer] return new object"),new v(0,e))},m=function e(t){return s.log("[unpackSharedArrayBuffer]",t),Object(i.isObject)(t)?(s.log("[unpackSharedArrayBuffer] isObject"),Object(i.isNumber)(t._sabId)?(s.info("[unpackSharedArrayBuffer] sabId is number"),y(t._sabId)):Object.keys(t).reduce((function(n,r){var a=t[r];return n[r]=e(a),n}),{})):Object(i.isArray)(t)?t.map(e):t}}.call(this,n(97))},function(e,t,n){var r=n(131),a=n(133);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=_,t.resolve=function(e,t){return _(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?_(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=_(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),d=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(134);function _(e,t,n){if(e&&a.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var _=e=u.join(s);if(_=_.trim(),!n&&1===e.split("#").length){var b=c.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var O=o.exec(_);if(O){var E=(O=O[0]).toLowerCase();this.protocol=E,_=_.substr(O.length)}if(n||O||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var I="//"===_.substr(0,2);!I||O&&g[O]||(_=_.substr(2),this.slashes=!0)}if(!g[O]&&(I||O&&!y[O])){for(var S,C,k=-1,T=0;T<f.length;T++){-1!==(A=_.indexOf(f[T]))&&(-1===k||A<k)&&(k=A)}-1!==(C=-1===k?_.lastIndexOf("@"):_.lastIndexOf("@",k))&&(S=_.slice(0,C),_=_.slice(C+1),this.auth=decodeURIComponent(S)),k=-1;for(T=0;T<d.length;T++){var A;-1!==(A=_.indexOf(d[T]))&&(-1===k||A<k)&&(k=A)}-1===k&&(k=_.length),this.host=_.slice(0,k),_=_.slice(k),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var w=this.hostname.split(/\./),D=(T=0,w.length);T<D;T++){var R=w[T];if(R&&!R.match(p)){for(var M="",j=0,x=R.length;j<x;j++)R.charCodeAt(j)>127?M+="x":M+=R[j];if(!M.match(p)){var L=w.slice(0,T),N=w.slice(T+1),B=R.match(h);B&&(L.push(B[1]),N.unshift(B[2])),N.length&&(_="/"+N.join(".")+_),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[E])for(T=0,D=l.length;T<D;T++){var W=l[T];if(-1!==_.indexOf(W)){var U=encodeURIComponent(W);U===W&&(U=escape(W)),_=_.split(W).join(U)}}var G=_.indexOf("#");-1!==G&&(this.hash=_.substr(G),_=_.slice(0,G));var H=_.indexOf("?");if(-1!==H?(this.search=_.substr(H),this.query=_.substr(H+1),t&&(this.query=m.parse(this.query)),_=_.slice(0,H)):t&&(this.search="",this.query={}),_&&(this.pathname=_),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var Y=this.search||"";this.path=F+Y}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=m.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var _=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),O=b||_||n.host&&e.pathname,E=O,I=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===I[0]?I[0]=n.host:I.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),O=O&&(""===h[0]||""===I[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,I=h;else if(h.length)I||(I=[]),I.pop(),I=I.concat(h),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=I.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!I.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=I.slice(-1)[0],k=(n.host||e.host||I.length>1)&&("."===C||".."===C)||""===C,T=0,A=I.length;A>=0;A--)"."===(C=I[A])?I.splice(A,1):".."===C?(I.splice(A,1),T++):T&&(I.splice(A,1),T--);if(!O&&!E)for(;T--;T)I.unshift("..");!O||""===I[0]||I[0]&&"/"===I[0].charAt(0)||I.unshift(""),k&&"/"!==I.join("/").substr(-1)&&I.push("");var P,w=""===I[0]||I[0]&&"/"===I[0].charAt(0);S&&(n.hostname=n.host=w?"":I.length?I.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(O=O||n.host&&I.length)&&!w&&I.unshift(""),I.length?n.pathname=I.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),o=new A(r||[]);return i._invoke=function(e,t,n){var r=d;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw i;return w()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,o),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",v={};function g(){}function y(){}function m(){}var _={};_[i]=function(){return this};var b=Object.getPrototypeOf,O=b&&b(b(P([])));O&&O!==n&&r.call(O,i)&&(_=O);var E=m.prototype=g.prototype=Object.create(_);function I(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,o,s){var c=l(e[a],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:w}}function w(){return{value:t,done:!0}}return y.prototype=E.constructor=m,m.constructor=y,y.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},I(S.prototype),S.prototype[o]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new S(u(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(E),c(E,s,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){(function(r){function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(129)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))})),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(this,n(126))},function(e,t,n){var r;function a(e){function n(){if(n.enabled){var e=n,a=+new Date,i=a-(r||a);e.diff=i,e.prev=r,e.curr=a,r=a;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var a=t.formatters[r];if("function"==typeof a){var i=o[c];n=a.call(e,i),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o);var u=n.log||t.log||console.log.bind(console);u.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,a=0;a<r;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(130),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,a=60*r,i=24*a,o=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*a;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,i,"day")||s(c,a,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=a)return Math.round(e/a)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(e,r){var a;!function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var s,c=2147483647,u=36,l=/^xn--/,d=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,v=String.fromCharCode;function g(e){throw new RangeError(p[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(f,".")).split("."),t).join(".")}function _(e){for(var t,n,r=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function b(e){return y(e,(function(e){var t="";return e>65535&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=v(e)})).join("")}function O(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=u)e=h(e/35);return h(r+36*e/(e+38))}function I(e){var t,n,r,a,i,o,s,l,d,f,p,v=[],y=e.length,m=0,_=128,O=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&g("not-basic"),v.push(e.charCodeAt(r));for(a=n>0?n+1:0;a<y;){for(i=m,o=1,s=u;a>=y&&g("invalid-input"),((l=(p=e.charCodeAt(a++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||l>h((c-m)/o))&&g("overflow"),m+=l*o,!(l<(d=s<=O?1:s>=O+26?26:s-O));s+=u)o>h(c/(f=u-d))&&g("overflow"),o*=f;O=E(m-i,t=v.length+1,0==i),h(m/t)>c-_&&g("overflow"),_+=h(m/t),m%=t,v.splice(m++,0,_)}return b(v)}function S(e){var t,n,r,a,i,o,s,l,d,f,p,y,m,b,I,S=[];for(y=(e=_(e)).length,t=128,n=0,i=72,o=0;o<y;++o)(p=e[o])<128&&S.push(v(p));for(r=a=S.length,a&&S.push("-");r<y;){for(s=c,o=0;o<y;++o)(p=e[o])>=t&&p<s&&(s=p);for(s-t>h((c-n)/(m=r+1))&&g("overflow"),n+=(s-t)*m,t=s,o=0;o<y;++o)if((p=e[o])<t&&++n>c&&g("overflow"),p==t){for(l=n,d=u;!(l<(f=d<=i?1:d>=i+26?26:d-i));d+=u)I=l-f,b=u-f,S.push(v(O(f+I%b,0))),l=h(I/b);S.push(v(O(l,0))),i=E(n,m,r==a),n=0,++r}++n,++t}return S.join("")}s={version:"1.4.1",ucs2:{decode:_,encode:b},decode:I,encode:S,toASCII:function(e){return m(e,(function(e){return d.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return m(e,(function(e){return l.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return s}.call(t,n,t,e))||(e.exports=a)}()}).call(this,n(132)(e),n(97))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(135),t.encode=t.stringify=n(136)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,f,p,h,v=e[l].replace(s,"%20"),g=v.indexOf(n);g>=0?(d=v.substr(0,g),f=v.substr(g+1)):(d=v,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),r(o,p)?a(o[p])?o[p].push(h):o[p]=[o[p],h]:o[p]=h}return o};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),(function(o){var s=encodeURIComponent(r(o))+n;return a(e[o])?i(e[o],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[o]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(r){function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(138)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))})),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(this,n(126))},function(e,t,n){var r;function a(e){function n(){if(n.enabled){var e=n,a=+new Date,i=a-(r||a);e.diff=i,e.prev=r,e.curr=a,r=a;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var a=t.formatters[r];if("function"==typeof a){var i=o[c];n=a.call(e,i),o.splice(c,1),c--}return n})),t.formatArgs.call(e,o);var u=n.log||t.log||console.log.bind(console);u.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,a=0;a<r;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(139),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,a=60*r,i=24*a,o=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*a;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,i,"day")||s(c,a,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=a)return Math.round(e/a)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){n.r(t),n.d(t,"drawLabel",(function(){return an})),n.d(t,"addLabelToShareArgs",(function(){return on}));var r,a=n(12),i=n.n(a),o=n(33),s=n(1),c=n(68),u=n(2),l=n(36),d=l.default.Image,f=Object.defineProperty,p=Object.getOwnPropertyDescriptor,h=Object.prototype.hasOwnProperty,v=["src","width","height","naturalWidth","naturalHeight","complete","tagName","nodeName","onerror","onload"],g=new WeakMap;function y(e){return"function"!=typeof e?null:(g.set(e,(function(t){var n=t.type,r=t.target,a=t.timeStamp;return e&&e({type:n,target:r,currentTarget:r,timestamp:1e6*a})})),g.get(e))}var m=function(){var e=new d;return function(e){if(!u.IS_DEVTOOLS&&!h.call(e,"src")){var t=e.__proto__;r||(r={addEventListener:function(e,n){t.addEventListener.call(this,e,y(n))},removeEventListener:function(e,n){t.removeEventListener.call(this,e,g.get(n)||n)}}),e.__proto__=r,v.forEach((function(n){for(var r=t;r&&(!h.call(r,n)||"break"!==function(){var t=p(r,n);if(/^on/.test(n)){var a=null;f(e,n,{get:function(){return a},set:function(n){a=n,t.set.call(e,y(n))}})}else f(e,n,t);return"break"}());r=r.__proto__);}))}}(e),e},_=n(31),b=n(0),O=n(50),E=n(13),I=function(e){return"object"===Object(E.default)(e)&&null!==e},S=function(){var e={};return{dirtyTextureMap:new WeakMap,dirtyRenderbufferMap:new WeakMap,dirtyFramebufferMap:new WeakMap,framebufferTextureMap:new WeakMap,framebufferRenderbufferMap:new WeakMap,textures:[],currentTextureIndex:0,screenFramebuffer:e,currentFramebuffer:e}},C=function(){var e=arguments[arguments.length-1],t=Wt(e),n=Wt(this.canvas).flag,r=n.textures,a=n.currentTextureIndex,i=n.dirtyTextureMap,o=r[a];I(o)&&(t&&t.isSharedCanvas?i.set(o,!0):i.has(o)&&i.delete(o))},k=function(){var e=Wt(this.canvas).flag,t=e.textures,n=e.currentFramebuffer,r=e.dirtyFramebufferMap,a=e.framebufferTextureMap,i=e.dirtyTextureMap,o=e.framebufferRenderbufferMap,s=e.dirtyRenderbufferMap;if(t.some((function(e){return i.has(e)}))){r.set(n,!0);var c=a.get(n);I(c)&&i.set(c,!0);var u=o.get(n);I(u)&&s.set(u,!0)}},T={activeTexture:function(e){var t=e-this.TEXTURE0;Wt(this.canvas).flag.currentTextureIndex=t},bindTexture:function(e,t){var n=Wt(this.canvas).flag;n.textures[n.currentTextureIndex]=t},wxBindCanvasTexture:function(e,t){var n=Wt(this.canvas).flag,r=n.textures,a=n.currentTextureIndex,i=n.dirtyTextureMap;if(I(t)){var o=Wt(t),s={type:"WeixinCanvasTexture"};r[a]=s,o&&o.isSharedCanvas?i.set(s,!0):i.has(s)&&i.delete(s)}else r[a]=null},texImage2D:C,texSubImage2D:C,bindFramebuffer:function(e,t){var n=Wt(this.canvas).flag;n.currentFramebuffer=t||n.screenFramebuffer},framebufferTexture2D:function(e,t,n,r){var a=Wt(this.canvas).flag,i=a.framebufferTextureMap,o=a.currentFramebuffer;i.set(o,r)},framebufferRenderbuffer:function(e,t,n,r){var a=Wt(this.canvas).flag,i=a.dirtyRenderbufferMap,o=a.dirtyFramebufferMap,s=a.framebufferRenderbufferMap,c=a.currentFramebuffer;i.has(r)&&o.set(c,!0),s.set(c,r)},copyTexImage2D:function(){var e=Wt(this.canvas).flag,t=e.dirtyFramebufferMap,n=e.currentFramebuffer,r=e.textures,a=e.currentTextureIndex,i=e.dirtyTextureMap;if(t.has(n)){var o=r[a];I(o)&&i.set(o,!0)}},drawArrays:k,drawElements:k},A=n(25),P=n(51),w=n(10),D=function(e){return!Wt(e).secure},R=function(e,t){var n=Wt(t);if(!n)return!0;var r=n.secure;return!(!Wt(e).secure&&r)},M=function(e){return function(){if(/texImage2D|texSubImage2D/.test(e)){var t=Wt(this.canvas),n=t.flag,r=n.textures,a=n.currentTextureIndex,i=r[a];if(i&&"WeixinCanvasTexture"===i.type)return void console.warn("在调用 wxBindCanvasTexture() 向 "+a+" 号纹理单元提交纹理后，不能再调用 "+e+"() 向该纹理单元提交纹理")}var o=this.canvas,s=/createPattern|drawImage/.test(e)?arguments[0]:arguments[arguments.length-1];if(R(o,s))return!0;console.warn("在 game.json 配置了 OpenDataContext 后，非安全 Canvas 的 WebGL 上下文的 "+e+" 不能传入安全 Canvas")}},j=!1,x="unknown";s.default.onReady((function(){j=Object(A.checkPermissionSync)("screenCanvasReadPixels"),x=Object(w.checkAPIAvailable)("screenCanvasReadPixelsFreely")}));var L,N={toDataURL:function(){return!!D(this)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 不能调用 toDataURL"),"")},getImageData:function(){return!!D(this.canvas)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 的 2d 上下文不能调用 getImageData"),{width:0,height:0,data:new Uint8ClampedArray(0)})},createPattern:M("createPattern"),drawImage:M("drawImage"),texImage2D:M("texImage2D"),texSubImage2D:M("texSubImage2D"),wxBindCanvasTexture:M("wxBindCanvasTexture"),readPixels:function(){if(!Wt(this.canvas).secure)return!0;if(Object(P.reportDeprecatedAPI)("WebGLRenderingContext.readPixels"),j){var e=Wt(this.canvas).flag,t=e.dirtyFramebufferMap,n=e.currentFramebuffer;if(!t.has(n)||(Object(P.reportDeprecatedAPI)("unsafeScreenCanvasReadPixelsUsedBefore"),!1!==x))return!0;console.warn("在 game.json 配置了 OpenDataContext 后，绘制了 sharedCanvas 的画布不能 readPixels")}else Object(P.reportDeprecatedAPI)("screenCanvasReadPixelsNoPermission")}},B=l.default.Canvas,F=l.default.Image,V={"2d":null,webgl:null},W={Image:null,Canvas:null,CanvasRenderingContext2D:null,CanvasPattern:null,CanvasGradient:null,ImageData:null,TextMetrics:null},U=new WeakMap;function G(){var e=new B;return e.width=1,e.height=1,e}function H(e){var t={};return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);if("function"!=typeof r.value)r.get||r.set?Object.defineProperty(t,n,{get:function(){if(r.get)return r.get.call(this)},set:function(e){r.set&&r.set.call(this,e)}}):Object.defineProperty(t,n,r);else{var a=e[n];t[n]=function(){if("function"==typeof N[n]){var e=N[n].apply(this,arguments);if(!0!==e)return e}return"function"==typeof T[n]&&T[n].apply(this,arguments),a.apply(this,arguments)}}})),t}var Y,q=function(){if(L)return L;var e=G(),t=H(Object.getPrototypeOf(e)),n=t.getContext;return t.getContext=function(e,t){if(Wt(this).isSharedCanvas)return{};var r=n.call(this,e,t);return null===r||(/2d|webgl/.test(e)&&Object.setPrototypeOf(r,function(e){if(V[e])return V[e];var t=G().getContext(e),n=H(Object.getPrototypeOf(t));return V[e]=n,V[e]}(e)),U.set(r,this),Object.defineProperty(r,"canvas",{value:this,configurable:!1,writeable:!1})),r},L=t,t},K=n(70),z=wxGA,Z=n(14),X=0,J=1,Q=2,$=3,ee={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267};Y={},Object(Z.default)(Y,X,"thirdScriptError"),Object(Z.default)(Y,J,"widgetThirdScriptError"),Object(Z.default)(Y,Q,"gameThirdScriptError"),Object(Z.default)(Y,$,"gameSubContextThirdScriptError");var te=n(42);function ne(e){if(!Array.isArray(e)||e.some((function(e){return"string"!=typeof e||0===e.length})))return"invalid keyList"}var re=n(21),ae=Object(re.default)("getUserCloudStorage","webapi_getselfuserstorage",{},{},(function(e){var t=e.keyList;return{key:void 0===t?[]:t}}),(function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,delete e.rawData,e})),ie=Object(re.default)("getFriendCloudStorage","webapi_getfrienduserstorage",{},{},(function(e){var t=e.keyList;return{key:void 0===t?[]:t}}),(function(e){return e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,e})),delete e.user_item,delete e.rawData,e})),oe=n(82).share.ShareInfoStorage,se=wxNativeConsole.createLogger("getGroupCloudStorage"),ce=Object(re.default)("getGroupCloudStorage","webapi_getgroupuserstorage",{},{},(function(e){var t=e.keyList,n=void 0===t?[]:t,r=e.shareTicket,a=oe.get(r),i=a.shareKey,o=a.shareName;return se.info("shareTicket=",r),se.info("shareInfo=",JSON.stringify(a)),{key:n,share_key:i,share_name:o}}),(function(e){return e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,e})),delete e.user_item,delete e.rawData,e})),ue=Object(re.default)("getPotentialFriendList","webapi_game_potential_friends",{},{},(function(){}),(function(e){return e.list=e.friend_list,delete e.friend_list,delete e.rawData,e})),le=Object(re.default)("getGroupInfo","webapi_getshareinfo_byopengid",{},{},(function(e){return{opengid_list:[e.openGId]}}),(function(e){return e.name=e.info_list[0].room_topic,delete e.info_list,delete e.rawData,e}));var de=n(87),fe={};function pe(){return Object.keys(fe).map((function(e){return e+"="+fe[e]})).join("&")}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={openId:e.openId,title:e.title||s.default.accountInfo.nickname,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId,success:e.success,fail:e.fail,complete:e.complete};t.query=pe(),Object(de._doShareAppMessage)(t,"shareAppMessageToSpecificContactDirectly")}var ve=n(29),ge=Object(ve.constructOperateWXData)(!1,"getUserInfo",!1,!0),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openIdList,n=void 0===t?[]:t,r=e.lang,a=void 0===r?"en":r,i=e.success,o=e.fail,s=e.complete;ge({apiName:"webapi_getuserinfo_byopenid",reqData:{openIdList:n,lang:a},success:function(e){var t=JSON.parse(e.respData.data).userInfoList||[];"function"==typeof i&&i({errMsg:e.errMsg,data:t})},fail:o,complete:s})},me=Object(re.default)("getUserCloudStorageKeys","webapi_getuserstorageallappkey",{},{},(function(){}),(function(e){return e.keys=e.data_key,delete e.data_key,delete e.rawData,e})),_e=n(55),be=n(41),Oe=n(8),Ee=n(11),Ie=n(22),Se=n(15),Ce=n(16),ke=n(7),Te=n(119),Ae=n.n(Te),Pe=n(24),we=n(17),De=n(34),Re=n(18),Me=n(5);var je=Object(Re.getEventManager)("NavigationBarTitleUpdate"),xe=(je.internalOnMethod,n(40)),Le="#000000",Ne="#ffffff";function Be(e){var t=(s.default.appContactInfo||{}).operationInfo||{};if(t.jsonInfo&&t.jsonInfo.op_info&&1===Number(t.jsonInfo.op_info.gray_flag)&&0===s.default.appType){var n=/^#([0-9|A-F|a-f]{6})$/.exec(e);if(null!=n){var r=parseInt(n[1].slice(0,2),16),a=parseInt(n[1].slice(2,4),16),i=parseInt(n[1].slice(4),16),o=Math.round(.299*r+.587*a+.114*i).toString(16).toUpperCase();Object(b.invokeMethod)("setNavigationBarColor",{frontColor:Ne,backgroundColor:"#"+o+o+o})}}}s.default.onReady((function(){Object(xe.onAppRoute)((function(){if(void 0!==s.default&&s.default.global&&s.default.global.window){var e=s.default.global.window;Le=e.navigationBarBackgroundColor||Le,Ne="black"===e.navigationBarTextStyle?"#000000":"#ffffff"}var t=Me.default.lastRoute+".html";if(void 0!==s.default&&s.default.page&&s.default.page[t]&&s.default.page[t].window){var n=s.default.page[t].window;Le=n.navigationBarBackgroundColor||Le,Ne="black"===n.navigationBarTextStyle?"#000000":"#ffffff"}Be(Le)}))}));n(26);var Fe=n(9);n(38),n(54),n(28);Object(Re.getEventManager)("AppPerfRouteNavigation");var Ve=n(85);Ve.onPageReload,Ve.triggerBeforeUnloadPage,Ve.triggerBeforeShareAppMessage,n(109),n(62);Object(xe.onAppRoute)((function(e){try{s.default.tabBar.list.some((function(t){return t.pagePath.startsWith(e.path)}))}catch(e){}}));s.default.onReady((function(){s.default.tabBar&&s.default.tabBar.list||[]}));var We={};Object(b.subscribe)("pageScrollDone",(function(e){if(!(e.callbackId<0||void 0===We[e.callbackId])){var t=We[e.callbackId];delete We[e.callbackId],delete e.callbackId;var n="pageScrollTo";e.errMsg=e.errMsg||"scrollWebviewTo:ok",e.errMsg=e.errMsg.replace("scrollWebviewTo",n);var r=0===e.errMsg.indexOf(n+":ok"),a=0===e.errMsg.indexOf(n+":fail");r?"function"==typeof t.success&&t.success(e):a&&"function"==typeof t.fail&&t.success(e),"function"==typeof t.complete&&t.complete(e)}}));var Ue={};Object(b.subscribe)("callbackSetPageStyle",(function(e){var t=e.res,n=e.callbackId,r=t.errMsg,a=0===r.indexOf("setPageStyle:ok"),i=0===r.indexOf("setPageStyle:fail"),o=Ue[n];delete Ue[n],"object"===Object(E.default)(o)&&(a?"function"==typeof o.success&&o.success(t):i&&"function"==typeof o.fail&&o.fail(t),"function"==typeof o.complete&&o.complete(t))}));Object(b.subscribe)("xWebTextareaFocusChanged",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.focus,n=arguments.length>1?arguments[1]:void 0;t?n:-1}));Object(Re.getEventManager)("XWebTextareaSupportedEvent").internalOnMethod((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canInsert2XWeb;t}));var Ge=n(111);Object(Re.getEventManager)("XWebTextareaSupportedEvent").internalOnMethod((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canInsert2XWeb;t}));var He={};Object(b.subscribe)("onGetXWebSelectedTextRange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.taskId,n=e.focus,r=e.start,a=e.end,i=He[t];i&&(n?("function"==typeof i.success&&i.success({errMsg:"getSelectedTextRange:ok",start:r,end:a}),"function"==typeof i.complete&&i.complete({errMsg:"getSelectedTextRange:ok",start:r,end:a})):("function"==typeof i.fail&&i.fail({errMsg:"getSelectedTextRange:fail:no focused input"}),"function"==typeof i.complete&&i.complete({errMsg:"getSelectedTextRange:fail:no focused input"}))),delete He[t]}));n(37);function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(ke.default)(e);if(t){var a=Object(ke.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(Ce.default)(this,n)}}var qe="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht1JxkNuzGdYKKtQ5NiadIeFXjxMBvdzv8ib9nThJgX9M7z3Dq59jIUkGnTENr7AibOJMQ/0?wx_fmt=png",Ke="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht3OjibpgsQSWKlYHJ8u8AiacNQgu4ianBYzC5gEXmxS74iaGkZUzEbFjwp6n7d8rJV7JSA/0?wx_fmt=png",ze=0,Ze=0;s.default.onReady((function(){var e=Object(De.getInitScreenSize)();ze=e.screenWidth,Ze=e.screenHeight,Object(Ge.onWindowResize)((function(e){ze=e.windowWidth,Ze=e.windowHeight}))}));var Xe=function(e){var t=e.cancelText,n=e.confirmText,r=e.icon,a=ze>Ze;return{mask:{width:ze,height:Ze,zIndex:1000007,opacity:.5,backgroundColor:"#000000"},tail:{bottom:0,height:12,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",left:a?(ze-Ze)/2:0,width:a?Ze:ze},popup:{bottom:0,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",borderRadius:12,left:a?(ze-Ze)/2:0,width:a?Ze:ze},header:{height:64,flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:a?Ze:ze},close:{width:14,height:14,marginLeft:20},title:{width:150,height:40,fontSize:15,lineHeight:40,textAlign:"center",color:"#000000"},close2:{width:14,height:14,marginRight:20},main:{flexDirection:"column",alignItems:"center",width:a?Ze:ze},icon:{height:64,width:64,marginTop:12,marginBottom:8},content:{height:60,fontSize:17,color:"#000000",textAlign:"center",lineBreak:"break-all",marginTop:r?0:64,marginBottom:r?0:15,width:a?.9*Ze:.9*ze},footer:{heihgt:40,marginBottom:32,flexDirection:"row",justifyContent:"center",width:a?Ze:ze},cancel:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#07c160",backgroundColor:"rgba(0, 0, 0, 0.05)",width:n?120:184},confirm:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#ffffff",backgroundColor:"#04c160",width:t?120:184}}},Je=function(e){Object(Se.default)(n,e);var t=Ye(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.title,i=r.content,o=r.icon,s=r.confirmText,c=r.cancelText,u=r.confirm,l=r.cancel,d=r.style,f=void 0===d?{}:d;Object(Oe.default)(this,n),e=t.call(this);var p=Object(we.getPrivateThis)(Object(Ie.default)(e)),h='<view id="container">\n      <view id="mask" />\n      <view id="tail" />\n      <view id="popup">\n        <view id="header">\n          <image id="close" src="'+qe+'" />\n          <text id="title" value="'+a+'" />\n          <text id="close2" />\n        </view>\n        <view id="main">\n          '+(o?'<image id="icon" src="'+(!0===o?Ke:o)+'" />':"")+'\n          <text id="content" value="'+i+'" />\n        </view>\n        <view id="footer">\n          '+(c?'<text id="cancel" value="'+c+'" />':"")+"\n          "+(s?'<text id="confirm" value="'+s+'" />':"")+"\n        </view>\n      </view>\n    </view>",v=Ae()(h),g=v.root,y=Xe(arguments[0]);return Object.keys(f).forEach((function(e){y[e]&&Object.assign(y[e],f[e])})),we.init.call(Object(Ie.default)(e),g,y),Pe.webviewLayout.add(p.container),p.close&&p.close.on("click",(function(){"function"==typeof l&&l()})),p.cancel&&p.cancel.on("click",(function(){"function"==typeof l&&l()})),p.confirm&&p.confirm.on("click",(function(){"function"==typeof u&&u()})),e}return Object(Ee.default)(n,[{key:"destroy",value:function(){var e=Object(we.getPrivateThis)(this);Pe.webviewLayout.remove(e.container),Object(we.removePrivateThis)(this)}}]),n}(we.Component);function Qe(e){return new Je(e)}var $e=n(4);n(32);var et=0,tt=2,nt=3;var rt=n(58);function at(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ot=new _e.Emitter("InteractiveStorageModified",!0),st={add:1},ct=Object(w.promisify)(ye);var ut=function(e){var t=e.actionId,n=e.actId,r=void 0===n?0:n,a=e.receiverOpenId,i=e.detail,o=e.opNum,s=void 0===o?0:o,c=e.operationType,u=[t,r,0,i,s,void 0===c?0:c,a].join(",");Reporter.reportKeyValue({key:"GameInteractiveData",value:u})},lt=function(e){Reporter.reportIDKey({key:e})},dt=Object(re.default)("modifyFriendInteractiveStorage","webapi_modifyfriendinteractivedata",{},{},(function(e){var t=e.key,n=e.operation,r=e.opNum,a=e.toUser;return{key:t,operation:n,debug:e.debug,opNum:r,toUser:a,action:e.action,object:e.object,ratio:e.ratio,quiet:!!e.quiet,op_num:r,to_user:a,random_number:Date.now(),randomNumber:Date.now()}}),(function(e){var t,n,r=e.json_resp,a=e.inner_errcode,i=e.inner_errmsg,o="modifyFriendInteractiveStorage:fail ";e.errMsg,delete e.json_resp,delete e.rawData,delete e.inner_errcode,delete e.inner_errmsg;try{t=JSON.parse(r)}catch(e){t={},e.message}if((n=t.log)&&n.split("\n").map(decodeURIComponent).forEach((function(e){var t=parseInt(e.substr(0,1),10),n="[JSServer]"+e.substr(1);switch(t){case et:console.log(n);break;case tt:console.warn(n);break;case nt:console.error(n)}})),!Object($e.isUndefined)(a)&&0!==a)return e.errMsg=""+o+i,void(e.errCode=a);try{var s=JSON.parse(t.base_resp);if(0!==s.errcode)return e.errCode=s.errmsg,void(e.errMsg=""+o+s.errmsg);e.errCode=0}catch(t){e.errCode=-1,e.errMsg=""+o+t.message,t.message}})),ft=n(96),pt=(l.default.fs,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(b.beforeInvoke)("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&Object(b.invokeMethod)("readCompressedFile",e)}),ht=globalThis,vt={};void 0!==l.default.WebAssembly?vt=l.default.WebAssembly:void 0!==ht.WebAssembly&&(vt=ht.WebAssembly);var gt={Table:vt.Table,Memory:vt.Memory,Global:vt.Global,Instance:vt.Instance,instantiate:function(e,t){if("string"!=typeof e)return Promise.reject(new Error("WebAssembly.instantiate: first argument must be a string"));if(/^(wxfile|https?):/.test(e))return Promise.reject(new Error("WebAssembly.instantiate: not support wxfile: or http: path"));if(!/\.wasm(\.br)?$/.test(e))return Promise.reject(new Error("WebAssembly.instantiate: only support file type .wasm or .wasm.br"));if(u.IS_IOS||u.IS_ANDROID){var n=vt.instantiate(e,t);return"Promise"===Object($e.getDataType)(n)?n:Promise.resolve(n)}var r=ft.readFile;return u.IS_DEVTOOLS&&/\.br$/.test(e)&&(r=pt),new Promise((function(n,a){r({compressionAlgorithm:"br",filePath:e,success:function(e){n(vt.instantiate(e.data,t))},fail:function(e){var t=e.errMsg;a(new Error(t.replace(/^\w+:fail\s*/,"")))}})}))}};ht.WXWebAssembly=gt,delete ht.WebAssembly;var yt=vt,mt=Object(re.default)("getGameLifeProfile","webapi_getgamelifeprofile",{},{},(function(e){return JSON.parse(JSON.stringify(e))})),_t=Object(re.default)("getGreetingControlInfo","webapi_getgreetingcontrolinfo",{},{},(function(e){return JSON.parse(JSON.stringify(e))})),bt=Object(re.default)("interactGameLifeTag","webapi_interactgamelifetag",{},{},(function(e){return JSON.parse(JSON.stringify(e))})),Ot=function(e){var t=e.url,n=e.success,r=e.fail,a=e.complete;Object(b.invokeMethod)("private_openUrl",{url:t,isNativeStyle:!0,success:n,fail:r,complete:a})},Et=n(48),It=!1;s.default.onReady((function(){It=It||1037===(s.default.appLaunchInfo||{}).scene})),Object(Et.onAppEnterForeground)((function(e){It=It||1037===e.scene}));var St=n(61),Ct=n(108);var kt=Object(re.default)("gameTransfer","webapi_game_transfer",{},{},(function(e){return JSON.parse(JSON.stringify(e))})),Tt=(__safeway__.apiSign.makeApiSign,{Component:we.Component,getPrivateThis:we.getPrivateThis,removePrivateThis:we.removePrivateThis,create:we.create,init:we.init,webviewLayout:Pe.webviewLayout,nativeviewLayout:Pe.nativeviewLayout,xmlParser:Ae.a}),At={Kanata:Kanata,wxGA:z,reportIDKey:function(e){var t=e.id,n=e.key,r=e.value;return Reporter.reportIDKey({id:t,key:n,value:r})},reportKeyValue:function(e){var t=e.key,n=e.value,r=e.immediately;return"number"!=typeof t||Object.values(ee).includes(t)?Reporter.reportKeyValue({key:t,value:n,immediately:r}):Reporter.reportKeyValue({key:t,value:n,immediately:r,number:!0})},getXLogManager:function(){return te.nativeConsole},getUserCloudStorage:function(e){var t=ne(e.keyList);t?Object(b.beforeInvokeFail)("getUserCloudStorage",e,t):ae(e)},getFriendCloudStorage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ne(e.keyList);t?Object(b.beforeInvokeFail)("getFriendCloudStorage",e,t):ie(e)},getGroupCloudStorage:function(e){var t=ne(e.keyList);t?Object(b.beforeInvokeFail)("getGroupCloudStorage",e,t):setTimeout((function(){e.shareTicket?oe.get(e.shareTicket)?(se.info("use args.shareTicket",e.shareTicket),ce(e)):Object(b.beforeInvokeFail)("getGroupCloudStorage",e,"参数 shareTicket 不正确"):oe.lastShareTicket&&oe.get(oe.lastShareTicket)?(se.info("use lastShareTicket",oe.lastShareTicket),ce(Object.assign({shareTicket:oe.lastShareTicket},e))):Object(b.beforeInvokeFail)("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)},getPotentialFriendList:ue,getGroupInfo:function(e){setTimeout((function(){le(Object.assign({},e,{success:function(t){return Object(b.beforeInvokeCallback)({args:e,res:t,name:"getGroupInfo",success:!!t.name,errMsg:t.name?"":"invalid openGId"})}}))}))},shareMessageToFriend:he,getUserInfo:ye,getUserCloudStorageKeys:me,modifyFriendInteractiveStorage:function(e){lt("modifyFriendInteractiveStorage");var t=Object.assign({},e,{success:function(t){Object(b.beforeInvokeCallback)({res:t,args:e,name:"modifyFriendInteractiveStorage",success:0===t.errCode,errCode:t.errCode,errMsg:t.errMsg}),t.errCode||ot.emit("modified",""+e.key)}});t.quiet?function(e){var t=Object(rt._getLaunchOptionsSync)(),n=Object(de.getMessageExtraData)();!n&&t&&t.referrerInfo&&(n=t.referrerInfo.messageExtraData),n&&3===n.shareType&&n.userInfo?dt(Object.assign(e,{toUser:n.userInfo.openID})):Object(b.beforeInvokeFail)("modifyFriendInteractiveStorage",e,"game is not launch by click share card")}(t):t.toUser?s.default.modifyFriendInteractiveStorageTemplates?function(e){ct({openIdList:[e.toUser]}).then((function(t){var n,r,a,i,o=t.data[0].nickName,c=parseInt(e.key,10),u=e.toUser,l=e.opNum,d=st[e.operation],f=at(s.default.modifyFriendInteractiveStorageTemplates);try{for(f.s();!(i=f.n()).done;)if((a=i.value).key===e.key){var p=a.ratio?" x"+l*a.ratio+" ？":"？";n="确认"+a.action+" "+o+" "+a.object+p,r=encodeURIComponent(n);break}}catch(e){f.e(e)}finally{f.f()}if(!n)throw new Error("invalid key");var h={actId:c,receiverOpenId:u,detail:r,opNum:l,operationType:d};ut(Object.assign({actionId:1},h)),lt("modifyFriendInteractiveStorageShowModal");var v=Qe({content:n,title:""+a.action+a.object,confirmText:"确认"+a.action,confirm:function(){v.destroy(),dt(Object.assign({action:a.action,object:a.object,ratio:a.ratio},e,{success:function(t){if(e.success&&e.success(t),!t.errCode)var n="string"==typeof e.title,r=Qe({title:""+a.action+a.object,icon:!0,content:n?"已"+a.action+"，马上告诉微信好友？":"已"+a.action,cancelText:n?"下次吧":"我知道了",confirmText:!!n&&"告诉他",cancel:function(){r.destroy()},confirm:function(){r.destroy(),he({openId:u,title:e.title,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId})}})}})),ut(Object.assign({actionId:2},h)),lt("modifyFriendInteractiveStorageConfirm")},cancel:function(){v.destroy(),Object(b.beforeInvokeFail)("modifyFriendInteractiveStorage",e,"cancel"),ut(Object.assign({actionId:3},h)),lt("modifyFriendInteractiveStorageCancel")}})})).catch((function(t){var n=t.errMsg,r=t.message;Object(b.beforeInvokeFail)("modifyFriendInteractiveStorage",e,n||r)}))}(t):s.default.modifyFriendInteractiveStorageConfirmWording?function(e){ct({openIdList:[e.toUser]}).then((function(t){var n=t.data[0].nickName,r=s.default.modifyFriendInteractiveStorageConfirmWording.replace("${nickname}",n),a={actId:parseInt(e.key,10),receiverOpenId:e.toUser,detail:encodeURIComponent(r),opNum:e.opNum,operationType:st[e.operation]};ut(Object.assign({actionId:1},a)),lt("modifyFriendInteractiveStorageShowModal"),Object(be._showModal)({content:r,confirmText:"确定",cancelText:"取消",success:function(t){t.confirm?(dt(e),ut(Object.assign({actionId:2},a)),lt("modifyFriendInteractiveStorageConfirm")):(Object(b.beforeInvokeFail)("modifyFriendInteractiveStorage",e,"cancel"),ut(Object.assign({actionId:3},a)),lt("modifyFriendInteractiveStorageCancel"))}})})).catch((function(t){var n=t.errMsg;Object(b.beforeInvokeFail)("modifyFriendInteractiveStorage",e,n)}))}(t):Object(b.beforeInvokeFail)("modifyFriendInteractiveStorage",e,"invalid modifyFriendInteractiveStorage config in game.json"):Object(b.beforeInvokeFail)("modifyFriendInteractiveStorage",e,"toUser is required without quiet")},WebAssembly:yt,getGameLifeProfile:mt,getGreetingControlInfo:_t,interactGameLifeTag:bt,openGameLifeAccountInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete,a=e.query,i="https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/accountinfo.html";Ot({url:Object(Fe.addQueryStringToUrl)(i,a),success:t,fail:n,complete:r})},openGameLifeMiniGameTransfer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete,a=e.query,i="https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/minigametransfer.html";Ot({url:Object(Fe.addQueryStringToUrl)(i,a),success:t,fail:n,complete:r})},Function:Function.prototype.constructor,createCanvas:function(){return Qt.apply(void 0,arguments)},createScreenCanvas:function(){return $t.apply(void 0,arguments)},createWebView:function(e){return new Pe.WebView(e)},navigateToMiniProgramDirectly:function(e){return Object(St._doNavigateToMiniProgram)(e,e)},privateOpenUrl:Ct.privateOpenUrl,gameTransfer:kt,coverview:Tt,launchApplicationDirectly:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(A.checkPermissionSync)("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,u.IS_IOS?Object(A.checkPermissionSync)("launchApplicationDirectly")?Object(b.invokeMethod)("launchApplication",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((function(){return Object(b.beforeInvokeFail)("launchApplicationDirectly",e,"no permission")})):Object(b.invokeMethod)("launchApplicationDirectly",e,{})},encode:function(e){if(u.IS_DEVTOOLS){var t=null;return Object(b.invokeMethod)("encodeArrayBufferSync",Object.assign(e,{success:function(e){t=e.buffer},fail:function(){}})),t}return l.default.encodeArrayBuffer(e.data,e.format)},decode:function(e){if(u.IS_DEVTOOLS){var t="";return Object(b.invokeMethod)("decodeArrayBufferSync",Object.assign(e,{success:function(e){t=e.result},fail:function(){}})),t}return l.default.decodeArrayBuffer(e.data,e.format)}},Pt={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023},wt=Object.keys(Pt).map((function(e){return Pt[e]})),Dt={},Rt=["getUserCloudStorage","getFriendCloudStorage","getGroupCloudStorage","getPotentialFriendList","getGroupInfo","shareMessageToFriend","getUserCloudStorageKeys","modifyFriendInteractiveStorage"],Mt={},jt=function(e){return function(e){if(Mt[e])return Mt[e];Dt[e]={},Object(b.invokeMethod)("getPluginPermissionBytes",{pluginList:[{indexes:wt,pluginId:e}],success:function(t){var n=t.pluginPermissionMap;if(n&&n[e])for(var r=0;r<n[e].length;r++){var a=wt[r];Dt[e][a]=1===n[e][r]}}});var t={platform:s.default.platform};for(var n in At){var r=Pt[n],a=Dt[e][r];("wx20afc706a711eefc"===e||"wx4d5893418b75cb20"===e||a)&&("createCanvas"===n&&(xt=!0),-1===Rt.indexOf(n)?t[n]=At[n]:Object(A.checkPermissionSync)("engineOpenData")&&(xt=!0,t[n]=At[n]))}return Mt[e]=t,Mt[e]}(e)},xt=!1,Lt=function(){return xt},Nt=l.default.Canvas,Bt=new WeakMap,Ft=0,Vt=function(e){return Bt.get(e).canvasId},Wt=function(e){if(null!=e)return Bt.get(e)};function Ut(e){Object(K.checkNeedInsertImageViewPatch)()&&Object(b.invokeMethod)("insertImageView",{parentId:0,viewId:e,position:{width:0,height:0,top:0,left:0},clickable:!1,data:"{}",complete:function(e){e.errMsg}})}function Gt(e){Object(K.checkNeedInsertImageViewPatch)()&&Object(b.invokeMethod)("removeImageView",{viewId:e,complete:function(e){e.errMsg}})}var Ht,Yt,qt=!1,Kt=Object.defineProperty,zt=Object.getOwnPropertyDescriptor,Zt=Object.prototype.hasOwnProperty,Xt=["getContext","toDataURL"],Jt=["width","height","tagName","nodeName"],Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.secure,n=void 0!==t&&t,r=e.isSharedCanvas,a=void 0!==r&&r,i=new Nt,o=u.IS_DEVTOOLS?s.default.appConfig.subContext:s.default.subContext,c="string"==typeof o;if(u.IS_DEVTOOLS){var l=i.__proto__.__proto__;i.__proto__=new Proxy(i.__proto__,{setPrototypeOf:function(e,t){return l=t,!0},getPrototypeOf:function(){return l}})}u.IS_DEVTOOLS||Zt.call(i,"width")||(Jt.forEach((function(e){for(var t=i;t;t=t.__proto__)if(Zt.call(t,e)){Kt(i,e,zt(t,e)),Kt(i,e,{configurable:!1});break}})),Kt(i,"style",{value:{},writable:!0}),Ht||(Ht={},Xt.forEach((function(e){for(var t=i;t;t=t.__proto__)if(Zt.call(t,e)){Kt(Ht,e,zt(t,e));break}}))),i.__proto__=Ht),c&&(Object.setPrototypeOf(i,q()),"Object"===Object($e.getDataType)(i)&&Object.defineProperty(q(),Symbol.toStringTag,{get:function(){return"HTMLCanvasElement"}})),i.__id=i.__id||Ft++;var d=!1;qt||(qt=!0,d=!0),Bt.set(i,{canvasId:i.__id,secure:n,isSharedCanvas:a,isScreenCanvas:d,flag:S()}),delete i.__id;var f=u.IS_DEVTOOLS?i:Vt(i),p=function(e){if(n){var t=O.FakeTempFilePathMap.set(e.tempFilePath);e.tempFilePath=t}Gt(f)};return i.toTempFilePathSync=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Bt.get(this),a=!!r&&r.isScreenCanvas;if(Ut(f),Object(b.invokeMethod)("canvasToTempFilePathSync",Object.assign({},n,{canvasId:f},{isScreenCanvas:a,success:function(t){e=t.tempFilePath},fail:function(e){t=e.errMsg}}),{beforeSuccess:p}),Gt(f),t)throw new Error(t);return e},i.toTempFilePath=Object(_.surroundByPromiseFactory)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Bt.get(i),n=!!t&&t.isScreenCanvas;Object(b.invokeMethod)("canvasToTempFilePath",Object.assign({},e,{canvasId:f,isScreenCanvas:n}),{beforeSuccess:p})})),i};s.default.onReady((function(){if(Object(w.isGame)()){(t=s.default.plugins||s.default.gamePlugins)&&Object.keys(t).forEach((function(e){var n=t[e].provider;jt(n)}));var e="string"==typeof(u.IS_DEVTOOLS?s.default.appConfig.subContext:s.default.subContext)||Lt();(function(e){if(Object(K.checkNeedPreserveDrawingBufferPatch)()){var t=e.getContext;e.getContext=function(n,r){for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];if("webgl"===n||"2d"===n){var s=Object.assign({},r);return s.preserveDrawingBuffer=!0,t.call.apply(t,[e,n,s].concat(i))}return t.call.apply(t,[e,n,r].concat(i))}}})(Qt({secure:e})),Object.keys(W).forEach((function(e){if(!W[e]){var t=G(),n=t.getContext("2d");if("Canvas"===e)W[e]=Object.getPrototypeOf(t);else if("Image"===e)W[e]=Object.getPrototypeOf(new F);else if("CanvasRenderingContext2D"===e)W[e]=Object.getPrototypeOf(n);else if("CanvasPattern"===e){var r=n.createPattern(t,"repeat");W[e]=Object.getPrototypeOf(r)}else if("CanvasGradient"===e){var a=n.createLinearGradient(0,0,100,100);W[e]=Object.getPrototypeOf(a)}else if("ImageData"===e){var i=n.getImageData(0,0,10,10);W[e]=Object.getPrototypeOf(i)}else if("TextMetrics"===e){var o=n.measureText("123");W[e]=Object.getPrototypeOf(o)}}})),(Yt=Qt({secure:e,isSharedCanvas:!0})).width=s.default.screenWidth,Yt.height=s.default.screenHeight}var t}));var $t=function(){return new l.default.ScreenCanvas},en=1,tn=!1;function nn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.font=t+"px -apple-system",n?e.measureText(n).width:0}s.default.onReady((function(){en=s.default.pixelRatio,Object(ve._operateWXData)({apiName:"webapi_game_issharemarkenabled",reqData:{lib_version:c.SDKVersion},success:function(e){var t=JSON.parse(e.rawData);tn=t.is_enabled}})}));var rn=function(e){return new Promise((function(t){if(e)if("transparent"===e)t({width:0,height:0});else{var n=m();n.onload=function(){return t(n)},n.onerror=function(){return t()},n.src=e}else t()}))},an=function(){var e=Object(o.default)(i.a.mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,h,v,g,y,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.background,r=t.label,a=t.icon,o=t.tag,s=t.more,c=void 0!==s&&s,u=t.base64,l=void 0!==u&&u,n){e.next=3;break}return e.abrupt("return",n);case 3:return d=Qt({secure:Lt()}),f=d.getContext("2d"),d.width=210*en,d.height=168*en,"transparent"===n&&(d.height=40*en),f.fillStyle="rgba(255, 255, 255, 0)",f.fillRect(0,0,d.width,d.height),e.next=12,rn(n);case 12:if(p=e.sent){e.next=15;break}return e.abrupt("return",n);case 15:if(p.width/p.height>=1.25?f.drawImage(p,0,0,1.25*p.height,p.height,0,0,d.width,d.height):p.width/p.height<1.25&&f.drawImage(p,0,0,p.width,.8*p.width,0,0,d.width,d.height),h=nn(f,12*en,r),!o){e.next=45;break}v=nn(f,10*en,o),f.fillStyle="rgba(0, 0, 0, 0.5)",f.beginPath(),f.moveTo(0,8*en),f.lineTo(h+v+12*en,8*en),f.arc(h+v+12*en,20*en,12*en,1.5*Math.PI,2.5*Math.PI),f.lineTo(0,32*en),f.closePath(),f.fill(),f.fillStyle="#F36D00",f.beginPath(),f.moveTo(4*en,14*en),f.arc(6*en,14*en,2*en,Math.PI,1.5*Math.PI),f.lineTo(v+10*en,12*en),f.arc(v+10*en,14*en,2*en,1.5*Math.PI,2*Math.PI),f.lineTo(v+12*en,26*en),f.arc(v+10*en,26*en,2*en,2*Math.PI,2.5*Math.PI),f.lineTo(6*en,28*en),f.arc(6*en,26*en,2*en,.5*Math.PI,Math.PI),f.closePath(),f.fill(),f.fillStyle="#FFFFFF",f.fillText(o,8*en,23.5*en),nn(f,12*en),f.fillText(r,v+16*en,24*en),e.next=79;break;case 45:if(!a){e.next=68;break}return e.next=48,rn(c&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAMCAYAAABBV8wuAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHtJREFUeNpj/v//v3RDQwNDY2PjLwYkwATEM4F4B1ABL7pEChALoUsyA434AjRqLZCdCcTBQPZqkLGMMBVA1RJAaj8QvwNiD0Zkc5EkHzMxoIL/UMzIhKRaHKr6I8guRiyC7oyMjJ8YsQnC/DEXXRAEWIA4A4g/IQuCAAABEju5SK8v4wAAAABJRU5ErkJggg==");case 48:return g=e.sent,y=g?10*en:0,f.fillStyle="rgba(0, 0, 0, 0.5)",f.beginPath(),f.moveTo(0,8*en),f.lineTo(h+y+22*en,8*en),f.arc(h+y+22*en,20*en,12*en,1.5*Math.PI,2.5*Math.PI),f.lineTo(0,32*en),f.closePath(),f.fill(),e.next=60,rn(a);case 60:(m=e.sent)&&m.width&&m.height&&f.drawImage(m,6*en,12*en,16*en,16*en),g&&g.width&&g.height&&f.drawImage(g,h+30*en,14*en,6*en,12*en),f.fillStyle="#FFFFFF",nn(f,12*en),f.fillText(r,26*en,24*en),e.next=79;break;case 68:f.fillStyle="rgba(0, 0, 0, 0.5)",f.beginPath(),f.moveTo(0,8*en),f.lineTo(h+2*en,8*en),f.arc(h+2*en,20*en,12*en,1.5*Math.PI,2.5*Math.PI),f.lineTo(0,32*en),f.closePath(),f.fill(),f.fillStyle="#FFFFFF",nn(f,12*en),f.fillText(r,6*en,24*en);case 79:return e.abrupt("return",l?d.toDataURL():d.toTempFilePathSync());case 80:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),on=function(e){return new Promise((function(t){tn&&e.imageUrl?Object(ve._operateWXData)({apiName:"webapi_game_getsharemark",reqData:{lib_version:c.SDKVersion},success:function(n){var r=n.rawData,a=JSON.parse(r);(a=(a.mark_list||[])[0])||t(e),a&&an({background:e.imageUrl,label:a.wording,icon:a.head_img_url,tag:a.mark_word}).then((function(n){e.imageUrl=n,e.extra={shareCardMarker:{label:a.mark_type}},t(e)})).catch((function(){return t(e)}))},fail:function(){return t(e)}}):t(e)}))}},function(e,t,n){n.r(t);var r=n(56),a=n(12),i=n.n(a),o=n(32),s=n(8),c=n(11),u=n(22),l=n(15),d=n(16),f=n(7),p=n(13),h=n(63),v=n.n(h),g=n(24),y=n(14),m=n(1),_=n(10),b=n(2),O=n(0);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S="",C="",k="{}",T="",A="",P="{}";function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(t,n){var r="",a="";b.IS_ANDROID&&m.default.clientVersion>=654316032?Object(O.invokeMethod)("getDeviceInfo",{waidPkg:e,success:function(e){r=e.waid||"",a=e.imei||"",t({waid:r,imei:a})},fail:function(e){n(e)}}):t({waid:r,imei:a})}))}var D=n(20),R=n(39),M=n(6);function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t={};try{var n,r=j(e=JSON.parse(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;a.hasOwnProperty("exp_para")&&a.exp_para.forEach((function(e){t[e.name]=Number(e.value)}))}}catch(e){r.e(e)}finally{r.f()}for(var i in t)M.FLOW_EXP_MAP[i]&&(t[M.FLOW_EXP_MAP[i]]=t[i]);return t}catch(e){return{}}},N=function(e){var t=e.aid,n=e.buttonText,r=void 0===n?"":n;return Object(D.operateWXData)({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_ad_metric",aid:t.toString(),button_text:r})}}).then((function(e){if(!e.rawData)throw new Error("get_ad_metric no result");try{var t=JSON.parse(e.rawData),n=JSON.parse(t.result)||{},r=n.ad_metric_count,a=n.desc_text;return null==r||null==a||r<50?null:{count:Object(R.convertTenThousand)(r),descText:a}}catch(e){throw new Error("get_ad_metric invalid result")}})).catch((function(){throw new Error("get_ad_metric request failed")}))},B=function(e){var t=e.guide_group_id,n=e.uxinfo;return Object(D.operateWXData)({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"BindAdFansToGuideGroup",guide_group_id:t,uxinfo:n})}}).then((function(e){return"ok"===e.msg?Promise.resolve(e):Promise.reject(e)}))},F=n(90),V="<?xml version='1.0' encoding='utf-8' ?>",W=function(e){return"<![CDATA["+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"]]>"},U=function(e){return e.children&&e.children.length>0?e.children.map((function(e){return G(e)})).join(""):""},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?V:"";return n+="<"+e.name+">",e.children.length>0?n+=U(e):n+=W(e.content),n+="</"+e.name+">"},H=n(121),Y=n(59),q=Symbol("signExport"),K=function(){return function(e,t){e[q]=e[q]||new Set,e[q].add(t)}};function z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},J=function(e,t){var n,r=Array.isArray(t)?t:[t],a=z(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(!(i in e)||"function"!=typeof e[i])throw new Error(i+" is not the function method of the class")}}catch(e){a.e(e)}finally{a.f()}return r.map((function(t){return e[t]}))},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r,a){var o=a.value,s=J(n,e);a.value=t?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return X(this,void 0,void 0,i.a.mark((function e(){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.call.apply(o,[this].concat(t));case 2:n=e.sent,r=z(s),e.prev=4,r.s();case 6:if((a=r.n()).done){e.next=12;break}return c=a.value,e.next=10,c.call(this,n);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})))}:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=o.call.apply(o,[this].concat(n));if(a instanceof Promise)return a.then((function(t){var n,r=z(s);try{for(r.s();!(n=r.n()).done;){n.value.call(e,t)}}catch(e){r.e(e)}finally{r.f()}return t}));var i,c=z(s);try{for(c.s();!(i=c.n()).done;){var u=i.value;u.call(this,a)}}catch(e){c.e(e)}finally{c.f()}return a}}},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r,a){var o=a.value,s=J(n,e);a.value=t?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return X(this,void 0,void 0,i.a.mark((function e(){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.call.apply(o,[this].concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),r=z(s),e.prev=10,r.s();case 12:if((a=r.n()).done){e.next=18;break}return c=a.value,e.next=16,c.call(this,e.t0);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(10),r.e(e.t1);case 23:return e.prev=23,r.f(),e.finish(23);case 26:throw e.t0;case 27:case"end":return e.stop()}}),e,this,[[0,7],[10,20,23,26]])})))}:function(){var e=this;try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=o.call.apply(o,[this].concat(n));return a instanceof Promise&&a.catch((function(t){var n,r=z(s);try{for(r.s();!(n=r.n()).done;){n.value.call(e,t)}}catch(e){r.e(e)}finally{r.f()}})),a}catch(e){var i,c=z(s);try{for(c.s();!(i=c.n()).done;){var u=i.value;u.call(this,e)}}catch(e){c.e(e)}finally{c.f()}throw e}}}},ee=n(19),te=n(117),ne=n(34),re=n(84),ae=n(74),ie=n(23),oe=n(18),se=n(71),ce=n(94),ue=Object(oe.getEventManager)("Hide"),le=Object(oe.getEventManager)("BaseFrameHide"),de=(ue.onMethod,ue.offMethod,ue.internalOnMethod),fe=ue.internalOffMethod;le.internalOnMethod,le.internalOffMethod;Object(ie.onNativeEvent)("onAppEnterBackground",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ce.setLastOnHideMode)(e.mode),Object(se.isAtFunctionalPage)()?le.emit(e):(le.emit(e),ue.emit(e))}));n(51);var pe=n(40),he={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:b.PLATFORM,isWaGame:!0,isIOS:b.IS_IOS,isAndroid:b.IS_ANDROID,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:""},ve={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""},ge=function(){return Object(ee.pick)(he,["oaid","imei","idfa","common_device_id"])},ye=function(){if(!he.isWaGame){var e=Object(ne.getStaticSystemInfoSync)();he.screenWidth=e.screenWidth,he.screenHeight=e.screenHeight,he.deviceOrientation=he.screenWidth>he.screenHeight?"landscape":"portrait"}return he.deviceOrientation},me=function(){},_e=function(){return new Promise((function(e){me=e}))},be=function(){return new Promise((function(e){var t;t=function(t){he.oaid=t,e()},S?t&&t(S):b.IS_ANDROID&&m.default.clientVersion<654315827?Object(O.invokeMethod)("getOAID",{success:function(e){/:ok/.test(e.errMsg)?(S=e.result||"",t&&t(S)):t&&t("")},fail:function(){t&&t("")}}):t&&t("")}))},Oe=function(){return new Promise((function(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(t,n){b.IS_ANDROID&&m.default.clientVersion>=654315827||b.IS_IOS&&m.default.clientVersion>=385879808?Object(O.invokeMethod)("getDeviceInfo",{waidPkg:e,success:function(e){S=e.oaid||"",C=e.imei||"",A=e.waid||"",T=e.ua||"",P=e.devIdInfo||"{}";try{k=JSON.stringify(I(I({},JSON.parse(P)),T?{ua:T}:{}))}catch(e){n(e)}t({oaid:S,imei:C,commonid:k,waid:A})},fail:function(e){n(e)}}):t({oaid:S,imei:C,commonid:k,waid:A})}))})().then((function(t){var n=t.imei,r=t.oaid,a=t.commonid;b.IS_IOS?he.idfa=n:b.IS_ANDROID&&(he.oaid=r,he.imei=n),he.common_device_id=a||"{}",e(),_e().then((function(){Object(re.reportAdMonitorData)(Ze.IDKEY.GET_DEVICEINFO_SUCCESS)}))})).catch((function(t){e(),_e().then((function(){Object(re.reportAdMonitorData)(Ze.IDKEY.GET_DEVICEINFO_ERROR,t)}))}))}))},Ee=new Promise((function(e){m.default.onReady((function(){he.startTime=new Date,he.deviceOrientation=Object(ee.getInitDeviceOrientation)()||"",he.envVersion=m.default.envVersion;var t=Object(ne.getStableSystemInfo)(),n=Object(ne.getInitScreenSize)();he.screenWidth=n.screenWidth||0,he.screenHeight=n.screenHeight||0,he.systemVersion=t.system,he.wechatVersion=t.version,he.SDKVersion=t.SDKVersion,he.brand=t.brand,he.model=t.model,he.isWaGame=Object(_.isGame)();try{he.gameAppId=m.default.accountInfo.appId,he.SDKVersionTime=__libVersionInfo__.updateTime}catch(e){}Promise.all([be(),Oe()]).then((function(){return e(he)}))}))})),Ie=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];he[r]=e[r]}};try{Object(pe.onAppRoute)((function(e){var t=e.webviewId,n=e.openType,r=e.path;he.isWaGame||(ve.lastWebviewId=ve.currentWebviewId,ve.currentWebviewId=t||0,ve.currentOpenType=n,ve.weappPath=r)}))}catch(e){}Object(ae._onShow)((function(e){var t=e.scene;ve.enterForegroundTime=new Date,ve.currentScene=t})),de((function(){ve.gameDuration+=Date.now()-ve.enterForegroundTime.getTime()}));var Se,Ce,ke,Te,Ae,Pe,we,De,Re,Me,je,xe,Le,Ne,Be,Fe,Ve,We,Ue,Ge=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},He=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ye=function(){function e(t){Object(s.default)(this,e),this.adProxy=t,this.timePoints={},this.analyseBranchInfo=null}return Object(c.default)(e,[{key:"adType",get:function(){return this.adProxy.getAdType()}},{key:"data",get:function(){return this.adProxy.data}},{key:"convertedAdData",get:function(){return this.adProxy.convertedAdData}},{key:"datas",get:function(){return this.adProxy.datas}},{key:"adUnitId",get:function(){return this.adProxy.getAdUnitId()}},{key:"pluginAppid",get:function(){return this.adProxy.getPluginAppid()}},{key:"lastClickTime",get:function(){return this.adProxy.getLastClickTime()}},{key:"getTimePoint",value:function(e){return this.timePoints[e]?this.timePoints[e]:0}},{key:"setTimePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("splashAd"!==this.adType){["p2","p12"].includes(e)&&(this.timePoints={p1:this.timePoints.p1||0});var n=t.time;this.timePoints[e]=n||Date.now()}else this.timePoints[e]=Date.now()}},{key:"reportTimePoints",value:function(e){var t=e.slotid,n=e.costtype,r=e.splash_instance_id,a=void 0===r?"":r,i=e.scene,o=void 0===i?0:i,s=e.errCode,c=void 0===s?0:s,u=e.extInfo,l=void 0===u?{}:u;if(["customAd","incentive-video","splashAd","interstitialAd"].includes(this.adType)){this.reportMMData(19837,Object.assign({slotid:t,costtype:n,ext_info:JSON.stringify(Object.assign({},l,{adUnitId:this.adUnitId,is_game:!0})),instance_id:a,scene:o,crt_size:this.data.crt_size,error_code:c},this.timePoints))}}},{key:"reportCloseAction",value:function(e){return this.reportMMData(16743,e)}},{key:"reportAdEntranceExposure",value:function(e){return this.reportMMData(18988,e)}},{key:"reportTouchClick",value:function(e){return this.reportMMData(16487,e)}},{key:"reportCancelRewardPlayablePage",value:function(e){return this.reportMMData(20299,e)}},{key:"formatMMData",value:function(e,t){var n,r=Object(te.getMMDataProto)(e);if(!r||0===r.length)return null;var a=this.data;if("grid"===this.adType&&-1!==[16139].indexOf(e))try{a=this.datas[this.datas.length-1]}catch(e){}return Object.assign(t,{aid:a.aid,traceid:a.traceid,crt_size:a.crt_size,slotid:M.POS_ID_MAP[this.adType],report_time:Date.now(),ad_pos_type:null!==(n=M.POS_TYPE_MAP[this.adType])&&void 0!==n?n:0,publisher_appid:this.pluginAppid?this.pluginAppid:he.gameAppId,appid:this.pluginAppid?this.pluginAppid:he.gameAppId,orig_weapp_id:this.pluginAppid?he.gameAppId:"",network_type:he.adNetworkType,wechat_version:he.wechatVersion,platform:he.platform,system_version:he.systemVersion,device_orientation:he.deviceOrientation,wxapp_lib_version:he.SDKVersion,wxapp_lib_time:he.SDKVersionTime,machine_type:he.model,ad_platform:he.isWaGame?1:0,ad_unit_id:this.adUnitId}),r.map((function(e){return{type:e.type,value:(t[e.key]||e.value).toString()}}))}},{key:"reportMMData",value:function(e,t){var n=this.formatMMData(e,t);return Object(D.operateWXData)({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:n})}})}},{key:"reportAbnormalDetect",value:function(e){var t={adunit_id:this.adUnitId,appid:he.gameAppId};if(Object.assign(e,t),"object"===Object(p.default)(e))return this.reportMMData(16139,e)}},{key:"reportAdIDKey",value:function(e){var t,n=e.key,r=e.id,a=n;"object"===Object(p.default)(a)&&(!r&&(r=a.idKeyGroup),a=a.idKey),r||(r=null!==(t=M.ID_KEY_MAP[this.adType])&&void 0!==t?t:924),0===a&&(a="0"),Reporter.reportIDKeyDirectly({id:r,key:a})}},{key:"processStackMsg",value:function(e){var t=(e.stack||"").replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return t.indexOf(n)<0&&(t=n+"@"+t),t}},{key:"reportAdIDKeyErrorData",value:function(e){var t,n,r=e.key,a=e.id,i=e.extInfo,o=r,s=a,c=void 0===i?"":i;"object"===Object(p.default)(o)&&(!s&&(s=o.idKeyGroup),o=o.idKey),0===o&&(o="0");var u="",l="";try{if(this.data){var d={crt_size:this.data.crt_size,product_type:this.data.product_type,dest_type:this.data.dest_type,url:this.data.url};if([qe.CRT_SIZE_REWARD_VEDIO169,qe.CRT_SIZE_REWARD_VEDIO916,qe.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(this.data.crt_size)){var f=this.convertedAdData;f&&(l=f.video.src,d.is_gauss_blur=f.isGaussBlur,d.is_expand_style=f.isExpandStyle)}else this.adProxy.isBannerAd()&&(l=this.data.image_url);u=JSON.stringify(d)}if(c&&"string"!=typeof c)try{c instanceof Error&&(c=this.processStackMsg(c)),c=JSON.stringify(c)}catch(e){c=c.toString()}}catch(e){c=this.processStackMsg(e),l="",u=null===(t=this.data)||void 0===t?void 0:t.crt_size}return this.reportMMData(16295,{id_key:o,id_key_group:null!==(n=null!=s?s:M.ID_KEY_MAP[this.adType])&&void 0!==n?n:924,report_time:+new Date,source_url:l,expand_feild:u,expand_feild2:c,scene:this.adProxy.scene||0})}},{key:"reportAdMonitorData",value:function(e,t){this.reportAdIDKey({key:e}),this.reportAdIDKeyErrorData({key:e,extInfo:t})}},{key:"reportEndPage",value:function(e){var t=e.slotid,n=e.costtype,r=e.isGame,a=void 0===r?0:r,i=e.posType,o=e.ace_type,s=e.exposure_duration,c=void 0===s?0:s;return this.reportMMData(19002,{slotid:t,costtype:n,is_game:a,pos_type:i,ace_type:o,exposure_duration:c})}},{key:"reportAdFeedbackData",value:function(e){var t,n,r,a={};if("grid"===this.adType){var i={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(t=this.datas)||void 0===t||t.forEach((function(e){e.extBackComm&&i.viewid.push(e.extBackComm.viewid),i.s_pt.push(e.pt),i.s_aid.push(e.aid),i.s_trace_id.push(e.traceid)})),a.grid_feedback_info=i}return this.reportMMData(17045,{appid:he.gameAppId,weapp_path:ve.weappPath,ad_unit_id:this.adUnitId,device_type:he.model||"",ad_height:e.adHeight,ad_width:e.adWidth,screen_height:he.screenHeight,screen_width:he.screenWidth,ad_pos_x:e.adPosX,ad_pos_y:e.adPosY,exp_time:e.expTime,clk_complaint_button:1,slotid:M.POS_ID_MAP[this.adType],service_type:he.isWaGame?1:0,first_grade_id:e.firstGradeId,first_grade_desc:e.firstGradeDesc,first_grade_time:e.firstGradeTime,second_grade_id:e.secondGradeId,second_grade_desc:e.secondGradeDesc,second_grade_time:e.secondGradeTime,is_finish_complaint:0,is_click_ad:null!==(n=e.isClickAd)&&void 0!==n?n:0!==this.lastClickTime?1:0,click_ad_time_ms:null!==(r=e.clickAdTimeMs)&&void 0!==r?r:this.lastClickTime,feedback_reason:e.feedbackReason,ext_feedback_comm:JSON.stringify(a)})}},{key:"reportBehaviorButton",value:function(e){var t=e.button,n=e.playDuration,r=e.preloadVideo,a=e.preloadVideoSuccess,i=e.videoFirstPlay,o=e.cardFirstShow,s=e.clickCard,c=e.pressInterval,u=e.currentPlayUrl,l=e.lastFetchUrl,d=e.isEnded,f=e.videoDuration;return this.reportMMData(16e3,{click_button:t,play_duration:n,click_close_ts:+new Date,preload_video:r,preload_video_success:a,video_first_play_ts:i,card_first_show_ts:o,click_card_ts:s,press_interval:c,current_play_url:u,last_fetch_url:l,is_ended:d?1:0,video_duration:f})}},{key:"reportVideoLoadTime",value:function(e){var t=e.beginTime,n=void 0===t?0:t,r=e.endTime,a=void 0===r?0:r,i=e.departureTime,o=void 0===i?0:i,s=e.preloadVideo,c=void 0===s?0:s,u=e.preloadVideoSuccess,l=void 0===u?0:u,d=e.reportType,f=void 0===d?0:d,p=a-o-n;return p>0?this.reportMMData(15730,{load_begin_time:n,load_end_time:a,load_departure_time:o,load_cost_time:p,preload_video:c,preload_video_success:l,report_type:f}):Promise.resolve()}},{key:"reportRepeatClick",value:function(e){var t=e.slotId,n=e.costType,r=e.clkCnt,a=e.lastClkPeriod,i=e.retCode,o=e.costTime,s=e.pageStayTime,c=e.jsapiName;return this.reportMMData(15979,{slotid:t,costtype:n,clkcnt:r,currenttime:+new Date,lastclkperiod:a,retcode:i,costtime:o,pagestaytime:s,jsapiname:c})}},{key:"reportLandingTime",value:function(e){var t=e.slotId,n=e.costType,r=e.openTime,a=e.closeTime,i=e.stayTime,o=e.jsapiName,s=e.clickTime,c=e.clkCnt,u=e.retCode,l=e.costTime,d=e.actTypeInt,f=e.actTypeStr;return this.reportMMData(15980,{slotid:t,costtype:n,currenttime:s,opentime:r,closetime:a,staytime:i,jsapiname:o,clkcnt:c,retcode:u,costtime:l,act_type_int:d,act_type_str:f})}},{key:"reportVideoLastClick",value:function(e){var t=e.touchStartX,n=e.touchStartY,r=e.touchEndX,a=e.touchEndY,i=e.touchDuration,o=e.screenWidth,s=e.screenHeight;return this.reportMMData(17035,{touch_start_x:t,touch_start_y:n,touch_end_x:r,touch_end_y:a,touch_duration:i,screenwidth:o,screenheight:s})}},{key:"reportBannerLastClick",value:function(e){var t=e.lastClickArr,n=e.top,r=e.left,a=e.width,i=e.height,o=e.expMs,s=e.clickMs,c=e.bannerClkScreenX,u=e.bannerClkScreenY,l=e.lastShowTime;return this.reportMMData(18072,{last_clicks:t,banner_x:n,banner_y:r,banner_width:a,banner_height:i,exp_ms:o,clk_ms:s,banner_clk_screen_x:c,banner_clk_screen_y:u,last_show_time:l,slotid:M.POS_ID_MAP[this.adType]})}},{key:"reportRelationFetchDuration",value:function(e){var t=e.startTime,n=e.showTime,r=e.endTime;return this.reportMMData(19429,{start_time:t,show_time:n,end_time:r,show_delay_duration:0===n?0:r-n,fetch_duration:r-t})}},{key:"reportMMClickPos",value:function(e){var t,n=e.clickPos;return this.reportMMData(20480,{slotid:M.POS_ID_MAP[this.adType],costtype:(null===(t=this.data)||void 0===t?void 0:t.is_cpm)?1:2,currenttime:Date.now(),click_pos:n})}},{key:"reportADFunnelModel",value:function(e){var t=[e.adtype,e.stage].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"GameADFunnelModel",value:t,force:!0,immediately:!0})}},{key:"recordAnalyseBranchInfo",value:function(e){var t=e.branchId,n=e.branchDim;this.analyseBranchInfo={branchId:t,branchDim:n}}},{key:"resetAnalyseBranchInfo",value:function(){this.analyseBranchInfo=null}},{key:"reportAnalyseInfo",value:function(e){var t=M.EXPOSURE_TYPE_MAP[this.adType]||"viewable";if(he.isWaGame&&e===t){var n=this.analyseBranchInfo;n&&("release"!==he.envVersion&&this.adProxy.reportAnalyseDebugInfo(n),this.reportMMData(20317,{branch_id:n.branchId,branch_dim:n.branchDim}))}}},{key:"reportRewardGaussVideo",value:function(e){var t=e.useGaussVideo,n=e.useExpandStyle,r=e.videoUrl,a=e.gaussVideoUrl,i=e.expUseGaussVideo,o=e.expUseExpandStyle;this.reportMMData(21644,{use_gauss_video:t?1:0,video_url:r,gauss_video_url:a,use_expand_style:n?1:0,exp_use_gauss_video:i,exp_use_expand_style:o})}}]),e}();Ge([K(),He("design:type",Function),He("design:paramtypes",[String]),He("design:returntype",void 0)],Ye.prototype,"getTimePoint",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[String,Object]),He("design:returntype",void 0)],Ye.prototype,"setTimePoint",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportTimePoints",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportCloseAction",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportAdEntranceExposure",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportTouchClick",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportCancelRewardPlayablePage",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Number,Object]),He("design:returntype",void 0)],Ye.prototype,"reportMMData",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportAbnormalDetect",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportAdIDKey",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Error]),He("design:returntype",void 0)],Ye.prototype,"processStackMsg",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportAdIDKeyErrorData",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object,Object]),He("design:returntype",void 0)],Ye.prototype,"reportAdMonitorData",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportEndPage",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportAdFeedbackData",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportBehaviorButton",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportVideoLoadTime",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportRepeatClick",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportLandingTime",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportVideoLastClick",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportBannerLastClick",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportRelationFetchDuration",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportMMClickPos",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportADFunnelModel",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"recordAnalyseBranchInfo",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[]),He("design:returntype",void 0)],Ye.prototype,"resetAnalyseBranchInfo",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[String]),He("design:returntype",void 0)],Ye.prototype,"reportAnalyseInfo",null),Ge([K(),He("design:type",Function),He("design:paramtypes",[Object]),He("design:returntype",void 0)],Ye.prototype,"reportRewardGaussVideo",null),function(e){e[e.kUnknown=0]="kUnknown",e[e.kVideo=1]="kVideo",e[e.kArticle=2]="kArticle"}(Se||(Se={})),function(e){e[e.EXPOSE=1]="EXPOSE",e[e.CLICK=2]="CLICK"}(Ce||(Ce={})),function(e){e[e.kDeviceUnknow=0]="kDeviceUnknow",e[e.kDeviceAndroid=1]="kDeviceAndroid",e[e.kDeviceIphone=2]="kDeviceIphone",e[e.kDeviceIpad=3]="kDeviceIpad",e[e.kDeviceTv=4]="kDeviceTv"}(ke||(ke={})),function(e){e[e.AppServiceType_NORMAL=1]="AppServiceType_NORMAL",e[e.AppServiceType_GAME=2]="AppServiceType_GAME"}(Te||(Te={})),function(e){e[e.AllOS=0]="AllOS",e[e.Ios=1]="Ios",e[e.Android=2]="Android",e[e.Winphone=3]="Winphone",e[e.JAVA=4]="JAVA",e[e.OS_UNKNOWN=5]="OS_UNKNOWN",e[e.SYMBIAN=6]="SYMBIAN",e[e.S40asha=7]="S40asha",e[e.Webwx=8]="Webwx",e[e.Blackberry=9]="Blackberry",e[e.Windows=10]="Windows"}(Ae||(Ae={})),function(e){e[e.kUnknownNetwork=0]="kUnknownNetwork",e[e.kWIFI=1]="kWIFI",e[e.k2G=2]="k2G",e[e.k3G=3]="k3G",e[e.k4G=4]="k4G",e[e.k5G=5]="k5G",e[e.kAll=10]="kAll"}(Pe||(Pe={})),function(e){e[e.kUnknownCarrier=0]="kUnknownCarrier",e[e.kCMCC=1]="kCMCC",e[e.kCUCC=2]="kCUCC",e[e.kCTCC=3]="kCTCC"}(we||(we={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CMNET=1]="CMNET",e[e.CMWAP=2]="CMWAP",e[e.THREEGNET=3]="THREEGNET",e[e.THREEGWAP=4]="THREEGWAP",e[e.UNINET=5]="UNINET",e[e.UNIWAP=6]="UNIWAP",e[e.WIFI=7]="WIFI",e[e.CTWAP=8]="CTWAP",e[e.CTNET=9]="CTNET",e[e.THREEGNET_UNINET=10]="THREEGNET_UNINET",e[e.THREEGWAP_UNIWAP=11]="THREEGWAP_UNIWAP",e[e.CTNET_CTWAP=12]="CTNET_CTWAP",e[e.THREEGNET_THREEGWAP_UNINET_UNIWAP=13]="THREEGNET_THREEGWAP_UNINET_UNIWAP",e[e.WIMAX=14]="WIMAX"}(De||(De={})),function(e){e[e.Default_Source=0]="Default_Source",e[e.MediaPlatform=1]="MediaPlatform",e[e.WeApp=2]="WeApp",e[e.Moments=3]="Moments",e[e.BizTimeLine=4]="BizTimeLine"}(Re||(Re={})),function(e){e[e.JSON=0]="JSON",e[e.XML=1]="XML"}(Me||(Me={})),function(e){e[e.Unknown_sys=-1]="Unknown_sys",e[e.Windows=0]="Windows",e[e.Ios=1]="Ios",e[e.Android=2]="Android"}(je||(je={})),function(e){e[e.Unknown_type=0]="Unknown_type",e[e.Wifi=1]="Wifi",e[e.TwoG=2]="TwoG",e[e.TreeG=3]="TreeG",e[e.FourG=4]="FourG",e[e.FiveG=5]="FiveG",e[e.Ethernet=6]="Ethernet"}(xe||(xe={})),function(e){e[e.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",e[e.SOURCE_MP=1]="SOURCE_MP",e[e.SOURCE_OSS=2]="SOURCE_OSS",e[e.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",e[e.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",e[e.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",e[e.SOURCE_WEPAY=6]="SOURCE_WEPAY",e[e.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",e[e.SOURCE_WEAPP=8]="SOURCE_WEAPP",e[e.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS"}(Le||(Le={})),function(e){e[e.NORMAL_AD=0]="NORMAL_AD",e[e.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD"}(Ne||(Ne={})),function(e){e[e.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",e[e.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",e[e.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",e[e.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",e[e.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",e[e.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",e[e.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",e[e.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",e[e.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",e[e.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",e[e.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",e[e.POS_TYPE_BOX=11]="POS_TYPE_BOX",e[e.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",e[e.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",e[e.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",e[e.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",e[e.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",e[e.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",e[e.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",e[e.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",e[e.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED"}(Be||(Be={})),function(e){e[e.DEST_TYPE_AD=0]="DEST_TYPE_AD",e[e.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",e[e.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",e[e.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",e[e.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",e[e.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",e[e.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",e[e.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",e[e.DEST_TYPE_CHANNELS=101]="DEST_TYPE_CHANNELS",e[e.DEST_TYPE_CHANNELS_LIVE=102]="DEST_TYPE_CHANNELS_LIVE",e[e.DEST_TYPE_CHANNELS_USER_PROFILE=103]="DEST_TYPE_CHANNELS_USER_PROFILE"}(Fe||(Fe={})),function(e){e[e.RT_SIZE_WORD=91]="RT_SIZE_WORD",e[e.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",e[e.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",e[e.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",e[e.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",e[e.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",e[e.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",e[e.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",e[e.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",e[e.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",e[e.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",e[e.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",e[e.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",e[e.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",e[e.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",e[e.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",e[e.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",e[e.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",e[e.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",e[e.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",e[e.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",e[e.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",e[e.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",e[e.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",e[e.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",e[e.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",e[e.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",e[e.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",e[e.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",e[e.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",e[e.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",e[e.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",e[e.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",e[e.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",e[e.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",e[e.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",e[e.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",e[e.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",e[e.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",e[e.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",e[e.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",e[e.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",e[e.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",e[e.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",e[e.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",e[e.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",e[e.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",e[e.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",e[e.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",e[e.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",e[e.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",e[e.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",e[e.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",e[e.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",e[e.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",e[e.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",e[e.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",e[e.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",e[e.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",e[e.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",e[e.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",e[e.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",e[e.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",e[e.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280=721]="CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280",e[e.CRT_SIZE_CARD_FINDER_EVENT_VIDEO=1748]="CRT_SIZE_CARD_FINDER_EVENT_VIDEO"}(Ve||(Ve={})),function(e){e[e.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",e[e.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",e[e.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",e[e.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",e[e.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",e[e.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",e[e.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",e[e.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",e[e.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",e[e.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",e[e.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",e[e.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",e[e.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",e[e.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",e[e.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",e[e.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",e[e.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",e[e.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",e[e.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",e[e.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",e[e.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",e[e.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",e[e.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",e[e.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",e[e.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",e[e.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",e[e.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",e[e.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",e[e.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",e[e.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",e[e.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",e[e.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",e[e.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",e[e.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",e[e.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",e[e.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",e[e.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",e[e.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",e[e.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",e[e.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",e[e.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",e[e.PAGE_TYPE_WECHAT_VIDEO_TOPIC=40032]="PAGE_TYPE_WECHAT_VIDEO_TOPIC",e[e.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX"}(We||(We={})),function(e){e[e.PRODUCTTYPE_UNKNOWN=0]="PRODUCTTYPE_UNKNOWN",e[e.PRODUCTTYPE_OPEN_PLATFORM_APP_MOB=12]="PRODUCTTYPE_OPEN_PLATFORM_APP_MOB",e[e.PRODUCTTYPE_APPLE_APP_STORE=19]="PRODUCTTYPE_APPLE_APP_STORE",e[e.PRODUCTTYPE_WECHAT=23]="PRODUCTTYPE_WECHAT",e[e.PRODUCTTYPE_JD_URL=25]="PRODUCTTYPE_JD_URL",e[e.PRODUCTTYPE_DP_SHOP=26]="PRODUCTTYPE_DP_SHOP",e[e.PRODUCTTYPE_WECHAT_ARTICLE=29]="PRODUCTTYPE_WECHAT_ARTICLE",e[e.PRODUCTTYPE_WECHAT_SHOP=30]="PRODUCTTYPE_WECHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_URL=31]="PRODUCTTYPE_WECHAT_URL",e[e.PRODUCTTYPE_WECHAT_CARD=36]="PRODUCTTYPE_WECHAT_CARD",e[e.PRODUCTTYPE_WECHAT_LBS=37]="PRODUCTTYPE_WECHAT_LBS",e[e.PRODUCTTYPE_WECHAT_APP=38]="PRODUCTTYPE_WECHAT_APP",e[e.GDT_PRODUCTTYPE_WECHAT_LBS=39]="GDT_PRODUCTTYPE_WECHAT_LBS",e[e.PRODUCTTYPE_LEAD_AD=43]="PRODUCTTYPE_LEAD_AD",e[e.PRODUCTTYPE_WECHAT_MINI_GAME=46]="PRODUCTTYPE_WECHAT_MINI_GAME",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.PRODUCTTYPE_WECHAT_CHANNELS=51]="PRODUCTTYPE_WECHAT_CHANNELS",e[e.PRODUCTTYPE_MINI_PROGRAM_WECHAT=52]="PRODUCTTYPE_MINI_PROGRAM_WECHAT"}(Ue||(Ue={}));var qe,Ke,ze,Ze=n(98);!function(e){e[e.PIC_TIME5=555]="PIC_TIME5",e[e.VIDEO_TIME15=1515]="VIDEO_TIME15",e[e.APP_VIDEO=538]="APP_VIDEO",e[e.CRT_SIZE_WX_APPLICATION=532]="CRT_SIZE_WX_APPLICATION",e[e.CRT_SIZE_WX_APPLICATION_X=567]="CRT_SIZE_WX_APPLICATION_X",e[e.CRT_SIZE_WX_APPLICATION_NEW=608]="CRT_SIZE_WX_APPLICATION_NEW",e[e.CRT_SIZE_WX_APPLICATION_CARD=556]="CRT_SIZE_WX_APPLICATION_CARD",e[e.CRT_SIZE_REWARD_VEDIO169=559]="CRT_SIZE_REWARD_VEDIO169",e[e.CRT_SIZE_REWARD_VEDIO916=560]="CRT_SIZE_REWARD_VEDIO916",e[e.CRT_SIZE_REWARD_LANDINGPAGE=910]="CRT_SIZE_REWARD_LANDINGPAGE",e[e.CRT_SIZE_TABLE_SCREEN_IMAGE=701]="CRT_SIZE_TABLE_SCREEN_IMAGE",e[e.CRT_SIZE_INSERT_VIDEO=913]="CRT_SIZE_INSERT_VIDEO",e[e.CRT_SIZE_MULTI_POS_NEW_PIC=927]="CRT_SIZE_MULTI_POS_NEW_PIC",e[e.CRT_SIZE_MULTI_POS_VEDIO=929]="CRT_SIZE_MULTI_POS_VEDIO",e[e.CRT_SIZE_MULTI_POS_GRID=972]="CRT_SIZE_MULTI_POS_GRID",e[e.CRT_SIZE_COVER_AD=1003]="CRT_SIZE_COVER_AD",e[e.CRT_SIZE_CPM_PIC=998]="CRT_SIZE_CPM_PIC",e[e.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT=928]="CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT",e[e.CRT_SIZE_VERTICAL_VIDEO_NEW_916=721]="CRT_SIZE_VERTICAL_VIDEO_NEW_916"}(qe||(qe={})),function(e){e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.JD_URL=25]="JD_URL"}(Ke||(Ke={})),function(e){e[e.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",e[e.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",e[e.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",e[e.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",e[e.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",e[e.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",e[e.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",e[e.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",e[e.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",e[e.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY"}(ze||(ze={}));var Xe,Je={123:["image","brand"],124:["image","store"],127:["image","download"],128:["image","follow"],134:["image","wxgame"],138:["image","brand"],126:["card","follow","normal"],129:["card","follow","large"],132:["card","download","large"],130:["video","download"],131:["video","brand"],133:["video","wxgame"],135:["video","brand"],136:["video","follow"],137:["video","brand"]},Qe={1:"store",2:"brand",3:"download",6:"follow",7:"wxgame"},$e=[123,124,126,127,128,129,130,131,132,133,134,135,136,137,138],et=[qe.CRT_SIZE_WX_APPLICATION,qe.CRT_SIZE_WX_APPLICATION_NEW,qe.CRT_SIZE_WX_APPLICATION_X,qe.CRT_SIZE_WX_APPLICATION_CARD,qe.CRT_SIZE_REWARD_VEDIO169,qe.CRT_SIZE_REWARD_VEDIO916,qe.CRT_SIZE_TABLE_SCREEN_IMAGE,qe.CRT_SIZE_REWARD_LANDINGPAGE,qe.CRT_SIZE_INSERT_VIDEO,qe.CRT_SIZE_MULTI_POS_NEW_PIC,qe.CRT_SIZE_MULTI_POS_VEDIO,qe.CRT_SIZE_MULTI_POS_GRID,qe.CRT_SIZE_CPM_PIC,qe.CRT_SIZE_COVER_AD,qe.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT,qe.CRT_SIZE_VERTICAL_VIDEO_NEW_916];!function(e){e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_ACT_BUTTON=2001]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_ACT_BUTTON",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CLOSE_BUTTON=2002]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CLOSE_BUTTON",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CONTENT=2003]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CONTENT",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CORNER=2004]="MMOCAD_CLICKPOS_BIZ_VIDEO_END_PAGE_CORNER",e[e.MMOCAD_CLICKPOS_BIZ_VIDEO_CONTENT=2005]="MMOCAD_CLICKPOS_BIZ_VIDEO_CONTENT",e[e.MMOCAD_CLICKPOS_BIZ_MIDDLE_BEFORE_ANIMATION=2006]="MMOCAD_CLICKPOS_BIZ_MIDDLE_BEFORE_ANIMATION",e[e.MMOCAD_CLICKPOS_BIZ_MIDDLE_IN_ANIMATION=2007]="MMOCAD_CLICKPOS_BIZ_MIDDLE_IN_ANIMATION",e[e.MMOCAD_CLICKPOS_BIZ_FOLLOW=2008]="MMOCAD_CLICKPOS_BIZ_FOLLOW",e[e.MMOCAD_CLICKPOS_BIZ_LIKE=2009]="MMOCAD_CLICKPOS_BIZ_LIKE",e[e.MMOCAD_CLICKPOS_BIZ_COMMENT=2010]="MMOCAD_CLICKPOS_BIZ_COMMENT",e[e.MMOCAD_CLICKPOS_BIZ_HEADIMAGE=2011]="MMOCAD_CLICKPOS_BIZ_HEADIMAGE",e[e.MMOCAD_CLICKPOS_BIZ_NICKNAME=2012]="MMOCAD_CLICKPOS_BIZ_NICKNAME",e[e.MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD=2013]="MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD"}(Xe||(Xe={}));var tt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},nt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},rt=1,at=new Set,it=function(){function e(t){Object(s.default)(this,e),this.adProxy=t,this.lastVideoReportTime=0,this.lastExposureTime=0,this.lastClickTime=0,this.lastAdReqTs=0,this.index=rt,rt+=1,at.add(this.adUnitId)}return Object(c.default)(e,[{key:"adType",get:function(){return this.adProxy.getAdType()}},{key:"adUnitId",get:function(){return this.adProxy.getAdUnitId()}},{key:"slotData",get:function(){return this.adProxy.getSlotData()}},{key:"pluginAppid",get:function(){return this.adProxy.getPluginAppid()}},{key:"data",get:function(){return this.adProxy.data}},{key:"datas",get:function(){return this.adProxy.datas}},{key:"reportAdMonitorData",get:function(){return this.adProxy.reportAdMonitorData}},{key:"reset",value:function(){this.lastVideoReportTime=0}},{key:"getLastClickTime",value:function(){return this.lastClickTime}},{key:"getLastAdReqTs",value:function(){return this.lastAdReqTs}},{key:"setLastExposureTime",value:function(e){this.lastExposureTime=e}},{key:"setLastClickTime",value:function(e){this.lastClickTime=e}},{key:"setLastAdReqTs",value:function(e){this.lastAdReqTs=e}},{key:"reportFollow",value:function(e){var t=this,n=e.result,r=5;return this.adProxy.isRewardedVideoAd()?r=6:[qe.CRT_SIZE_TABLE_SCREEN_IMAGE,qe.CRT_SIZE_INSERT_VIDEO].includes(this.data.crt_size)&&(r=8),Object(D.operateWXData)({apiName:"webapi_adfollow_report",reqData:{type:{success:140,fail:141,already:142,cancel:143}[n],source:5,scene:75,traceid:this.data.traceid,trace_id:this.data.traceid,aid:this.data.aid,pos_type:r}}).catch((function(e){throw t.reportAdMonitorData(Ze.IDKEY.FOLLOW_REPORT_ERROR,e),e}))}},{key:"getExtraExpOrClkData",value:function(e){var t,n,r,a,i,o,s=this,c=[];"exposure"===e.reportType&&e.isMulti&&e.multiList?c=e.multiList.map((function(e,t){return{idx:t,waid:s.datas[e].waid||""}})):this.data.waid&&(c=[{idx:0,waid:this.data.waid}]);var u=Object.assign(Object.assign({},ge()),{weapp_enter_scene:(null===(t=null===m.default||void 0===m.default?void 0:m.default.appLaunchInfo)||void 0===t?void 0:t.scene)||0,extra:JSON.stringify(c)}),l=Object.assign({},u),d=Object.assign({},u);if("customAd"===this.adType&&e.isMulti)if("exposure"===e.reportType){var f={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(n=e.multiList)||void 0===n||n.forEach((function(e){var t=s.datas[e];t.extBackComm&&f.viewid.push(t.extBackComm.viewid),f.s_pt.push(t.pt),f.s_aid.push(t.aid),f.s_trace_id.push(t.traceid)})),l.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:f.viewid}),s_trace_id:JSON.stringify(f.s_trace_id),s_aid:JSON.stringify(f.s_aid),s_pt:JSON.stringify(f.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var p=this.adProxy.adDataIndex;d.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(r=this.data.extBackComm)||void 0===r?void 0:r.viewid,box_index:p}}if("customAd"===this.adType){var h=null===(a=this.data.extBackComm)||void 0===a?void 0:a.sub_templ_id;h&&(l.sub_templ_id=h,d.sub_templ_id=h)}if("incentive-video"===this.adType&&this.data.isPlayable&&(l.is_playable=1,d.is_playable=1),["interstitialAd","incentive-video","customAd"].includes(this.adType)&&e.videoData){var v=e.videoData,g=v.currentTime,y=v.duration;(g||y)&&(d.video_play_time=g,d.video_duration=y)}if("grid"===this.adType)if("exposure"===e.reportType){var _={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(i=this.datas)||void 0===i||i.forEach((function(e){e.extBackComm&&_.viewid.push(e.extBackComm.viewid),_.s_pt.push(e.pt),_.s_aid.push(e.aid),_.s_trace_id.push(e.traceid)})),l.box_ad_exposure={report_mode:1,box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:JSON.stringify({viewid:_.viewid}),s_trace_id:JSON.stringify(_.s_trace_id),s_aid:JSON.stringify(_.s_aid),s_pt:JSON.stringify(_.s_pt)}}else if("click"===e.reportType){var b=e.clickAdIndex||0;d.box_ad_click={box_size:this.slotData.gridCount,box_used_cnt:this.slotData.gridCount,box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)||100,viewid:null===(o=this.data.extBackComm)||void 0===o?void 0:o.viewid,box_index:b}}return{extExposureComm:l,extClickComm:d}}},{key:"reportExpOrClk",value:function(e){var t=this,n=3;if("exposure"===e.reportType?(n={showed:2,viewable:5,incentiveVideoCard:14}[e.exposureType],"showed"===e.exposureType?this.adProxy.setTimePoint("p6"):"viewable"===e.exposureType&&this.adProxy.setTimePoint("p7"),this.adProxy.reportAnalyseInfo(e.exposureType)):"click"===e.reportType&&this.adProxy.setTimePoint("p10"),"exposure"===e.reportType&&e.multiList&&e.isMulti){var r=this.adProxy.adDataIndex;e.multiList.forEach((function(e){t.adProxy.setCurrentData(e),Object(O.invokeMethod)("adDataReport",{adInfo:t.adProxy.getTransmissionChainData({logtype:n})})})),this.adProxy.setCurrentData(r)}else Object(O.invokeMethod)("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:n})});var a=this.getExtraExpOrClkData(e),i=a.extExposureComm,o=a.extClickComm,s=this.getExpOrClkCommonArgs(e),c="click"===e.reportType?{click_point:JSON.stringify({x:e.clickAbsoluteLeft,y:e.clickAbsoluteTop}),press_interval:e.pressInterval,pos_x:e.clickRelativeLeft,pos_y:e.clickRelativeTop,click_pos:0,ext_click_comm:JSON.stringify(o)}:{exposure_type:M.REPORT_EXPOSURE_TYPE_MAP[e.exposureType],ext_exposure_comm:JSON.stringify(i)};return Object(D.operateWXData)({apiName:"advert_report",reqData:Object.assign(Object.assign(Object.assign({},s),c),{report_type:M.REPORT_TYPE_MAP[e.reportType],weapp_extra_data:JSON.stringify(s.weapp_extra_data),ad_group_id:s.advert_group_id,apurl:this.data.apurl,rl:this.data.rl,weapp_ghid:s.weapp_gh_id})})}},{key:"getExpOrClkCommonArgs",value:function(e){var t;return{advert_group_id:this.data.group_id,trace_id:this.data.traceid,pos_id:M.POS_ID_MAP[this.adType],pos_type:M.AD_TYPE_MAP[this.adType],sdk_version:he.SDKVersion,ad_w:e.width,ad_h:e.height,aid:this.data.aid,weapp_gh_id:(null===(t=this.data.weapp_info)||void 0===t?void 0:t.original_id)||"",pt:this.data.pt,screen_cnt:1,from_h5:0,from_game:1,wegame_start_ts:he.startTime.valueOf(),wegame_enter_ts:ve.enterForegroundTime.valueOf(),wegame_user_duration:ve.gameDuration+(Date.now()-ve.enterForegroundTime.getTime()),wxa_report_detail:this.getWxaReportDetail({left:e.left,top:e.top}),weapp_extra_data:Object.assign(Object.assign({},this.getWeappExtraData()),e.weappExtraData||{})}}},{key:"reportClick",value:function(e){var t=this;return this.lastClickTime=+new Date,this.reportExpOrClk(Object.assign({reportType:"click"},e)).catch((function(e){throw t.reportAdMonitorData(Ze.IDKEY.CLICK_REPORT_ERROR,e),e}))}},{key:"reportExposure",value:function(e){var t=this;return"showed"===e.exposureType&&this.adProxy.checkPreloadH5Page(),this.lastExposureTime=+new Date,this.reportExpOrClk(Object.assign({reportType:"exposure"},e)).catch((function(e){throw t.reportAdMonitorData(Ze.IDKEY.EXPOSURE_REPORT_ERROR,e),e}))}},{key:"reportFlooringPage",value:function(e,t){var n={aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:he.gameAppId,orig_weapp_id:this.pluginAppid?he.gameAppId:""},r=null==t?void 0:t.map((function(e){return Object.assign(Object.assign({},n),e)})),a={};return 1===e?a.rewared_video_ending_page_a=r:2===e&&(a.rewared_video_ending_page_b=r),Object(D.operateWXData)({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(a)}})}},{key:"reportAntifraud",value:function(e){var t=Object.assign(Object.assign({},e),{aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:he.gameAppId,orig_weapp_id:this.pluginAppid?he.gameAppId:"",network_type:he.adNetworkType,wechat_version:he.wechatVersion,platform:he.platform,system_version:he.systemVersion,device_orientation:he.deviceOrientation,wxapp_lib_version:he.SDKVersion,crt_size:this.data.crt_size,product_type:this.data.product_type,adunitid:this.adUnitId,machine_brand:he.brand||"",machine_type:he.model||"",clientimptime:this.lastAdReqTs}),n={};return n.antifraud_table_screen_report=[t],Object(D.operateWXData)({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(n)}})}},{key:"reportVideo",value:function(e){var t=e.playType,n=e.conditionType,r=e.muted,a=e.playDuration,i=e.videoDuration,o=e.rewardedTime,s=e.isRewarded,c=Object(D.operateWXData)({apiName:"webapi_advideo_report",reqData:{aid:parseInt(this.data.aid,10),traceid:this.data.traceid,trace_id:this.data.traceid,viewid:this.data.wx_game_video.short_video.viewid,video_play_info:{play_type:{unknown:0,complete:1,partial:2,error:3}[t],play_duration:a-this.lastVideoReportTime,video_duration:i,auto_play:!0,muted:r,rewarded_time:o&&Math.min(o,i),is_rewarded:s},report_type:{unknown:0,land:1,end:2,start:3,exit:4,close:5}[n]}});return this.lastVideoReportTime=a,c}},{key:"getWxaReportDetail",value:function(e){var t=e.top,n=void 0===t?0:t,r=e.left,a=void 0===r?0:r;return{page_x:a||0,page_y:n||0,screen_x:a||0,screen_y:n||0,ad_number:rt-1,ad_unit_number:at.size,ad_index:this.index,page_enter_time:ve.enterForegroundTime.valueOf(),phone_screen_width:he.screenWidth,phone_screen_height:he.screenHeight}}},{key:"getWeappExtraData",value:function(){var e,t;return{weixin_version:he.wechatVersion,os_version:he.systemVersion,machine_brand:he.brand||"",machine_type:he.model,network_type:he.adNetworkType,start_ts:he.startTime.valueOf(),enter_ts:ve.enterForegroundTime.valueOf(),user_duration:ve.gameDuration+(Date.now()-ve.enterForegroundTime.getTime()),imp_time:this.lastAdReqTs,exp_time:this.lastExposureTime,clk_time:this.lastClickTime,env:null===(e=m.default.host)||void 0===e?void 0:e.env,app_appid:null===(t=m.default.host)||void 0===t?void 0:t.appId}}},{key:"composeExposureCommonInfo",value:function(e){var t,n=e.top,r=void 0===n?0:n,a=e.left,i=void 0===a?0:a,o=e.width,s=void 0===o?0:o,c=e.height,u=void 0===c?0:c,l=e.adType,d=void 0===l?"incentive-video":l;try{t=this.data.weapp_info.original_id}catch(e){}var f=Object.assign({},ge()),p=this.getWeappExtraData(),h=this.getWxaReportDetail({top:r,left:i}),v={report_type:0,pos_id:M.POS_ID_MAP[this.adType],sdk_version:he.SDKVersion,aid:this.data.aid,traceid:this.data.traceid,trace_id:this.data.traceid,ad_group_id:this.data.group_id,weapp_ghid:t,rl:this.data.rl,pt:this.data.pt,screen_cnt:1,ad_w:s,ad_h:u,from_game:1,from_h5:0,wegame_start_ts:he.startTime.valueOf(),wegame_enter_ts:ve.enterForegroundTime.valueOf(),wegame_user_duration:ve.gameDuration+(Date.now()-ve.enterForegroundTime.getTime()),pos_type:M.AD_TYPE_MAP[d],wxa_report_detail:h,weapp_extra_data:JSON.stringify(p),ext_exposure_comm:JSON.stringify(f)};return JSON.stringify(v)}},{key:"reportInstallFollow",value:function(e){var t=this.data.condition;t&&1===t.widget_gray_report_install_follow&&Object(D.operateWXData)({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(e)}})}},{key:"reportAnalyseDebugInfo",value:function(e){var t=this,n=M.ANALYSE_INFO_DEBUG_TYPE[this.adType];return n||this.reportAdMonitorData(Ze.IDKEY.ANALYSE_DEBUG_REPORT_ERROR,new Error("invalid reportType "+this.adType)),Object(D.operateWXData)({apiName:"webapi_reportbranchanalyticsfordebugtool",reqData:{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:n}]}}).catch((function(e){t.reportAdMonitorData(Ze.IDKEY.ANALYSE_DEBUG_REPORT_ERROR,e)}))}}]),e}();tt([K(),nt("design:type",Function),nt("design:paramtypes",[]),nt("design:returntype",void 0)],it.prototype,"getLastClickTime",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[]),nt("design:returntype",void 0)],it.prototype,"getLastAdReqTs",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Number]),nt("design:returntype",void 0)],it.prototype,"setLastExposureTime",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Number]),nt("design:returntype",void 0)],it.prototype,"setLastClickTime",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Number]),nt("design:returntype",void 0)],it.prototype,"setLastAdReqTs",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",void 0)],it.prototype,"reportFollow",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",void 0)],it.prototype,"getExpOrClkCommonArgs",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",void 0)],it.prototype,"reportClick",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",void 0)],it.prototype,"reportExposure",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object,Array]),nt("design:returntype",void 0)],it.prototype,"reportFlooringPage",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",void 0)],it.prototype,"reportAntifraud",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",void 0)],it.prototype,"reportVideo",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",Object)],it.prototype,"getWxaReportDetail",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",void 0)],it.prototype,"composeExposureCommonInfo",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",void 0)],it.prototype,"reportInstallFollow",null),tt([K(),nt("design:type",Function),nt("design:paramtypes",[Object]),nt("design:returntype",void 0)],it.prototype,"reportAnalyseDebugInfo",null);var ot=n(28);function st(e){return{appId:e.weapp_info&&e.weapp_info.appid,appType:46==e.product_type?1004:1e3,path:e.url,openRate:e.extBackComm&&e.extBackComm.pctr||0}}var ct=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},ut=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},lt=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},dt=function(){function e(t){Object(s.default)(this,e),this.adProxy=t,this.isAppInstalled=!1}return Object(c.default)(e,[{key:"adType",get:function(){return this.adProxy.getAdType()}},{key:"data",get:function(){return this.adProxy.data}},{key:"datas",get:function(){return this.adProxy.datas}},{key:"reportAdMonitorData",get:function(){return this.adProxy.reportAdMonitorData}},{key:"isValidCondition",get:function(){return this.adProxy.isValidCondition}},{key:"getFullRl",value:function(){var e=this.data.rl;try{/viewid=([^&]+)/.test(e)||(-1===e.indexOf("?")?e+="?viewid="+this.data.extBackComm.viewid:e+="&viewid="+this.data.extBackComm.viewid)}catch(e){}return e}},{key:"getFollowPageUrl",value:function(e,t){var n={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type,jsapi_scene:he.isWaGame?147:140};return Object(ee.addUrlParam)(t,n)}},{key:"isPrefetch",value:function(e){var t,n,r,a,i,o,s,c,u={url:this.data.url,jump_url:this.data.button_action.jump_url,playable_url:null===(a=null===(r=null===(n=null===(t=this.data.crtInfo)||void 0===t?void 0:t[0])||void 0===n?void 0:n.wxgame_video_card)||void 0===r?void 0:r.flooring_page)||void 0===a?void 0:a.page_url}[e],l={url:this.data.dest_type===Fe.DEST_TYPE_OUTER,jump_url:(null===(i=this.data.button_action)||void 0===i?void 0:i.jump_type)===Fe.DEST_TYPE_OUTER,playable_url:!0}[e];return u&&l&&Boolean(null===(c=null===(s=null===(o=this.data)||void 0===o?void 0:o.extBackComm)||void 0===s?void 0:s.material_handler_Info)||void 0===c?void 0:c.h5_preload_info[e])}},{key:"getTransmissionChainData",value:function(e){var t=e.logtype,n=void 0===t?3:t,r={traceid:this.data.traceid,trace_id:this.data.traceid,product_type:this.data.pt,jump_url:encodeURIComponent(this.data.url),rl:encodeURIComponent(this.getFullRl()),logtype:n};return Object.keys(r).map((function(e){return e+"="+r[e]})).join("&")}},{key:"setAppInstallState",value:function(e){this.isAppInstalled=e}},{key:"land",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.isButton,r=void 0!==n&&n;return lt(this,void 0,void 0,i.a.mark((function t(){var n,a,o,s,c,u,l,d,f,p,h,v,g,y,m,_,b=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.data,a=n.dest_type,o=n.product_type,s=n.url,!r){t.next=43;break}if(this.isPrefetch("jump_url")&&this.adProxy.reportAdMonitorData(Ze.IDKEY.H5_PRELOAD_BUTTON_CLICKED),c=this.data.button_action,u=c.jump_type,l=c.jump_url,o!==Ke.IOS){t.next=6;break}return t.abrupt("return",this.openAppStore());case 6:if(o!==Ke.WE_CHAT){t.next=40;break}if(d=this.data.biz_info,f=d.user_name,!d.is_subscribed){t.next=12;break}if(10!==u){t.next=11;break}return t.abrupt("return",this.landPage(u,s));case 11:return t.abrupt("return",Object(D.openUrl)({url:this.getFollowPageUrl(this.data,l),adInfo:this.getTransmissionChainData({logtype:3})}));case 12:return t.prev=12,t.next=15,this.adProxy.addContact({username:f,isWaGame:he.isWaGame});case 15:p=t.sent,h=this.data,v=h.ext_info,g=h.uxinfo;try{y=JSON.parse(v)}catch(e){}if(!(/ok|added/.test(p.errMsg)&&y&&y.guide_group_id&&g)){t.next=29;break}return t.prev=20,t.next=23,B({guide_group_id:y.guide_group_id,uxinfo:g});case 23:this.adProxy.reportAdIDKey({key:Ze.IDKEY.BIND_GUIDE_SUCCESS}),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(20),this.reportAdMonitorData(Ze.IDKEY.BIND_GUIDE_ERROR,t.t0);case 29:return t.abrupt("return",p);case 32:if(t.prev=32,t.t1=t.catch(12),!/cancel/.test(t.t1.errMsg)){t.next=36;break}return t.abrupt("return",t.t1);case 36:throw this.reportAdMonitorData(Ze.IDKEY.ADD_CONTACT_ERROR,t.t1),t.t1;case 38:t.next=41;break;case 40:return t.abrupt("return",this.landPage(u,l));case 41:t.next=53;break;case 43:if(this.isPrefetch("url")&&this.adProxy.reportAdMonitorData(Ze.IDKEY.H5_PRELOAD_CARD_CLICKED),!([12,19].indexOf(o)>-1)){t.next=52;break}if(m=this.data.app_info.url_scheme,he.isIOS&&(_=JSON.stringify({aid:this.data.aid,ad_uid:null===(e=this.data.extBackComm)||void 0===e?void 0:e.uid,scene_id:4001})),!(m&&m.trim().length>0)){t.next=51;break}if(!he.isAndroid||this.isAppInstalled){t.next=50;break}return t.abrupt("return",this.landPage(a,s));case 50:return t.abrupt("return",this.adProxy.launchApplication({schemeUrl:m,isIosDirect:he.isIOS,appInfo:this.data.app_info,extraData:_}).catch((function(){return b.landPage(a,s)})));case 51:case 52:return t.abrupt("return",this.landPage(a,s));case 53:case"end":return t.stop()}}),t,this,[[12,32],[20,26]])})))}},{key:"landPage",value:function(e,t){var n,r=this;if(e===Fe.DEST_TYPE_APPDETAIL&&he.isIOS){var a=this.data.app_info.appinfo_url,i=JSON.stringify({aid:this.data.aid,ad_uid:null===(n=this.data.extBackComm)||void 0===n?void 0:n.uid,scene_id:4001});return this.adProxy.launchApplication({schemeUrl:a,extraData:i}).catch((function(){return Object(D.openUrl)({url:a,adInfo:r.getTransmissionChainData({logtype:3})}).catch((function(e){throw r.reportAdMonitorData(Ze.IDKEY.OPEN_URL_ERROR,e),e}))}))}if(e===Fe.DEST_TYPE_BIZ)return Object(D.openUrl)({url:this.getFollowPageUrl(this.data,t),adInfo:this.getTransmissionChainData({logtype:3})}).catch((function(e){throw r.reportAdMonitorData(Ze.IDKEY.OPEN_URL_ERROR,e),e}));if(e===Fe.DEST_TYPE_WECHAT_APPLET){var o=this.data,s=o.weapp_info.appid,c=o.traceid,u=o.aid,l=o.uxinfo;return Object(D.navigateToMiniProgram)({appId:s,path:t,traceid:c,aid:u,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:l}).catch((function(e){throw r.reportAdMonitorData(Ze.IDKEY.OPEN_WXAPP_ERROR,e),e}))}if(e===Fe.DEST_TYPE_CANVAS){var d=this.data,f=d.canvas_info,p=d.pos_type;return Object(D.openADCanvas)({canvasInfo:f,posType:p}).catch((function(e){throw r.reportAdMonitorData(Ze.IDKEY.OPEN_CANVAS_ERROR,e),e}))}if(10===e){var h=this.data.biz_info.user_name;return this.adProxy.openProfile({username:h}).catch((function(e){throw e}))}return e===Fe.DEST_TYPE_CHANNELS?this.jumpChannels("activity"):e===Fe.DEST_TYPE_CHANNELS_LIVE?this.jumpChannels("live"):e===Fe.DEST_TYPE_CHANNELS_USER_PROFILE?this.jumpChannels("userProfile"):Object(D.openUrl)({url:t,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:this.data.uxinfo}).catch((function(e){throw r.reportAdMonitorData(Ze.IDKEY.OPEN_URL_ERROR,e),e}))}},{key:"jumpChannels",value:function(e){var t;return lt(this,void 0,void 0,i.a.mark((function n(){var r,a,o,s,c,u,l,d,f,p;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=null===(t=this.data)||void 0===t?void 0:t.extBackComm.channels_info,a=this.data,o=a.crt_size,s=a.apurl,c=a.rl,u=a.uxinfo,l={feedId:r.id,nonceId:r.nonce_id,finderUserName:r.username},d={activity:Ze.IDKEY.OPEN_CHANNELS_ACTIVITY_SUCCESS,live:Ze.IDKEY.OPEN_CHANNELS_LIVE_SUCCESS,userProfile:Ze.IDKEY.OPEN_CHANNELS_USER_PROFILE_SUCCESS}[e],f={activity:Ze.IDKEY.OPEN_CHANNELS_ACTIVITY_FAILED,live:Ze.IDKEY.OPEN_CHANNELS_LIVE_FAILED,userProfile:Ze.IDKEY.OPEN_CHANNELS_USER_PROFILE_FAILED}[e],!r){n.next=38;break}if("activity"!==e||o!==qe.CRT_SIZE_REWARD_LANDINGPAGE){n.next=18;break}return n.prev=7,n.next=10,this.adProxy.openChannelsRewardedVideoAd(Object.assign(Object.assign({},l),{expReportLink:s,clkReportLink:c,uxInfo:u||"",reportInfo:this.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:he.screenWidth,height:he.screenHeight}),clickPosMap:{follow:Xe.MMOCAD_CLICKPOS_BIZ_FOLLOW,like:Xe.MMOCAD_CLICKPOS_BIZ_LIKE,comment:Xe.MMOCAD_CLICKPOS_BIZ_COMMENT,headimage:Xe.MMOCAD_CLICKPOS_BIZ_HEADIMAGE,nickname:Xe.MMOCAD_CLICKPOS_BIZ_NICKNAME,forward:Xe.MMOCAD_CLICKPOS_BIZ_MATERIAL_FORWARD},feedbackUrl:this.getFeedbackUrl(he.isWaGame?1003:1005)}));case 10:return p=n.sent,this.reportAdMonitorData(d),n.abrupt("return",p);case 15:n.prev=15,n.t0=n.catch(7),this.reportAdMonitorData(f,n.t0);case 18:n.prev=18,n.t1=e,n.next="activity"===n.t1?22:"live"===n.t1?25:"userProfile"===n.t1?28:31;break;case 22:return n.next=24,this.adProxy.openChannelsActivity(l);case 24:return n.abrupt("break",31);case 25:return n.next=27,this.adProxy.openChannelsLive(l);case 27:return n.abrupt("break",31);case 28:return n.next=30,this.adProxy.openChannelsUserProfile(l);case 30:return n.abrupt("break",31);case 31:return this.reportAdMonitorData(d),n.abrupt("return");case 35:n.prev=35,n.t2=n.catch(18),this.reportAdMonitorData(f,n.t2);case 38:return this.reportAdMonitorData(f,new Error("channelsInfo is empty")),n.abrupt("return");case 40:case"end":return n.stop()}}),n,this,[[7,15],[18,35]])})))}},{key:"openAppStore",value:function(){var e,t=this,n=this.data.app_info,r=n.appinfo_url,a=n.url_scheme,i=JSON.stringify({aid:this.data.aid,ad_uid:null===(e=this.data.extBackComm)||void 0===e?void 0:e.uid,scene_id:4001});return a&&a.trim().length>0?this.adProxy.launchApplication({schemeUrl:a,isIosDirect:!0,appInfo:this.data.app_info,extraData:i}).catch((function(){return t.adProxy.launchApplication({schemeUrl:r,extraData:i}).catch((function(){return Object(D.openUrl)({url:r,adInfo:t.getTransmissionChainData({logtype:3})}).catch((function(e){throw t.reportAdMonitorData(Ze.IDKEY.OPEN_URL_ERROR,e),e}))}))})):this.adProxy.launchApplication({schemeUrl:r,extraData:i}).catch((function(){return Object(D.openUrl)({url:r,adInfo:t.getTransmissionChainData({logtype:3})}).catch((function(e){throw t.reportAdMonitorData(Ze.IDKEY.OPEN_URL_ERROR,e),e}))}))}},{key:"preloadLanding",value:function(){var e=this;try{if(6===this.data.dest_type){var t=[],n=[];if("grid"===this.adType?this.datas.forEach((function(e){var r;(null===(r=e.weapp_info)||void 0===r?void 0:r.appid)&&(t.push(e.weapp_info.appid),n.push(st(e)))})):(t=[this.data.weapp_info.appid],n.push(st(this.data))),Object(O.invokeMethod)("batchGetContact",{appIds:t}),he.isAndroid)this.isValidCondition("widget_gray_batchload_app")&&Object(O.invokeMethod)("batchPreloadMiniProgram",{openParams:{visitScene:ve.currentScene,businessScene:1,innerScene:1095},preloadList:n,success:function(t){e.reportAdMonitorData(Ze.IDKEY.BATCHLOAD_SUCCESS,t)},fail:function(t){e.reportAdMonitorData(Ze.IDKEY.BATCHLOAD_ERROR,t)}});else if(he.isIOS){var r="app";this.data.product_type===Ke.MINI_GAME&&(r="game"),this.isValidCondition("widget_gray_preload_env")&&(he.isAndroid||"app"===r)&&Object(O.invokeMethod)("preloadMiniProgramEnv",{type:r,success:function(t){e.reportAdMonitorData(Ze.IDKEY.PRELOAD_MINIENV_SUCCESS,t)},fail:function(t){e.reportAdMonitorData(Ze.IDKEY.PRELOAD_MINIENV_ERROR,t)}}),this.isValidCondition("widget_gray_predownload_app")&&Object(O.invokeMethod)("predownloadMiniProgramPackage",{username:this.data.weapp_info.original_id+"@app",path:this.data.url,scene:1,success:function(t){e.reportAdMonitorData(Ze.IDKEY.PREDOWNLOAD_SUCCESS,t)},fail:function(t){e.reportAdMonitorData(Ze.IDKEY.PREDOWNLOAD_ERROR,t)}})}}}catch(e){}}},{key:"checkFollow",value:function(e){return lt(this,void 0,void 0,i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.operateWXData)({apiName:"webapi_checkcontact",reqData:{biz_uin:e}});case 2:return n=t.sent,r=n.rawData,t.abrupt("return",1===JSON.parse(r).is_subscribed);case 5:case"end":return t.stop()}}),t)})))}},{key:"getFeedbackUrl",value:function(e){var t=this.data.material_id_list||[],n=encodeURIComponent("["+t.toString()+"]")||"",r=Object(ee.addUrlParam)("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",{aid:this.data.aid,traceid:this.data.traceid,source:e,material_id:n||"",machine_type:he.model,publisher_appid:he.gameAppId});if("grid"===this.adType){var a=[],i=[],o=[];this.datas.forEach((function(e){a.push(e.traceid),i.push(e.material_id_list||[]),o.push(e.aid)}));var s={traceid:JSON.stringify(a),source:e,aid:JSON.stringify(o),material_id:JSON.stringify(i),machine_type:he.model,publisher_appid:he.gameAppId};r=Object(ee.addUrlParam)("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html?ismulity=1#wechat_redirect",s)}return r}},{key:"openFeedbackUrl",value:function(e){var t=this.getFeedbackUrl(e);return Object(D.openUrl)({url:t})}},{key:"checkPreloadH5Page",value:function(){var e,t,n,r,a;return lt(this,void 0,void 0,i.a.mark((function o(){var s,c,u,l,d;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=new Set,c=this.data.url,u=null===(e=this.data.button_action)||void 0===e?void 0:e.jump_url,l=null===(a=null===(r=null===(n=null===(t=this.data.crtInfo)||void 0===t?void 0:t[0])||void 0===n?void 0:n.wxgame_video_card)||void 0===r?void 0:r.flooring_page)||void 0===a?void 0:a.page_url,this.isPrefetch("url")&&("1"!==Object(ee.getQueryString)(c).prefetch&&(c=Object(ee.addUrlParam)(c,{prefetch:1}),this.data.url=c),s.add(c)),this.isPrefetch("jump_url")&&("1"!==Object(ee.getQueryString)(u).prefetch&&(u=Object(ee.addUrlParam)(u,{prefetch:1}),this.data.button_action.jump_url=u),s.add(u)),this.isPrefetch("playable_url")&&("1"!==Object(ee.getQueryString)(l).prefetch&&(l=Object(ee.addUrlParam)(l,{prefetch:1}),this.data.crtInfo[0].wxgame_video_card.flooring_page.page_url=l),s.add(l)),!(d=Object(ot.default)(s).map((function(e){return{url:e,bizScene:20002}}))).length){i.next=18;break}return i.prev=9,i.next=12,this.adProxy.preloadH5Page({urlList:d});case 12:this.reportAdMonitorData(Ze.IDKEY.H5_PRELOAD_SUCCESS),i.next=18;break;case 15:i.prev=15,i.t0=i.catch(9),this.reportAdMonitorData(Ze.IDKEY.H5_PRELOAD_FAILED,i.t0);case 18:case"end":return i.stop()}}),o,this,[[9,15]])})))}}]),e}();ct([K(),ut("design:type",Function),ut("design:paramtypes",[String]),ut("design:returntype",void 0)],dt.prototype,"isPrefetch",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[Object]),ut("design:returntype",void 0)],dt.prototype,"getTransmissionChainData",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[Boolean]),ut("design:returntype",void 0)],dt.prototype,"setAppInstallState",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[Object]),ut("design:returntype",Promise)],dt.prototype,"land",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[Number,String]),ut("design:returntype",void 0)],dt.prototype,"landPage",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[]),ut("design:returntype",void 0)],dt.prototype,"openAppStore",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[]),ut("design:returntype",void 0)],dt.prototype,"preloadLanding",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[Number]),ut("design:returntype",Promise)],dt.prototype,"checkFollow",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[Number]),ut("design:returntype",void 0)],dt.prototype,"getFeedbackUrl",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[Number]),ut("design:returntype",void 0)],dt.prototype,"openFeedbackUrl",null),ct([K(),ut("design:type",Function),ut("design:paramtypes",[]),ut("design:returntype",Promise)],dt.prototype,"checkPreloadH5Page",null);var ft=n(44),pt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},ht=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vt=__safeway__.apiSign.makeApiSign,gt=function(e){return function(t){return new Promise((function(n,r){e(Object.assign({},t,{success:n,fail:r}))}))}},yt=function(e){var t=e.username,n=e.success,r=e.fail,a=e.complete;Object(O.invokeMethod)("profile",{username:t,scene:75,success:n,fail:r,complete:a})},mt=function(e){var t=e.username,n=e.isWaGame,r=e.success,a=e.fail,i=e.complete;Object(O.invokeMethod)("private_addContact",{username:t,scene:n?146:139,webtype:1,success:r,fail:a,complete:i})},_t=function(e){var t=e.schemeUrl,n=e.isIosDirect,r=e.appInfo,a=e.extraData,i=e.success,o=e.fail,s=e.complete,c={};n&&(c.appId=r.app_id,c.installSchemeUrl=r.appinfo_url,c.installAction=0),a&&(c.extraData=a),Object(O.invokeMethod)("launchApplication",Object.assign(c,{schemeUrl:t,operateDirectly:1,success:i,fail:o,complete:s}))},bt=function(e){var t=e.appUrl,n=e.success,r=e.fail,a=e.complete,i=vt("downloadAppInternal",{appUrl:t,operateDirectly:1,success:n,fail:r,complete:a});Object(O.invokeMethod)("downloadAppInternal",i)},Ot=function(e){var t=e.packageName,n=e.success,r=e.fail,a=e.complete,i=vt("getInstallState",{packageName:t,permissionBytes:[1,1,1],success:n,fail:r,complete:a});Object(O.invokeMethod)("getInstallState",i)},Et=function(e){var t=e.downloadId,n=e.success,r=e.fail,a=e.complete;Object(O.invokeMethod)("queryDownloadTask",{downloadId:t,permissionBytes:[1,1,1],success:n,fail:r,complete:a})},It=function(e){var t=e.downloadId,n=e.success,r=e.fail,a=e.complete;Object(O.invokeMethod)("pauseDownloadTask",{downloadId:t,permissionBytes:[1,1,1],success:n,fail:r,complete:a})},St=function(e){var t=e.downloadId,n=e.success,r=e.fail,a=e.complete;Object(O.invokeMethod)("resumeDownloadTask",{downloadId:t,permissionBytes:[1,1,1],success:n,fail:r,complete:a})},Ct=function(e){var t=e.downloadId,n=e.success,r=e.fail,a=e.complete,i=vt("installDownloadTask",{downloadId:t,permissionBytes:[1,1,1],success:n,fail:r,complete:a});Object(O.invokeMethod)("installDownloadTask",i)},kt=function(e){var t=e.isHide,n=e.success,r=e.fail,a=e.complete;Object(O.invokeMethod)("setNavigationBarRightButton",{hide:t,success:n,fail:r,complete:a})},Tt=function(e){var t=e.isHide,n=e.success,r=e.fail,a=e.complete;Object(O.invokeMethod)("private_setNavigationBarRightButton",{hide:t,success:n,fail:r,complete:a})},At=function(e){var t=e.resources,n=e.success,r=e.fail,a=e.complete;Object(O.invokeMethod)("loadVideoResource",{resources:t,success:n,fail:r,complete:a})},Pt=function(e){var t=e.orientation,n=e.success,r=e.fail,a=e.complete;Object(O.invokeMethod)("private_setPageOrientation",{orientation:t,success:n,fail:r,complete:a})},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete;Object(O.invokeMethod)("hideVirtualBottomNavigationBar",{success:t,fail:n,complete:r})},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete;Object(O.invokeMethod)("showVirtualBottomNavigationBar",{success:t,fail:n,complete:r})},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete;Object(O.invokeMethod)("showStatusBar",{success:t,fail:n,complete:r})},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,n=e.fail,r=e.complete;Object(O.invokeMethod)("hideStatusBar",{success:t,fail:n,complete:r})},jt=function(e){var t=e.success,n=e.fail,r=e.complete,a=e.feedId,i=e.nonceId,o=e.finderUserName;Object(O.invokeMethod)("openChannelsActivity",{feedId:a,nonceId:i,finderUserName:o,success:t,fail:n,complete:r})},xt=function(e){var t=e.success,n=e.fail,r=e.complete,a=e.feedId,i=e.nonceId,o=e.finderUserName;Object(O.invokeMethod)("openChannelsLive",{feedId:a,nonceId:i,finderUserName:o,success:t,fail:n,complete:r})},Lt=function(e){var t=e.success,n=e.fail,r=e.complete,a=e.finderUserName;Object(O.invokeMethod)("openChannelsUserProfile",{finderUserName:a,success:t,fail:n,complete:r})},Nt=function(e){var t=e.success,n=e.fail,r=e.complete,a=e.feedId,i=e.nonceId,o=e.finderUserName,s=e.uxInfo,c=e.expReportLink,u=e.clkReportLink,l=e.reportInfo,d=e.clickPosMap,f=e.feedbackUrl;Object(O.invokeMethod)("openChannelsRewardedVideoAd",{feedId:a,nonceId:i,finderUserName:o,uxInfo:s,expReportLink:c,clkReportLink:u,reportInfo:l,clickPosMap:d,feedbackUrl:f,success:t,fail:n,complete:r})},Bt=function(e){var t=e.mixWithOther,n=void 0===t||t,r=e.obeyMuteSwitch,a=void 0===r||r,i=e.success,o=e.fail,s=e.complete;Object(O.invokeMethod)("setInnerAudioOption",{mixWithOther:n,obeyMuteSwitch:a,success:i,fail:o,complete:s})},Ft=function(e){var t=e.urlList,n=e.success,r=e.fail,a=e.complete;Object(O.invokeMethod)("private_onWebPageUrlExposed",{urlList:t,success:n,fail:r,complete:a})},Vt=gt((function(e){var t=e.taskName,n=e.taskUrl,r=e.fileMd5,a=e.extInfo,i=e.success,o=e.fail,s=e.complete,c=vt("addDownloadTaskStraight",{taskName:t,taskUrl:n,fileMd5:r,extInfo:a,permissionBytes:[1,1,1],success:i,fail:o,complete:s});Object(O.invokeMethod)("addDownloadTaskStraight",c)})),Wt=function e(){var t=this;Object(s.default)(this,e),this.setNavigationBarRightButton=gt(kt),this.setMiniProgramNavigationBarRightButton=gt(Tt),this.hideVirtualBottomNavigationBar=gt(wt),this.showVirtualBottomNavigationBar=gt(Dt),this.showStatusBar=gt(Rt),this.hideStatusBar=gt(Mt),this.openProfile=gt(yt),this.addContact=gt(mt),this.downloadAppInternal=gt(bt),this.openChannelsActivity=gt(jt),this.openChannelsRewardedVideoAd=gt(Nt),this.openChannelsLive=gt(xt),this.openChannelsUserProfile=gt(Lt),this.getNetworkType=gt(ft.getNetworkType),this.preloadH5Page=gt(Ft),this.innerPreloadVideo=gt(At),this.preloadVideo=function(e){return t.innerPreloadVideo({resources:e})},this.innerLaunchApplication=gt(_t),this.launchApplication=function(e){var n="string"==typeof e?{schemeUrl:e}:e;return t.innerLaunchApplication(n)},this.innerGetInstallState=gt(Ot),this.getInstallState=function(e){return t.innerGetInstallState({packageName:e})},this.innerQueryDownloadTask=gt(Et),this.queryDownloadTask=function(e){return t.innerQueryDownloadTask({downloadId:e})},this.innerPauseDownloadTask=gt(It),this.pauseDownloadTask=function(e){return t.innerPauseDownloadTask({downloadId:e})},this.innerResumeDownloadTask=gt(St),this.resumeDownloadTask=function(e){return t.innerResumeDownloadTask({downloadId:e})},this.innerInstallDownloadTask=gt(Ct),this.installDownloadTask=function(e){return t.innerInstallDownloadTask({downloadId:e})},this.innerSetPageOrientation=gt(Pt),this.setPageOrientation=function(e){return t.innerSetPageOrientation({orientation:e})},this.innerSetInnerAudioOption=gt(Bt),this.setInnerAudioOption=function(e,n){return t.innerSetInnerAudioOption({mixWithOther:e,obeyMuteSwitch:n})}};function Ut(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}pt([K(),ht("design:type",Object)],Wt.prototype,"setNavigationBarRightButton",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"setMiniProgramNavigationBarRightButton",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"hideVirtualBottomNavigationBar",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"showVirtualBottomNavigationBar",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"showStatusBar",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"hideStatusBar",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"openProfile",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"addContact",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"downloadAppInternal",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"openChannelsActivity",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"openChannelsRewardedVideoAd",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"openChannelsLive",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"openChannelsUserProfile",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"getNetworkType",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"preloadH5Page",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"preloadVideo",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"launchApplication",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"getInstallState",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"queryDownloadTask",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"pauseDownloadTask",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"resumeDownloadTask",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"installDownloadTask",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"setPageOrientation",void 0),pt([K(),ht("design:type",Object)],Wt.prototype,"setInnerAudioOption",void 0);var Ht,Yt=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},qt=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Object(p.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Kt=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},zt=function(){function e(t){var n=this,r=t.adUnitId,a=t.adType,i=t.pluginAppid,o=void 0===i?"":i;Object(s.default)(this,e),this.slotData={},this.lastAdRetCode=0,this.limitAdReqTime=3e4,this.fetchPromise=null,this.webviewId=ve.currentWebviewId,this.fetchRetryCount=0,this.isCanvasXmlHook=!1,this.handledInNewFetch=!1,this.nativeMethodInvoker=new Wt,this.datas=[],this.data={},this.convertedAdData=null,this.isMulti=!1,this.isViewable=!1,this.adDataIndex=0,this.scene=0,"splashAd"!==a&&me(),this.adUnitId=r,this.adType=a,this.pluginAppid=he.isWaGame?"":o,this.mmReporter=new Ye(this),this.cgiReporter=new it(this),this.lander=new dt(this),this.bindProxyMethods(),this.setTimePoint("p1"),Object(H.onWxAdUserCaptureScreen)((function(e){if(e.webviewId===ve.currentWebviewId&&n.data&&n.isViewable){var t=n.data.uxinfo;Object(F.reportUserCaptureScreen)({eventTimeStamp:e.eventTimeStamp?e.eventTimeStamp:+new Date,scene:4,uxinfo:t,url:e.path?e.path:"index.html"})}}))}return Object(c.default)(e,[{key:"bindProxyMethods",value:function(){for(var e=this,t=[this.nativeMethodInvoker,this.mmReporter,this.cgiReporter,this.lander],n=function(){var t,n=a[r],i=Ut(Object(ee.getMembers)(n));try{var o=function(){var r,a,i,o=t.value;a=o,(null===(i=(r=n)&&r[q])||void 0===i?void 0:i.has(a))&&(e[o]=function(){return n[o].apply(n,arguments)})};for(i.s();!(t=i.n()).done;)o()}catch(e){i.e(e)}finally{i.f()}},r=0,a=t;r<a.length;r++)n()}},{key:"isLimitRequest",value:function(){return 0!==this.lastAdRetCode&&+new Date-this.getLastAdReqTs()<this.limitAdReqTime}},{key:"convertTestAdData",value:function(e){var t,n;try{var r=Object(ee.cloneDeep)(e),a=JSON.parse(r.crt_exp_info);if(r.crtExpInfo=a,1002===a.exp_type){if(null===(t=r.wx_game_video)||void 0===t?void 0:t.wxgame_video_card){var i=JSON.parse(a.exp_data);r.wx_game_video.wxgame_video_card.flooring_page=i}}else if(1001===a.exp_type){r.profile_exp=!0;var o=a.exp_data&&"string"==typeof a.exp_data?JSON.parse(a.exp_data):a.exp_data;r.dest_type=o.dest_type;var s={};if(r.button_action)try{s=JSON.parse(e.button_action)}catch(e){}s.jump_type=o.jump_type,r.button_action=JSON.stringify(s)}else if(105===a.exp_type)r.ad_style_data=a.exp_data;else if(106===a.exp_type){var c=a.exp_data&&"string"==typeof a.exp_data?JSON.parse(a.exp_data):a.exp_data;Object(ee.mergeDeep)(r,c),r.common_exp=!0}else if(a.exp_type&&[108,109,2001].includes(a.exp_type))r.ad_dynamic_list=a.exp_data;else if(a.crt_size&&[qe.CRT_SIZE_WX_APPLICATION_NEW,qe.CRT_SIZE_WX_APPLICATION_X].includes(a.crt_size)){if(r.crt_size=a.crt_size,r.ad_width=a.width,r.material_width=a.width,r.ad_height=a.height,r.material_height=a.height,r.image_url=a.image_url,a.dest_url&&r.url&&[1,3,6].includes(r.dest_type)){var u=Object(ee.getQueryString)(r.url),l={};u.weixinadkey&&(l.weixinadkey=u.weixinadkey),u.ticket&&(l.ticket=u.ticket),u.gdt_vid&&(l.gdt_vid=u.gdt_vid),u.weixinadinfo&&(l.weixinadinfo=u.weixinadinfo),r.url=Object(ee.addUrlParam)(a.dest_url,l)}r.watermark_text=a.watermark||""}else a.landpage_type&&(null===(n=r.wx_game_video)||void 0===n?void 0:n.wxgame_video_card)&&(r.wx_game_video.wxgame_video_card.flooring_page=a);return r}catch(t){return e}}},{key:"getFetchArgs",value:function(e){var t,n,r=e.isAdInterval,a={scene_type:ve.currentScene,ad_unit_id:this.adUnitId,appid:this.pluginAppid?this.pluginAppid:he.gameAppId,orig_weapp_id:this.pluginAppid?he.gameAppId:"",weapp_path:ve.weappPath,pos_id:"",network_type:he.adNetworkType,orientation:{landscape:1,portrait:2}[he.deviceOrientation],sdk_version:he.SDKVersion,ext_slot_custom_comm:"",weapp_extra_data:JSON.stringify({wxa_start_ts:he.startTime.valueOf(),wxa_enter_ts:ve.enterForegroundTime.valueOf(),weixin_version:he.wechatVersion,os_version:he.systemVersion,machine_type:he.model,is_ad_interval:!!r,env:null===(t=m.default.host)||void 0===t?void 0:t.env,app_appid:null===(n=m.default.host)||void 0===n?void 0:n.appId})};a.pos_id=M.POS_ID_MAP[this.adType];var i={};return"grid"===this.adType?i.box_slot_ad={count:String(this.slotData.gridCount),box_bg_color:"black"===this.slotData.adTheme?"232323":"FFFFFF",box_opacity:Math.floor(100*this.slotData.gridOpacity)}:"splashAd"===this.adType?(i.splash_ad={count:String(5)},delete a.appid):"customAd"===this.adType&&(i={is_adunit_tmpl:!0}),Object(_.isIn3rdApp)()&&(i.in_3rd_app=1),a.ext_slot_custom_comm=JSON.stringify(i),a}},{key:"validateFetchEnv",value:function(){if(Object(_.isIn3rdApp)()&&this.reportAdMonitorData(Ze.IDKEY.THIRD_ERROR),"splashAd"!==this.adType&&!this.adUnitId)throw{errMsg:"no ad unit id"};if(this.isLimitRequest())throw{errMsg:"no advertisement",errCode:this.lastAdRetCode}}},{key:"validateFetchRes",value:function(e){if("-12001"===e.err_code)throw this.lastAdRetCode=e.err_code,{errMsg:"no permission",errCode:-12001};if(this.lastAdRetCode=e.ret,!e.advertisement_num||e.advertisement_num<=0)throw{errMsg:"no advertisement",errCode:e.ret};if(!e.advertisement_info)throw e}},{key:"validateCrtSize",value:function(e){var t=e.pt,n=e.crt_size,r=$e.includes(t),a=et.includes(n);if(!r&&!a){if(n&&!a)throw{errMsg:"unexpected advertisement crt_size "+n};throw{errMsg:"unexpected advertisement type "+t}}}},{key:"handleAdDataDone",value:function(){this.reportAdMonitorData(Ze.IDKEY.AD_FETCH_SUCCESS)}},{key:"handleAdDataError",value:function(e){this.reportAdMonitorData(Ze.IDKEY.AD_FETCH_SUCCESS,e)}},{key:"handleWaidForList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={};if(t.length<1)return Promise.resolve(n);var r=[];return null==t||t.forEach((function(e){r.push(w(e.apkName).then((function(t){return Object.assign(Object.assign({},t),{aid:e.aid})})))})),Promise.race([Promise.all(r).then((function(e){return e.forEach((function(e){var t=e.waid,r=e.aid,a=void 0===r?"":r;t&&a&&(n[a]=t)})),n})).catch((function(t){return e.reportAdMonitorData(Ze.IDKEY.READ_ADINFOS_ERROR,t),n})),Object(R.timeout)(2e3).then((function(){return n}))])}},{key:"handleBulkSaveMaterials",value:function(e){var t=[];return this.isSplashAd()&&this.data&&(t=this.getSplashAdMaterialList(e)),t.length>0?Object(Y.bulkSaveMaterials)(t):Promise.resolve()}},{key:"getSplashAdMaterialList",value:function(e){var t,n,r=[],a=(null==e?void 0:e.crtInfo[0])||{},i=e.rerankingExtInfo.material_hash||"",o=(null==a?void 0:a.image_url)||"",s=(null===(t=null==a?void 0:a.card_info)||void 0===t?void 0:t.pure_color_url)||"",c=(null===(n=null==a?void 0:a.card_info)||void 0===n?void 0:n.material_blur_url)||"",u=M.WX_AD_PATH+"/"+e.aid+"_"+i+".png";if(i&&r.push({url:o,fileName:e.aid+"_"+i+".png",filePath:u}),s){var l=M.WX_AD_PATH+"/"+e.aid+"_"+i+"_pure_color.png";i&&r.push({url:s,fileName:e.aid+"_"+i+"_pure_color.png",filePath:l})}if(c){var d=M.WX_AD_PATH+"/"+e.aid+"_"+i+"_blur.png";i&&r.push({url:c,fileName:e.aid+"_"+i+"_blur.png",filePath:d})}return r}},{key:"handleAdInfosIndexCache",value:function(e,t,n){return Kt(this,void 0,void 0,i.a.mark((function r(){var a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.handleWaidForList(e);case 3:a=r.sent,r.next=8;break;case 6:r.prev=6,r.t0=r.catch(0);case 8:return t.deviceInfo=ge(),t.waidMap=a,this.reportAdMonitorData(Ze.IDKEY.READ_ADINFOS_SUCCESS,{adInfos:t}),r.prev=11,r.next=14,Object(Y.saveAdDataToFile)(t,n);case 14:return r.abrupt("return",this.reportAdMonitorData(Ze.SPLASHAD_IDKEY.WRITE_ADINFOS_SUCCESS,{adInfos:t}));case 17:return r.prev=17,r.t1=r.catch(11),r.abrupt("return",this.reportAdMonitorData(Ze.SPLASHAD_IDKEY.WRITE_ADINFOS_FAIL,{adInfos:t,errMsg:this.processStackMsg(r.t1)}));case 20:case"end":return r.stop()}}),r,this,[[0,6],[11,17]])})))}},{key:"handleSplashAd",value:function(e){return Kt(this,void 0,void 0,i.a.mark((function t(){var n,r,a,o,s,c,u,l,d,f,p,h=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.reportAdMonitorData(Ze.SPLASHAD_IDKEY.dataLoadSuccess),r=0,a=[],o=[],s=[],c=Object(R.getTodayFormat)(),u=c+"_exposure_times",l=M.WX_AD_PATH+"/adinfos.txt",n={slot_id:M.POS_ID_MAP[this.adType],ads:[],crtSizeMap:{},materialHashMap:{},total_exposure_times:0},Object(y.default)(n,u,0),Object(y.default)(n,"requestInQueue","true"),d=n,t.prev=9,f=e.advertisement_info.length>0&&e.advertisement_info.map((function(e,t){var n,i,c={},l=h.handleAdData(e),f=l.rerankingExtInfo.material_hash||"";c.material_hash=l.rerankingExtInfo.material_hash||"",c.tid=l.rerankingExtInfo.tid.toString()||"",c.aid=l.aid,c.trace_id=l.traceid,d.ads.push(c),d.total_exposure_times=l.rerankingExtInfo.total_exposure_times||0,d[u]=l.rerankingExtInfo[u]||0;var p=null===(n=l.condition)||void 0===n?void 0:n.widget_gray_splash_data_channel_parallel;d.requestInQueue=p?"false":"true",d.materialHashMap[l.aid]=f;var v=l.crtInfo[0]||{};l.crtInfo&&(d.crtSizeMap[l.aid]=v.width>v.height?"landscape":"portrait");var g=h.getSplashAdMaterialList(l);o=o.concat(g),r+=0===t?g.length:0;var y=M.WX_AD_PATH+"/"+l.aid+".txt";if(a.push(Object(Y.saveAdDataToFile)(l,y)),l.product_type===Ke.ANDROID){var m=null===(i=l.appInfo)||void 0===i?void 0:i.apkName;s.push({apkName:m,aid:l.aid})}return l})),this.datas=f,t.next=18;break;case 14:throw t.prev=14,t.t0=t.catch(9),this.reportAdMonitorData(Ze.SPLASHAD_IDKEY.handleDataFail,t.t0),t.t0;case 18:return p=o.slice(0,r),t.next=21,Object(Y.bulkSaveMaterials)(p);case 21:return a.push(Object(Y.bulkSaveMaterials)(o)),a.push(this.handleAdInfosIndexCache(s,d,l)),Promise.all(a).then((function(){h.reportAdMonitorData(Ze.SPLASHAD_IDKEY.dataPreloadSuccess),Object(Y.removeOutdatedData)(M.WX_AD_PATH).catch((function(e){return h.reportAdMonitorData(Ze.SPLASHAD_IDKEY.removeFileDataFail,e)}))})).catch((function(e){throw h.reportAdMonitorData(Ze.SPLASHAD_IDKEY.dataPreloadFail,e),e})),t.abrupt("return",this.datas[0]);case 25:case"end":return t.stop()}}),t,this,[[9,14]])})))}},{key:"handleCustomAd",value:function(e){var t=this,n=e.advertisement_info.map((function(e,n){var r,a,i,o=function(e){if(0===n)throw e},s=null,c=t.handleAdData(e),u=c.crtInfo,l=c.button_action,d=c.product_type,f=c.dest_type,p=c.crt_size;if(c.reranking_ext_info&&c.reranking_ext_info.refresh_time)i=c.reranking_ext_info.refresh_time;else if(c.reranking_ext_info&&"string"==typeof c.reranking_ext_info)try{var h=JSON.parse(c.reranking_ext_info);h.refresh_time&&(i=h.refresh_time)}catch(e){}if(null===(r=null==c?void 0:c.extBackComm)||void 0===r?void 0:r.tmpl_info)try{var v=JSON.parse(c.extBackComm.tmpl_info);s=JSON.parse(v.tmpl_content),a=Number(c.extBackComm.sub_templ_id)}catch(e){t.reportAdMonitorData(Ze.CUSTOMAD_IDKEY.TPL_PARSE_FAILED),o({errMsg:"custom template error",errCode:M.CUSTOMAD_ERROR_CODE.ERR_TPL_PARSE})}else t.reportAdMonitorData(Ze.CUSTOMAD_IDKEY.TPL_LOAD_FAILED),o({errMsg:"no custom template",errCode:M.CUSTOMAD_ERROR_CODE.ERR_TPL_NONE});return Object.assign(Object.assign({},e),{crtInfo:u,button_action:l,product_type:d,dest_type:f,crt_size:p,condition:c.condition,template:s,subTemplId:a,refreshTime:i,aid:c.aid,app:c.app,appInfo:c.appInfo,extBackComm:c.extBackComm,wording:c.hint_txt,card_info:c.card_info,video_info:c.video_info,image_url:c.image_url,weapp_info:c.weapp_info,wx_game_video:c.wx_game_video})}));return this.reportAdMonitorData(Ze.CUSTOMAD_IDKEY.LOAD_SUCCESS),n.length>1?this.isMulti=!0:this.isMulti=!1,this.datas=n,this.setCurrentData(0),n[0]}},{key:"handleGridAd",value:function(e){var t=this;if(e.advertisement_info.length!==this.slotData.gridCount)throw this.reportAdMonitorData(Ze.IDKEY.AD_GRID_LOAD_COUNT_ERROR,{count:this.slotData.gridCount,getCount:e.advertisement_info.length}),{errMsg:"no advertisement count error",errCode:e.ret};var n=e.advertisement_info.map((function(e,n){var r=t.handleAdData(e);return r._isGrid=!0,r._gridInfo={row:5===t.slotData.gridCount?1:2,column:5===t.slotData.gridCount?5:4,index:n},r}));this.datas=n,this.setCurrentData(0),this.fetchRetryCount=0;var r,a=Ut(this.datas);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.crt_size!==qe.CRT_SIZE_MULTI_POS_GRID)throw{errMsg:"unexpected advertisement crt_size "+i.crt_size}}}catch(e){a.e(e)}finally{a.f()}return this.reportAdMonitorData(Ze.IDKEY.AD_GRID_LOAD_SUCCESS),this.datas}},{key:"handleInterstitialAd",value:function(e){var t=JSON.parse(e.image_url),n=Object.assign(Object.assign({},t[0]||{}),Object(ee.pick)(e,["crtInfo","product_type","dest_type","crt_size","button_action","condition","app","appInfo"]));if(e.crt_size===qe.CRT_SIZE_INSERT_VIDEO){var r="0",a=decodeURIComponent(this.data.apurl);/viewid=([^&]+)/.test(a)&&(r=RegExp.$1),this.data.wx_game_video={short_video:{viewid:r}}}return this.convertedAdData=n,n}},{key:"handleRewardedVideoAd",value:function(e){var t,n,r,a,i;e.crt_size===qe.CRT_SIZE_REWARD_LANDINGPAGE&&this.handleRewardedLandingPage(e);var s=this.data.crtInfo&&Array.isArray(this.data.crtInfo)?this.data.crtInfo:[];0===s.length&&s.push({wxgame_video_card:{}});var c=Object(o.default)(s,1)[0],u=c.wxgame_video_card,l=u.head_bg_img,d=u.mp_tag_type,f=c.wxgame_gauss_video,p=e.canvas_info,h=e.wx_game_video,v=h.short_video,g=h.wxgame_video_card,y=g.show_time,m=g.thumb,_=g.title,b=g.desc,O=g.flooring_page,E=30;if(e.reranking_ext_info&&e.reranking_ext_info.rewarded_time)E=e.reranking_ext_info.rewarded_time;else if(e.reranking_ext_info&&"string"==typeof e.reranking_ext_info)try{var I=JSON.parse(e.reranking_ext_info);I.rewarded_time&&(E=I.rewarded_time)}catch(e){}E=Math.floor(1e3*E);var S=v,C="portrait"===he.deviceOrientation,k=e.crt_size===qe.CRT_SIZE_REWARD_VEDIO916,T=C!==k&&[qe.CRT_SIZE_REWARD_VEDIO169,qe.CRT_SIZE_REWARD_VEDIO916].includes(e.crt_size)&&![3,4].includes(null==O?void 0:O.landpage_type),A=!1;(null===(t=e.condition)||void 0===t?void 0:t.widget_gray_reward_use_gauss_blur)&&(null==f?void 0:f.video_url)&&C!==k&&[qe.CRT_SIZE_REWARD_VEDIO169,qe.CRT_SIZE_REWARD_VEDIO916].includes(e.crt_size)&&(T||C)&&(S=Object.assign(Object.assign({},f),{video_duration:f.video_duration_ms}),A=!0),this.reportRewardGaussVideo({useGaussVideo:A,useExpandStyle:T,expUseGaussVideo:null!==(r=null===(n=e.condition)||void 0===n?void 0:n.widget_gray_reward_use_gauss_blur)&&void 0!==r?r:0,expUseExpandStyle:1,videoUrl:null!==(a=null==v?void 0:v.video_url)&&void 0!==a?a:"",gaussVideoUrl:null!==(i=null==f?void 0:f.video_url)&&void 0!==i?i:""}),(null==f?void 0:f.video_url)&&this.reportAdMonitorData(Ze.IDKEY.REWARD_GAUSS_EXISTS),A&&T?this.reportAdMonitorData(Ze.IDKEY.REWARD_USE_GAUSS_AND_EXPAND_STYLE):A?this.reportAdMonitorData(Ze.IDKEY.REWARD_USE_GAUSS):T&&this.reportAdMonitorData(Ze.IDKEY.REWARD_USE_EXPAND_STYLE),O&&[3,4].indexOf(O.landpage_type)>-1&&(this.data.isPlayable=!0);var P=Object.assign({crtInfo:s[0],canvas_info:p,type:Je[e.pt],video:this.mapRewardVideoFields(S),shortVideo:this.mapRewardVideoFields(v),rewardedTime:E,isGaussBlur:A,isExpandStyle:T,card:{icon:m,name:_,wording:b,headBgImg:l,mpTagType:d,showTime:y},flooringPage:O},Object(ee.pick)(e,["crt_size","product_type","dest_type","button_action","condition","app","appInfo"]));return this.convertedAdData=P,P}},{key:"mapRewardVideoFields",value:function(e){return{poster:e.thumb_url,src:e.video_url,duration:e.video_duration,width:e.thumb_width,height:e.thumb_height}}},{key:"handleRewardedLandingPage",value:function(e){var t,n=he.isAndroid&&m.default.clientVersion>=654315008||he.isIOS&&m.default.clientVersion>=385879552;if((null===(t=this.data.condition)||void 0===t?void 0:t.widget_gray_rewardedpage_exposure_v2)&&n)try{var r=e.canvas_info,a=v()(r.ad_info_xml).root,i=Object(R.getAdDataViewId)(e),o=this.composeExposureCommonInfo({top:0,left:0,width:he.screenWidth,height:he.screenHeight});a.children.push({name:"viewid",children:[],attributes:{},content:i},{name:"commInfo",children:[],attributes:{},content:o});var s=G(a,!0);this.data.canvas_info.ad_info_xml=s,this.isCanvasXmlHook=!0}catch(e){this.isCanvasXmlHook=!1}}},{key:"handleBannerAd",value:function(e){var t,n,r=e.pt,a=e.crt_size,i=e.image_url,o=e.material_width,s=e.material_height,c=e.ad_width,u=e.ad_height,l=e.use_style_data,d=e.hint_txt,f=e.watermark_type,p=Je[r];l?(t=c,n=u):[qe.CRT_SIZE_WX_APPLICATION,qe.CRT_SIZE_WX_APPLICATION_NEW,qe.CRT_SIZE_WX_APPLICATION_X].includes(a)?(t=(c||o)/2,n=(u||s)/2):a===qe.CRT_SIZE_WX_APPLICATION_CARD&&(t=c,n=u);var h=Object.assign({type:p,crt_size:a,useStyleData:l,watermark:Qe[f],width:t,height:n,image:{src:i,width:o,height:s},wording:d},Object(ee.pick)(e,["ad_style_data","product_type","dest_type","button_action","watermark_text","condition","app","appInfo"]));return this.convertedAdData=h,h}},{key:"extractJson",value:function(e,t,n,r){var a=null!=n?n:t;if(e[a]&&"string"==typeof e[a])try{e[t]=JSON.parse(e[a])}catch(n){e[t]=null!=r?r:{}}else null!=r&&(e[t]=r)}},{key:"buildWechatInfo",value:function(e){if(e.product_type===Ke.WE_CHAT){var t=e.biz_appid,n=e.biz_info,r=n.nick_name,a=n.is_subscribed;return{icon:n.head_img,nickname:r,uin:n.biz_uin,isFollowed:a,biz_appid:t}}return{}}},{key:"buildAppInfo",value:function(e){var t=e.product_type;if([Ke.ANDROID,Ke.IOS].includes(t)){var n=e.app_info;return{appName:n.app_name,apkName:n.apk_name,apkUrl:n.apk_url,appMd5:n.app_md5,iconUrl:n.icon_url,urlScheme:n.url_scheme,versionCode:n.version_code,channelId:n.channel_id,desc:n.desc}}return{}}},{key:"handleAdData",value:function(e){var t,n=this;if(0===Object.keys(e).length)throw{errMsg:"unexpected adData"};var r=e.crt_exp_tid&&e.crt_exp_info?this.convertTestAdData(e):Object(ee.cloneDeep)(e),a=r;if(r.crt_size&&(a.crt_size=Number(r.crt_size)),this.extractJson(a,"crtInfo","crt_info"),this.extractJson(a,"extBackComm","ext_back_comm"),this.extractJson(a,"button_action","button_action",{}),this.extractJson(a,"adStyleData","ad_style_data",""),this.extractJson(a,"rerankingExtInfo","reranking_ext_info",""),this.extractJson(a,"extInfo","ext_info"),this.extractJson(a,"adDynamicList","ad_dynamic_list"),r.flow_exp_info&&!this.isSplashAd())try{a.condition=L(r.flow_exp_info),this.handleSplashAdFetchLog(a.condition)}catch(e){}if(a.adStyleData&&[qe.CRT_SIZE_REWARD_VEDIO169,qe.CRT_SIZE_REWARD_VEDIO916,qe.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(a.crt_size)){a.use_style_data=!0;var i=a.adStyleData;r.ad_width=i.width,r.ad_height=i.height,i.widgets.forEach((function(e){var t=r.button_action;4===e.type&&(t.button_text=e.title,t.jump_type=e.dest_type||t.jump_type,t.jump_url=e.dest_url||t.jump_url)}))}else this.validateCrtSize(a);var o=r.button_action;if(o.button_text=o.button_text||"查看",r.watermark_text=r.watermark_text||"去逛逛",18001===(null===(t=null==a?void 0:a.extInfo)||void 0===t?void 0:t.page_type)){var s={gdt_vid:r.traceid||"",uxinfo:r.uxinfo||"",ad_token:r.ad_token||"",rl:r.rl||""};r.url=Object(ee.addUrlParam)(r.url,s)}var c=this.buildWechatInfo(a),u=this.buildAppInfo(a);return r.product_type===Ke.ANDROID&&w(u.apkName).then((function(e){var t=e.waid;a.waid=t,n.reportAdMonitorData(Ze.IDKEY.GET_WAID_SUCCESS)})).catch((function(e){n.reportAdMonitorData(Ze.IDKEY.GET_WAID_ERROR,e)})),Object.assign(Object.assign({},a),{app:c,appInfo:u})}},{key:"handleSplashAdFetchLog",value:function(e){this.handledInNewFetch||(this.handledInNewFetch=!0,Object(Y.handleSplashAdFetchLog)(e))}},{key:"handleOperateWXData",value:function(e){var t={apiName:"webapi_getadvert",reqData:e,requestInQueue:!1};return this.isSplashAd()?Object(D.adOperateWXData)(t):Object(D.operateWXData)(t)}},{key:"processFetch",value:function(e,t){return Kt(this,void 0,void 0,i.a.mark((function n(){var r,a,o,s,c,u;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.validateFetchEnv(),!(Object.keys(t).length>0)){n.next=5;break}Ie(t),n.next=11;break;case 5:return he.deviceOrientation=ye(),n.next=8,this.getNetworkType();case 8:r=n.sent,a=r.networkType,he.adNetworkType=a;case 11:return o=this.getFetchArgs({isAdInterval:e}),this.setLastAdReqTs(+new Date),this.setLastExposureTime(0),this.setLastClickTime(0),this.setTimePoint("p2"),n.prev=16,n.next=19,this.handleOperateWXData(o);case 19:if(s=n.sent,this.fetchPromise=null,this.fetchRetryCount=0,this.handledInNewFetch=!1,this.setTimePoint("p3"),s=JSON.parse(s.rawData),this.validateFetchRes(s),!this.isSplashAd()){n.next=28;break}return n.abrupt("return",this.handleSplashAd(s));case 28:if(!this.isGridAd()){n.next=30;break}return n.abrupt("return",this.handleGridAd(s));case 30:if(!this.isCustomAd()){n.next=32;break}return n.abrupt("return",this.handleCustomAd(s));case 32:if(c=this.handleAdData(s.advertisement_info[0]),this.data=c,this.checkDuplicateRecommendedAds(c.product_type,c.app,c.appInfo),!this.isInterstitialAd(c)){n.next=37;break}return n.abrupt("return",this.handleInterstitialAd(c));case 37:if(!this.isRewardedVideoAd(c)){n.next=39;break}return n.abrupt("return",this.handleRewardedVideoAd(c));case 39:return n.abrupt("return",this.handleBannerAd(c));case 42:n.prev=42,n.t0=n.catch(16),u="";try{u=JSON.parse(n.t0).errMsg}catch(e){}if(this.fetchPromise=null,!(0===u.indexOf("getAdData:fail")&&this.fetchRetryCount<1)){n.next=50;break}return this.fetchRetryCount+=1,n.abrupt("return",this.fetch(e));case 50:throw this.isBannerAd()?this.reportAdMonitorData(Ze.IDKEY.AD_BANNER_LOAD_ERROR,n.t0):this.isRewardedVideoAd()?this.reportAdMonitorData(Ze.IDKEY.AD_VIDEO_LOAD_ERROR,n.t0):this.isInterstitialAd()?this.reportAdMonitorData(Ze.IDKEY.AD_INTERSTITIAL_LOAD_ERROR,n.t0):this.isGridAd()?this.reportAdMonitorData(Ze.IDKEY.AD_GRID_LOAD_ERROR,n.t0):this.isCustomAd()?this.reportAdMonitorData(Ze.CUSTOMAD_IDKEY.LOAD_FAILED,n.t0):this.isSplashAd()&&this.reportAdMonitorData(Ze.SPLASHAD_IDKEY.dataLoadFail,n.t0),n.t0;case 52:case"end":return n.stop()}}),n,this,[[16,42]])})))}},{key:"checkDuplicateRecommendedAds",value:function(e,t,n){return Kt(this,void 0,void 0,i.a.mark((function r(){var a,o,s,c,u,l,d,f,p,h,v,g,y;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=[],o="0",s=decodeURIComponent(this.data.apurl),/viewid=([^&]+)/.test(s)&&(o=RegExp.$1),c={conv_status:a},u={},r.next=8,Ee;case 8:if(l=r.sent,d=l.imei,f=l.idfa,p={viewid:o,app_status:0,follow_status:0,imei:d,idfa:f},e!==Ke.WE_CHAT){r.next=20;break}if(u.ad_type=1,u.ad_id=t.biz_appid,p.follow_status=t.isFollowed?2:1,!t.isFollowed){r.next=18;break}return r.abrupt("return",this.reportAdMonitorData(Ze.IDKEY.AD_FOLLOWED,{adInfo:u}));case 18:r.next=37;break;case 20:if(e!==Ke.ANDROID){r.next=37;break}return h=n.apkName,v=n.versionCode,r.prev=22,r.next=25,this.getInstallState(h);case 25:g=r.sent,y=g.isInstalled&&(void 0===g.versionCode||g.versionCode>=v),u.ad_type=2,u.ad_id=h,p.app_status=y?2:1,y&&this.reportAdMonitorData(Ze.IDKEY.AD_INSTALLED,{adInfo:u}),r.next=37;break;case 33:r.prev=33,r.t0=r.catch(22),p.app_status=0,Reporter.reportIDKey({key:"adGetInstallState_fail",force:!0});case 37:a.push(p),this.reportInstallFollow(c);case 39:case"end":return r.stop()}}),r,this,[[22,33]])})))}},{key:"getAdType",value:function(){return this.adType}},{key:"getAdUnitId",value:function(){return this.adUnitId}},{key:"getPluginAppid",value:function(){return this.pluginAppid}},{key:"getSlotData",value:function(){return this.slotData}},{key:"getDeviceInfo",value:function(){return he}},{key:"isBannerAd",value:function(){return"banner"===this.adType}},{key:"isRewardedVideoAd",value:function(e){return"incentive-video"===this.adType&&(!e||[qe.CRT_SIZE_REWARD_VEDIO169,qe.CRT_SIZE_REWARD_VEDIO916,qe.CRT_SIZE_VERTICAL_VIDEO_NEW_916,qe.CRT_SIZE_REWARD_LANDINGPAGE].includes(e.crt_size))}},{key:"isInterstitialAd",value:function(e){return"interstitialAd"===this.adType&&(!e||[qe.CRT_SIZE_TABLE_SCREEN_IMAGE,qe.CRT_SIZE_INSERT_VIDEO].includes(e.crt_size))}},{key:"isGridAd",value:function(){return"grid"===this.adType}},{key:"isCustomAd",value:function(){return"customAd"===this.adType}},{key:"isSplashAd",value:function(){return"splashAd"===this.adType}},{key:"getProgramStartTime",value:function(){return he.startTime}},{key:"getWebviewInfo",value:function(){return{createWebviewId:this.webviewId,lastWebviewId:ve.lastWebviewId,currentWebviewId:ve.currentWebviewId,openType:ve.currentOpenType}}},{key:"setSlotData",value:function(e){this.slotData=Object.assign(this.slotData,e||{})}},{key:"reset",value:function(){this.adDataIndex=0,this.cgiReporter.reset()}},{key:"fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetchPromise||(this.fetchPromise=this.processFetch(e,t)),this.fetchPromise}},{key:"setRightButtonHide",value:function(e){var t=this,n=function(){return he.isWaGame?t.setNavigationBarRightButton({isHide:e}):t.setMiniProgramNavigationBarRightButton({isHide:e})};return n().catch((function(r){return t.reportAdMonitorData(Ze.IDKEY.RIGHTBUTTON_HIDE_ERROR,{retryCount:0,isHide:e,message:t.processStackMsg(r)}),n().catch((function(n){throw t.reportAdMonitorData(Ze.IDKEY.RIGHTBUTTON_HIDE_ERROR,{retryCount:1,isHide:e,message:t.processStackMsg(n)}),n}))}))}},{key:"addDownloadTaskStraight",value:function(e,t,n,r){var a=this;return Vt({taskName:e,taskUrl:t,fileMd5:n,extInfo:r}).catch((function(e){return a.reportAdMonitorData(Ze.IDKEY.ADD_DOWNLOAD_TASK_ERROR,e),Promise.reject(e)}))}},{key:"operateFullscreen",value:function(e){if(!e)return Promise.reject();var t=[this.setRightButtonHide("hide"===e)];return he.isWaGame||t.push("hide"===e?this.hideStatusBar():this.showStatusBar()),!he.isWaGame&&he.isAndroid&&t.push("hide"===e?this.hideVirtualBottomNavigationBar():this.showVirtualBottomNavigationBar()),Promise.all(t)}},{key:"isTriggerClick",value:function(e){var t=e.absoluteX,n=e.absoluteY,r=e.absoluteEndX,a=e.absoluteEndY,i=e.pressInterval,o=!1;return Math.abs(a-n)<30&&Math.abs(r-t)<30&&i<300&&(o=!0),o}},{key:"isValidCondition",value:function(e){return!!(e&&this.data&&this.data.condition)&&(this.data.condition[e]||void 0===this.data.condition[e])}},{key:"setCurrentData",value:function(e){var t;this.adDataIndex=e,(null===(t=this.datas)||void 0===t?void 0:t[e])&&(this.data=this.datas[e])}},{key:"checkCanvasXmlState",value:function(){return this.isCanvasXmlHook}},{key:"handleRewardedVideoPlayableLand",value:function(e,t){var n,r,a=null===(r=null===(n=null==this?void 0:this.data)||void 0===n?void 0:n.extBackComm)||void 0===r?void 0:r.uid,i={};4===t?i.xj_scene=6:(i.gdt_vid=this.data.traceid||"",i.uxinfo=this.data.uxinfo||"",i.reward=1),i.rl=this.data.rl||"",i.ad_token=this.data.ad_token||"",he.isIOS&&(i.uid=a||"");var o=Object(ee.addUrlParam)(e,i);return this.isPrefetch("playable_url")&&this.reportAdMonitorData(Ze.IDKEY.H5_PRELOAD_BUTTON_CLICKED),Object(D.openUrl)({url:o})}},{key:"setDeviceInfo",value:function(e){Object.assign(he,e)}}]),e}();Yt([Q("handleAdDataDone"),$("handleAdDataError"),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",Promise)],zt.prototype,"handleSplashAd",null),Yt([Q("handleAdDataDone"),$("handleAdDataError"),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",void 0)],zt.prototype,"handleCustomAd",null),Yt([Q("handleAdDataDone"),$("handleAdDataError"),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",void 0)],zt.prototype,"handleGridAd",null),Yt([Q("handleAdDataDone"),$("handleAdDataError"),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",void 0)],zt.prototype,"handleInterstitialAd",null),Yt([Q("handleAdDataDone"),$("handleAdDataError"),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",void 0)],zt.prototype,"handleRewardedVideoAd",null),Yt([Q("handleAdDataDone"),$("handleAdDataError"),qt("design:type",Function),qt("design:paramtypes",[Object]),qt("design:returntype",void 0)],zt.prototype,"handleBannerAd",null),Yt([function(e,t,n){var r=n.value;n.value=function(){var e=this,t=function(t){Ht&&Ht in e&&"function"==typeof e[Ht]&&e[Ht](t)};try{for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=r.call.apply(r,[this].concat(a));return o instanceof Promise?o.catch((function(e){return t(e)})):o}catch(e){t(e)}}},qt("design:type",Function),qt("design:paramtypes",[Number,Object,Object]),qt("design:returntype",Promise)],zt.prototype,"checkDuplicateRecommendedAds",null);var Zt=n(68),Xt=n(17),Jt=function(e,t,n){return Xt.init.call(this,e,function(e){for(var t={},n=0,r=Object.keys(e||{});n<r.length;n++){var a=r[n];e[a]&&(t[a]=Object.assign({},e[a]),e[a].landscape&&!e[a].landscapeLeft&&(t[a].landscapeLeft=Object.assign({},e[a].landscape)),e[a].landscape&&!e[a].landscapeRight&&(t[a].landscapeRight=Object.assign({},e[a].landscape)))}return t}(t),n)},Qt=n(27),$t=n(30),en=n(64);function tn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rn={type:"EOF"},an=function(){function e(){Object(s.default)(this,e),this.token=[],this.tokens=[],this.state=null,this.state=this.start}return Object(c.default)(e,[{key:"isEOF",value:function(e){var t=e;return t&&"object"===Object(p.default)(t)&&"EOF"===t.type}},{key:"start",value:function(e){return this.isEOF(e)?(this.emmitToken("EOF",rn),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}},{key:"inLogic",value:function(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}},{key:"inNumber",value:function(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}},{key:"inTplFunc",value:function(e){var t=this;return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&function(){for(var e=0,n=0,r=0,a=t.token.length;r<a;r++){var i=t.token[r];"("===i?e+=1:")"===i&&(n+=1)}return e===n}()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}},{key:"inTplStr",value:function(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}},{key:"inCompare",value:function(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}},{key:"inQuoteStr",value:function(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}},{key:"emmitToken",value:function(e,t){this.tokens.push({type:e,value:t})}},{key:"push",value:function(e){this.state&&(this.state=this.state(e))}},{key:"end",value:function(){this.state&&this.state(rn)}}]),e}(),on=function(e){for(var t=new an,n=0,r=e.length;n<r;){var a=e[n];n+=1,t.push(a)}return t.end(),t.tokens},sn=function(e){return"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null},cn=function(e){return 0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren)},un=function(e){return 0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren)},ln=function(e){var t;t="string"==typeof e?on(e):e;for(var n=[sn({type:"ROOT"})],r=function(e){for(var t=e.priority;cn(n[n.length-1])&&un(n[n.length-2])&&t<=n[n.length-1].priority&&t<=n[n.length-2].priority;){var r=n[n.length-2].children;null==r||r.push(n.pop())}},a=function(e){var t=sn(e),a=n[n.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(cn(a))return;un(a)?a.children.push(t):n.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?cn(a)&&(t.priority>a.priority?function(e,t){var r=t.children.pop();r&&e.children.push(r),n.push(e)}(t,a):(r(t),function(e){var t=n.pop();t&&e.children.push(t),n.push(e)}(t))):"ROOT_END"===t.type&&(r(t),n.push(t))},i=0,o=t.length;i<o;i++)a(t[i]);return n},dn=function(e,t){var n=e.split("."),r="";return n.forEach((function(e){""===r?r=t[e]:("string"==typeof r&&(r=JSON.parse(r)),r=r[e])})),r},fn=function(e,t,n){var r=e.indexOf("("),a=e.substring(0,r),i=e.substring(r+1,e.length-1);if(!n[a])return null;for(var o=on(i),s=[],c=[],u=0,l=o.length;u<l;u++){var d=o[u];"COMMA"===d.type||"EOF"===d.type?(s.push(c),c=[]):c.push(d)}var f=[];return s.forEach((function(e){f.push(vn(e,t,n))})),n[a].apply(null,f)},pn=function e(t,n){var r=t.type,a=t.children,i=t.operator,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=function(t){return e(a[t],n,o)};if("COMPARE"===r){var c={">":function(){return s(0)>s(1)},"<":function(){return s(0)<s(1)},">=":function(){return s(0)>=s(1)},"<=":function(){return s(0)<=s(1)},"==":function(){return s(0)==s(1)},"!=":function(){return s(0)!=s(1)},"===":function(){return s(0)===s(1)}},u=i&&c[i];return u?u():null}if("LOGIC"===r){var l={"&&":function(){return s(0)&&s(1)},"||":function(){return s(0)||s(1)}},d=i&&l[i];return d?d():null}var f={NUMBER:function(){return Number(a[0])},STR:function(){return a[0]},TPLSTR:function(){return dn(a[0],n)},QUESTION:function(){return s(0)?s(1):s(2)},TPLFUNC:function(){return fn(a[0],n,o)}},p=f[r]||null;return p?p():null},hn={"#scope":function(e){return e},"#no":function(e){return!e},"#add":function(e,t){return e+t},"#sub":function(e,t){return e-t},"#multi":function(e,t){return e*t},"#division":function(e,t){return e/t},"#toNumber":function(e){return Number(e)},"#toString":function(e){return String(e)},"#ceil":function(e){return Math.ceil(e)},"#floor":function(e){return Math.floor(e)},"#round":function(e){return Math.round(e)},"#substring":function(e,t,n){return e.substring(t,n)},"#like":function(e,t){return-1!==e.indexOf(t)},"#toLowerCase":function(e){return e.toLowerCase()},"#len":function(e){return e.length},"#parse":function(e){try{return JSON.parse(e)}catch(e){return{}}},"#value":function(e,t){return e[t]||{}},"#truncate":function(e,t){var n,r="",a=0,i=tn(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if((a+=/[\u4e00-\u9fa5]/.test(o)?2:1)>t){r+="...";break}r+=o}}catch(e){i.e(e)}finally{i.f()}return r},"#concat":function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("")},"#split":function(e,t,n){return null==e?void 0:e.split(t,n)}},vn=function(e,t,n){try{var r=ln(e);return pn(r[1],t,Object.assign({},hn,n))}catch(e){}return null},gn=n(3),yn=n(122);function mn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _n(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}var On=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},En={},In=b.PLATFORM,Sn=function(e){Object(l.default)(n,e);var t=bn(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.autoRegister,o=void 0===i||i;Object(s.default)(this,n),(r=t.call(this,e)).ratio=1,r.tplConfig=null,r.adCustomListener=null,r.clickCallbackMap=new WeakMap,r.handleCommonClick=function(e){r.doActions(r.events.tap,{event:e})},r.handleAdCustomAction=function(e){e.targetid===r.id&&r.doCommonAction(e)},r.adCustomId=e.adCustomId,r.adProxy=e.adProxy,r.adData=e.adData,r.adDatas=e.adDatas,r.manager=e.manager,r.reporter=e.reporter,r.emitter=e.emitter,r.idPrefix=e.idPrefix||"",r.forType=e.forType||gn.FOR_TYPES.NONE,r.forItem=e.forItem,r.forIndex=e.forIndex,e.ratio&&(r.ratio=e.ratio),r.checkSize();var c=e.template||{};r.template=c,r.id=r.adCustomId+"-"+r.idPrefix+r.template.id;var u=c.options||{};r.options=u,r.data=u.data||{},r.events=u.events||{},r.lifecycle=u.lifecycle||{},r.innerStyles=u.innerStyles||{},r.animations=u.animations||{},r.bubbleEvent=void 0===u.bubbleEvent||u.bubbleEvent;var l=r.getDataValue("_bubbleEvent");return void 0!==l&&(r.bubbleEvent=l),o&&r.bindCommonEvents(),r}return Object(c.default)(n,[{key:"ready",value:function(e){this.emitComponentLifeCycle("onInit"),e&&(e.adId=this.id)}},{key:"updatedProps",value:function(){this.updateBubbleEvent()}},{key:"destroy",value:function(){this.emitComponentLifeCycle("onDestroy"),this.offClick("container",this.handleCommonClick),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}},{key:"bindCommonEvents",value:function(){this.onClick("container",this.handleCommonClick),this.emitter.on("adCustomAction",this.handleAdCustomAction)}},{key:"getCommonSubComponentProps",value:function(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adProxy:this.adProxy,reporter:this.reporter,adData:this.adData,adDatas:this.adDatas,adPosition:this.props.adPosition,systemInfo:this.props.systemInfo,manager:this.manager,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,ratio:this.ratio,scope:this.props.scope}}},{key:"getDataValue",value:function(e,t,n){var r=t||this.data,a=r[e+"Expr"];return a?this.run(a,null==n?void 0:n.args):r[e]}},{key:"getDataValueWithDefault",value:function(e,t,n,r){var a=n?this.getDataValue(e,n,r):this.getDataValue(e);return void 0===a?t:a}},{key:"getAdData",value:function(){return this.forType===gn.FOR_TYPES.ADS&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}},{key:"getAdDatas",value:function(){return this.adDatas||[]}},{key:"addAdCustomListener",value:function(e){var t=this;this.removeAdCustomListener(),this.adCustomListener=function(n){n.adCustomId===t.adCustomId&&(null==e||e(n))},this.emitter.on("adCustomEvent",this.adCustomListener)}},{key:"removeAdCustomListener",value:function(){this.adCustomListener&&this.emitter.off("adCustomEvent",this.adCustomListener)}},{key:"setRatio",value:function(e){this.ratio=e}},{key:"checkSize",value:function(){var e,t,n,r,a,i=this.template;if(!i||"root"===i.type){this.tplConfig=(null===(e=i)||void 0===e?void 0:e.tplConfig)||{};var o=this.props.adPosition||{};if(this.tplConfig){var s=this.tplConfig,c=(this.props.adPosition||{}).width;null==c&&(c=(null===(n=null===(t=this.props)||void 0===t?void 0:t.systemInfo)||void 0===n?void 0:n.screenWidth)||he.screenWidth),c=Number(c);var u=s.minWidth||0,l=s.maxWidth||0,d=s.baseWidth||375,f=Math.min((null===(a=null===(r=this.props)||void 0===r?void 0:r.systemInfo)||void 0===a?void 0:a.screenWidth)||he.screenWidth,Math.max(u,c));l&&(f=Math.min(f,l)),0===f&&this.setRatio(d/d),o.width=f,this.setRatio(f/d)}}}},{key:"emitAdCustomEvent",value:function(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}},{key:"emitComponentEvent",value:function(e,t){var n=this.events[e];(null==n?void 0:n.length)&&this.doActions(n,t||{})}},{key:"emitComponentLifeCycle",value:function(e,t){var n=this.lifecycle[e];(null==n?void 0:n.length)&&this.doActions(n,t)}},{key:"doActions",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=mn(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.force&&!a.targetid?this.doCommonAction({args:n,payload:a}):this.emitter.emit("adCustomAction",{fromid:this.id,targetid:a.targetid?this.adCustomId+"-"+a.targetid:this.id,args:n,payload:a})}}catch(e){r.e(e)}finally{r.f()}}},{key:"doCommonAction",value:function(e){var t=this,n=e.payload,r=e.args,a=n.delay,i=void 0===a?0:a,o=n.expr,s=void 0===o?void 0:o,c=function(){var a;if(!s||t.run(s,r))switch(n.action){case gn.ACTIONS.SETSTYLE:var i=n.value;if(i.styleExpr)for(var o=0,c=Object.keys(i.styleExpr);o<c.length;o++){var u=c[o];i.style[u]=t.run(i.styleExpr[u],r)}t.setStyle(i.id,i.style);break;case gn.ACTIONS.SETEXPRVARS:var l=n.value.key,d=t.getDataValue("value",n.value);t.getExprInnerVars()[l]=d;break;case gn.ACTIONS.REPORTIDKEY:break;case gn.ACTIONS.TRIGGEREVENT:var f=n.value,p=f.detail,h=void 0===p?{}:p,v=f.eventName;try{if((null==r?void 0:r.event)&&(h.rawDetail=JSON.stringify(r.event)),n.value.detailExpr)for(var g=0,y=Object.keys(n.value.detailExpr);g<y.length;g++){var m=y[g],_=n.value.detailExpr[m];h[m]=t.run(_,r)}}catch(e){}t.emitAdCustomEvent(gn.CUSTOM_EVENT.TRIGGEREVENT,{eventName:v,detail:h});break;case gn.ACTIONS.REPORTMMDATA:var b=n.value,O=b.data,E=b.dataExpr,I=b.id;if(E)for(var S=0,C=Object.keys(E);S<C.length;S++){var k=C[S],T=E[k];O[k]=t.run(T,r)}t.emitAdCustomEvent(gn.CUSTOM_EVENT.REPORTMMDATA,{id:I,data:O});break;case gn.ACTIONS.ANIMATE:var A=n.value,P=A.id,w=A.animation;t.doAnimation({id:P,animationName:w});break;case gn.ACTIONS.TRIGGERBTNCLICK:var D=null==r?void 0:r.event;D&&t.emitAdCustomEvent(gn.CUSTOM_EVENT.BTNTAP,{event:D,isHandleDownload:(null===(a=n.value)||void 0===a?void 0:a.isHandleDownload)||!1});break;case gn.ACTIONS.LANDAD:var R=null==r?void 0:r.event;R&&t.emitAdCustomEvent(gn.CUSTOM_EVENT.LANDAD,{index:t.getDataValueWithDefault("index",0,n.value,{args:r}),event:R});break;case gn.ACTIONS.SPLASHSKIPAD:var M=null==r?void 0:r.event;M&&t.emitAdCustomEvent(gn.CUSTOM_EVENT.SPLASHSKIPAD,{event:M});break;case gn.ACTIONS.REPORTADMONITORDATA:var j=n.value,x=j.id,L=j.key,N=j.extInfo;t.emitAdCustomEvent(gn.CUSTOM_EVENT.REPORTADMONITORDATA,{id:x,key:L,extInfo:N});break;case gn.ACTIONS.REWARDEDVIDEODYNAMIC:var B=n.value.list;t.emitAdCustomEvent(gn.CUSTOM_EVENT.REWARDEDVIDEODYNAMIC,{list:B});break;default:"doAction"in t&&"function"==typeof t.doAction&&t.doAction(e)}};i?setTimeout(c,i):c()}},{key:"run",value:function(e,t){var n=this.getInnerFunction(),r=Object.assign(Object.assign({},this.getScope()),n);return vn(e,t?Object.assign({$args:t},r):r,n)}},{key:"getElementById",value:function(e){var t,r;if(!e){var a=null!==(r=null===(t=this.getRootElement())||void 0===t?void 0:t.parent)&&void 0!==r?r:null;return a===en.Layout?this.getRootElement():a}return"$$"===e?this.getRootElement():Object($t.default)(Object(f.default)(n.prototype),"getElementById",this).call(this,e)}},{key:"doAnimation",value:function(e){var t=e.id,r=e.emitEvent,a=void 0===r||r,o=e.animationName,s=e.animation;return On(this,void 0,void 0,i.a.mark((function e(){var r,c,u,l,d,f,p,h,v,g,y,m,_,b,O,E,I,S,C,k;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!s&&o?this.animations[o]:s,c=this.getElementById(t),r&&c){e.next=4;break}return e.abrupt("return");case 4:if(u=r.keys,l=r.duration,d=r.easing,!(((null==u?void 0:u.length)||0)<2)){e.next=8;break}return e.abrupt("return");case 8:f=0,p=0,h=Object.keys(u);case 10:if(!(p<h.length)){e.next=30;break}if(v=h[p],g=u[+v],y=g.offset,m=g.opacity,_=g.left,b=g.top,O=g.rotate,E=g.scaleX,I=g.scaleY,S=l*y,C=Object(en.convertStyle)({opacity:m,left:_,top:b,rotate:O,scaleWidth:E,scaleHeight:I}),!(S<=0)){e.next=21;break}return e.next=19,this.setStyle(t,C);case 19:e.next=27;break;case 21:return(k=Object.assign(Object.assign({},C),{easing:d,duration:S-f})).left=C.left,k.top=C.top,e.next=26,n.animate(c,k);case 26:f=S;case 27:p++,e.next=10;break;case 30:if(!o||!a){e.next=33;break}return e.next=33,this.emitComponentEvent(gn.COMMON_EVENT.ANIMATIONEND,{animation:o});case 33:case"end":return e.stop()}}),e,this)})))}},{key:"updateInnerStyle",value:function(){if(this.innerStyles)for(var e=0,t=Object.keys(this.innerStyles);e<t.length;e++){var n=t[e],r=this.innerStyles[n];r.expr&&!this.run(r.expr)||this.updateStyle(r.style,n)}}},{key:"setStyle",value:function(e,t){var r,a,o=this,s=Object.create(null,{setStyle:{get:function(){return Object($t.default)(Object(f.default)(n.prototype),"setStyle",o)}}});return On(this,void 0,void 0,i.a.mark((function n(){var o,c,u,l,d;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=this.getDataValue("_useApx")?this.convertToApxRatio(t):t,"$$"===(c=e)&&(c=null===(r=this.getRootElement())||void 0===r?void 0:r.name),!o){n.next=11;break}for(u=0,l=Object.keys(o);u<l.length;u++)d=l[u],o[d]=this.convertApxStyle(o[d]);if(!c){n.next=10;break}return n.next=8,s.setStyle.call(this,c,o);case 8:n.next=11;break;case 10:null===(a=this.parent)||void 0===a||a.setStyle("container",o);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"convertApxStyle",value:function(e){var t=this;return e&&"string"==typeof e?e.replace(/([+-]?\d+(?:\.\d+)?)apx/g,(function(e,n){return Number(n*t.ratio)+"px"})):e}},{key:"updateStyle",value:function(e,t){if(e)for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],i=a,s=e[a];if(a.includes("Expr")){var c=a.split("Expr");if(2===c.length)i=Object(o.default)(c,1)[0],s=this.run(s)}this.setStyle(t,Object(y.default)({},i,s))}}},{key:"removeInnerStyle",value:function(){if(this.innerStyles)for(var e=0,t=Object.keys(this.innerStyles);e<t.length;e++){var n=t[e],r=this.innerStyles[n];this.removeStyle(r.style,n)}}},{key:"removeStyle",value:function(e,t){if(e)for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];this.setStyle(t,Object(y.default)({},a,null))}}},{key:"getScope",value:function(){var e,t;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null===(e=this.props)||void 0===e?void 0:e.systemInfo)||{},ua:"",ratio:this.ratio,time:Date.now()},$for:{index:this.forIndex,item:this.forItem},$scope:(null===(t=this.props)||void 0===t?void 0:t.scope)||{}}}},{key:"getExprInnerVars",value:function(){return void 0===En[this.adCustomId]&&(En[this.adCustomId]={}),En[this.adCustomId]}},{key:"getInnerFunction",value:function(){var e=this.getExprInnerVars();return{"#getVar":function(t){return e[t]},"#measureText":function(e,t){return yn.default.getTextWidth(e,t)}}}},{key:"updateBubbleEvent",value:function(){var e=this.getRootElement();e&&Object(ee.traverseElement)(e,(function(e){if(!e.isBubbleEventSet)if(e.isRootElementOfComponent){var t=e.referComponent;e.bubbleEvent=!t||t.bubbleEvent}else e.bubbleEvent=!0}))}},{key:"onClick",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.handleTriggerClick,o=void 0===i||i,s=a.handleClickLimit,c=void 0===s||s,u=a.isReport,l=void 0!==u&&u,d=a.clickType,p=void 0===d?0:d,h=function(e){null!==r.reporter&&(o&&!r.reporter.judgeTriggerClick(e,l)||c&&r.reporter.isClickLimit(e,p))||t(e)};return this.clickCallbackMap.set(t,h),Object($t.default)(Object(f.default)(n.prototype),"onClick",this).call(this,e,h)}},{key:"offClick",value:function(e,t){return this.clickCallbackMap.has(t)?Object($t.default)(Object(f.default)(n.prototype),"offClick",this).call(this,e,this.clickCallbackMap.get(t)):Object($t.default)(Object(f.default)(n.prototype),"offClick",this).call(this,e,t)}},{key:"checkUseApx",value:function(){if(this.getDataValue("_useApx"))for(var e=0,t=Object.keys(this.style);e<t.length;e++){var n=t[e];this.style[n]=this.convertToApxRatio(this.style[n])}}},{key:"convertToApxRatio",value:function(e){for(var t=this.ratio,n=/(\d+)px/g,r={},a=0,i=Object.keys(e);a<i.length;a++){var o=i[a];if(null===gn.scalableStyles||void 0===gn.scalableStyles?void 0:gn.scalableStyles.includes(o)){var s=e[o],c=s;"number"==typeof s?c=s*t:"string"==typeof s?c=s.replace(n,(function(e,n){var r=Number(n);return Number.isNaN(r)?e:r*t+"px"})):Array.isArray(s)&&(null==s?void 0:s.every((function(e){return"number"==typeof e})))&&(c=s.map((function(e){return e*t}))),r[o]=c}else r[o]=e[o]}return r}}],[{key:"animate",value:function(e,t){var n=t.left,r=t.top,a=t.scaleWidth,i=t.scaleHeight,o=t.opacity,s=t.rotate,c=void 0===s?0:s,u=t.easing,l=void 0===u?"ease-in":u,d=t.duration,f=void 0===d?500:d,p=new Promise((function(t,s){Object(O.invokeMethod)("animateCoverView",{dest:e.dest,viewId:e.id,easing:l,duration:f,finalStyle:{left:n,top:r,opacity:o,rotate:c,scaleX:a,scaleY:i},success:t,fail:s})}));return"devtools"===In&&(p=Promise.all([p,Object(Qt.timeout)(f)])),p}}]),n}(en.Component);function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}var kn=function(e){Object(l.default)(n,e);var t=Cn(n);function n(e){var r,a;if(Object(s.default)(this,n),(r=t.call(this,e,{autoRegister:!1})).style={blank:{width:0,height:0},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},r.isLinearGradient=!1,r.isLinearGradientReverse=!1,r.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",r.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,r.isShow=r.getDataValueWithDefault("_isShow",!0),r.isShow&&("feedback"===r.template.type?r.setStyle("container",{display:"inline-block"}):"end"===r.template.type&&r.setStyle("container",{display:"none"}),r.updateStyle(r.template.style||{},"container"),null===(a=r.template.style)||void 0===a?void 0:a.background)){var i=r.linearGradientRe.exec(r.template.style.background.replace(/ /g,""));if(i){var c=i.slice(1),u=Object(o.default)(c,2),l=u[0],d=u[1];r.isLinearGradient=!0,Number(l)>Number(d)&&(r.isLinearGradientReverse=!0)}}return r}return Object(c.default)(n,[{key:"getSubComponentProps",value:function(){return this.getCommonSubComponentProps()}},{key:"render",value:function(){var e=this.props.template,t=null;return"for"===e.type?"<CustomFor></CustomFor>":(["layout","image","text","button","video","feedback","end","carousel","countdown"].includes(e.type)&&(t="Custom"+e.type[0].toUpperCase()+e.type.slice(1)),this.isShow&&t?'\n      <view id="container">\n        '+(this.isLinearGradient?'\n          <image id="linear-gradient" class="'+(this.isLinearGradientReverse?"reverse":"")+'" src="'+this.linearGradientSrc+'"></image>\n        ':"")+"\n        <"+t+"></"+t+">\n      </view>\n    ":'<view id="blank"></view>')}}]),n}(Sn);function Tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}kn.subComponents=function(){return{CustomLayout:wn,CustomText:Mn,CustomImage:xn,CustomButton:Nn,CustomVideo:Wn,CustomFeedback:Gn,CustomEnd:Yn,CustomFor:Kn,CustomCarousel:rr,CustomCountdown:ir}};var An=function(e){Object(l.default)(n,e);var t=Tn(n);function n(e){var r,a,i,o;Object(s.default)(this,n),(r=t.call(this,e)).style={body:{zIndex:1,position:"absolute",hidden:!0,opacity:0,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:48,width:122,lineHeight:48,backgroundColor:"#4C4C4C",borderRadius:12,fontSize:17,color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:12,minHeight:50}},r.state={hidden:!0},r.multiShowList=void 0,r.show=function(){r.setStyle("body",{hidden:!1,opacity:1}),r.emitAdCustomEvent(gn.CUSTOM_EVENT.CHECKEXPOSURE)},r.hide=function(){r.setStyle("body",{hidden:!0,opacity:0}),r.emitAdCustomEvent(gn.CUSTOM_EVENT.CHECKEXPOSURE)},r.showFeedback=function(){Object(u.default)(r).useDefaultFeedback&&(r.setStyle("tipContainer",{hidden:!1}),setTimeout((function(){r.setStyle("tipContainer",{hidden:!0})}),3e3))},r.handleEnterForeground=function(){r.emitComponentEvent(gn.ROOT_EVENT.APPENTERFOREGROUND),r.emitAdCustomEvent(gn.CUSTOM_EVENT.APPENTERFOREGROUND)},r.handleEnterBackground=function(){r.emitComponentEvent(gn.ROOT_EVENT.APPENTERBACKGROUND),r.emitAdCustomEvent(gn.CUSTOM_EVENT.APPENTERBACKGROUND)},r.handleContainerClick=function(e){var t,n;(null===(t=r.manager)||void 0===t?void 0:t.isMulti)||(r.emitComponentEvent(gn.ROOT_EVENT.CONTAINERTAP),null===(n=r.reporter)||void 0===n||n.handleClick(e,2))},r.isFullScreen=r.getDataValueWithDefault("isFullScreen",!1),r.enableTimer=r.getDataValueWithDefault("enableTimer",!0),r.useDefaultFeedback=r.getDataValueWithDefault("useDefaultFeedback",!0),r.exposureUntilVideoPlay=r.getDataValueWithDefault("exposureUntilVideoPlay",!1),r.hideAfterLanding=r.getDataValueWithDefault("hideAfterLanding",!1),r.exportAid=r.getDataValueWithDefault("exportAid",!1),r.isMulti=null!==(o=null===(i=null===(a=r.template)||void 0===a?void 0:a.tplConfig)||void 0===i?void 0:i.isMulti)&&void 0!==o&&o,r.isWidthRequired=r.getDataValueWithDefault("isWidthRequired",!1),r.multiShowList=r.getDataValue("multiShowList"),r.bindEvent(),r.updateInnerStyle(),r.updateStyle(r.template.style||{},"container");var c=["left","top"];return!he.isWaGame&&c.push("fixed"),r.isWidthRequired&&c.push("width"),!r.isFullScreen&&e.adPosition&&r.setStyle("body",Object(ee.pick)(e.adPosition,c)),r}return Object(c.default)(n,[{key:"destroy",value:function(){Object($t.default)(Object(f.default)(n.prototype),"destroy",this).call(this),this.unbindEvent()}},{key:"ready",value:function(e){Object($t.default)(Object(f.default)(n.prototype),"ready",this).call(this,e),this.isFullScreen&&(e.fullscreen=!0),this.updateBubbleEvent()}},{key:"getCustomItemProps",value:function(e,t){return Object.assign(Object.assign({},this.getCommonSubComponentProps()),{template:this.props.template.children[parseInt(t,10)]})}},{key:"bindEvent",value:function(){Object(ae._onShow)(this.handleEnterForeground),de(this.handleEnterBackground),this.onClick("container",this.handleContainerClick)}},{key:"unbindEvent",value:function(){Object(ae._offShow)(this.handleEnterForeground),fe(this.handleEnterBackground),this.offClick("container",this.handleContainerClick)}},{key:"getRootData",value:function(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1)}}},{key:"doAction",value:function(e){var t,n,r,a=e.payload,i=e.args;a.action===gn.ACTIONS.HIDEAD?"value"in a&&a.value.preventClose?null===(t=this.manager)||void 0===t||t.hide(!0):null===(n=this.manager)||void 0===n||n.hide():a.action===gn.ACTIONS.RELOADAD?null===(r=this.manager)||void 0===r||r.reload():a.action===gn.ACTIONS.CHANGEMULTISHOW&&(a.value.listExpr?this.emitAdCustomEvent(gn.CUSTOM_EVENT.CHANGEMULTISHOW,{list:this.run(a.value.listExpr,i)}):a.value.list?this.emitAdCustomEvent(gn.CUSTOM_EVENT.CHANGEMULTISHOW,{list:a.value.list}):(null==i?void 0:i.list)&&this.emitAdCustomEvent(gn.CUSTOM_EVENT.CHANGEMULTISHOW,{list:i.list}))}},{key:"isShow",value:function(){var e,t=this.getElementById("body");return null!==(e=!(null==t?void 0:t.style.hidden))&&void 0!==e&&e}},{key:"render",value:function(){if(this.props.isEmpty)return'\n        <view id="body">\n          <view id="empty-container" class="empty">\n            <text id="empty-container-text" class="empty-info" value="暂无广告，具体指引查看小程序流量主功能"></text>\n          </view>\n        </view>\n      ';var e=this.props.template,t=this.isFullScreen,n=this.useDefaultFeedback;return'\n      <view id="body" class="'+(t?"full-size":"")+'">\n        '+(e?'\n          <view id="container" class="wx-ad-custom '+(t?"full full-size":"")+'">\n            '+e.children.map((function(e,t){return'\n              <CustomItem get-props="getCustomItemProps:'+t+'"></CustomItem>\n            '})).join("\n")+"\n          </view>\n          "+(n?'\n            <view id="tip-container" class="tip-container">\n              <text id="close-tip" class="video-close-tip" value="感谢反馈"></text>\n            </view>\n          ':"")+"\n        ":"")+"\n      </view>\n    "}}]),n}(Sn);function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}An.subComponents={CustomItem:kn};var wn=function(e){Object(l.default)(n,e);var t=Pn(n);function n(e){var r;return Object(s.default)(this,n),(r=t.call(this,e)).state={children:[]},r.style={".layout-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{position:"absolute",width:"100%",height:"100%"}},r.classRow=!1,r.classColumn=!1,r.baseType=r.options.baseType||gn.LAYOUT_TYPES.COMMON,r.baseType===gn.LAYOUT_TYPES.ROW?r.classRow=!0:r.baseType===gn.LAYOUT_TYPES.COLUMN?r.classColumn=!0:(r.baseType,gn.LAYOUT_TYPES.PROPORTION),r.state.children=r.template.children||[],r.updateInnerStyle(),r}return Object(c.default)(n,[{key:"doAction",value:function(e){var t=e.payload;if(t.action===gn.ACTIONS.ADDCHILDREN){var n=t.value,r=Array.isArray(n)?n:[n],a=[].concat(Object(ot.default)(this.state.children),Object(ot.default)(r));this.setState({children:a})}}},{key:"ready",value:function(e){Object($t.default)(Object(f.default)(n.prototype),"ready",this).call(this,e),this.initProportionComponent()}},{key:"initProportionComponent",value:function(){var e=this.getDataValue("mProportion");if(e){var t=this.getRootElement().layoutBox;if(t.width/t.height>e){var n=Math.round(t.height*e);this.setStyle("container",{width:n,left:(t.width-n)/2,top:0})}else{var r=Math.round(t.width/e);this.setStyle("container",{height:r,top:(t.height-r)/2,left:0})}}}},{key:"getSubComponentProps",value:function(e,t){return Object.assign(Object.assign({},this.getCommonSubComponentProps()),{template:this.state.children[parseInt(t,10)]})}},{key:"render",value:function(){var e=this.state.children,t=["layout"];return this.classRow&&t.push("layout-row"),this.classColumn&&t.push("layout-column"),'\n      <view\n        id="container"\n        class="'+t.join(" ")+'"\n      >\n      '+e.map((function(e,t){return'\n        <CustomItem get-props="getSubComponentProps:'+t+'"></CustomItem>\n      '})).join("\n")+"\n      </view>\n    "}}]),n}(Sn);function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}wn.subComponents=function(){return{CustomItem:kn}};var Rn=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Mn=function(e){Object(l.default)(n,e);var t=Dn(n);function n(e){var r;Object(s.default)(this,n),(r=t.call(this,e)).style={".text":{color:"#000",fontSize:14,wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},r.state={text:""},r.classEllipsis=!1;var a=r.options.baseType||gn.TEXT_TYPES.NICKNAME;return r.baseType=a,a===gn.TEXT_TYPES.COMMON?r.initCommonComponent():a===gn.TEXT_TYPES.NICKNAME?r.initNickNameComponent():a===gn.TEXT_TYPES.DESC&&r.initDescComponent(),r.classEllipsis=r.getDataValueWithDefault("isEllipsis",!0),r.maxLen=r.getDataValueWithDefault("maxLen",null),r.updateInnerStyle(),r}return Object(c.default)(n,[{key:"ready",value:function(e){Object($t.default)(Object(f.default)(n.prototype),"ready",this).call(this,e),this.baseType===gn.TEXT_TYPES.RELATION&&this.initRelationComponent()}},{key:"initCommonComponent",value:function(){this.state.text=this.getDataValueWithDefault("text","")}},{key:"initNickNameComponent",value:function(){var e=this.getAdData(),t=[M.PRODUCT_TYPE.APPLE_APP_STORE,M.PRODUCT_TYPE.OPEN_PLATFORM_APP_MOB].includes(e.product_type),n=e.crt_size===M.CRT_SIZE.CRT_SIZE_GRID,r=[M.PRODUCT_TYPE.WE_CHAT_ARTICLE,M.PRODUCT_TYPE.GDT_WE_CHAT_ARTICLE].includes(e.product_type),a=[M.PRODUCT_TYPE.WE_CHAT_SHOP,M.PRODUCT_TYPE.JD_URL].includes(e.product_type),i=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:n},{path:["crtInfo","0","wxgame_video_card","title"],condition:[M.CRT_SIZE.CRT_SIZE_REWARD_VEDIO169,M.CRT_SIZE.CRT_SIZE_REWARD_VEDIO916,M.CRT_SIZE.CRT_SIZE_VERTICAL_VIDEO_NEW_916,M.CRT_SIZE.CRT_SIZE_MULTI_POS_VIDEO].includes(e.crt_size)},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["crtInfo","0","card_info","title"]},{value:"品牌推广",condition:r},{value:"电商推广",condition:a},{value:"活动推广"}];this.state.text=Object(ee.getDataFromPaths)(e,i)}},{key:"initDescComponent",value:function(){var e=this.getAdData(),t=[M.PRODUCT_TYPE.APPLE_APP_STORE,M.PRODUCT_TYPE.OPEN_PLATFORM_APP_MOB].includes(e.product_type),n=[M.CRT_SIZE.CRT_SIZE_REWARD_VEDIO169,M.CRT_SIZE.CRT_SIZE_REWARD_VEDIO916,M.CRT_SIZE.CRT_SIZE_VERTICAL_VIDEO_NEW_916,M.CRT_SIZE.CRT_SIZE_MULTI_POS_VIDEO].includes(e.crt_size),r=e.product_type===M.PRODUCT_TYPE.MINI_GAME,a=e.product_type===M.PRODUCT_TYPE.WECHAT,i=[M.PRODUCT_TYPE.WE_CHAT_ARTICLE,M.PRODUCT_TYPE.GDT_WE_CHAT_ARTICLE].includes(e.product_type),o=[M.PRODUCT_TYPE.WE_CHAT_SHOP,M.PRODUCT_TYPE.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:n},{path:["wording"],condition:[M.CRT_SIZE.CRT_SIZE_MULTI_POS_NEW_PIC,M.CRT_SIZE.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:i},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:a},{value:"今日小游戏推荐",condition:r},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=Object(ee.getDataFromPaths)(e,s)}},{key:"initRelationComponent",value:function(){var e;return Rn(this,void 0,void 0,i.a.mark((function t(){var n,r,a,o,s,c,u,l,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getAdData(),8===Object(ee.get)(n,["crtInfo","0","card_info","mp_tag_type"])){t.next=3;break}return t.abrupt("return");case 3:return r=n.aid,a=Date.now(),o=Object(ee.get)(n,["button_action","button_text"],""),t.prev=6,t.next=9,N({aid:r,buttonText:o});case 9:s=t.sent,c=Date.now(),this.adProxy.reportRelationFetchDuration({startTime:a,endTime:c,showTime:(null===(e=this.manager)||void 0===e?void 0:e.showDetailTime)||0}),u="",s&&(l=s.count,d=s.descText,u=this.getDataValueWithDefault("text","",void 0,{args:{count:l,descText:d}}),this.emitComponentEvent(gn.TEXT_EVENT.RELATIONFETCHED,{count:l,descText:d})),this.setState({text:u}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(6),this.setState({text:""}),this.adProxy.reportAdMonitorData(gn.IDKEY.RELATION_FETCH_ERROR,t.t0);case 21:case"end":return t.stop()}}),t,this,[[6,17]])})))}},{key:"doAction",value:function(e){var t=e.payload;t.action===gn.ACTIONS.TEXTSETTEXT&&this.setState({text:this.getDataValue("text",t.value)})}},{key:"render",value:function(){var e=this.classEllipsis,t=this.state.text;return this.classEllipsis&&null!==this.maxLen&&t&&(t=Object(R.truncate)(t,2*this.maxLen)),'\n      <view id="container">\n        <text\n          id="text"\n          class="text '+(e?"text-ellipsis":"")+'"\n          value="'+t+'"\n        ></text>\n      </view>\n    '}}]),n}(Sn);function jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}var xn=function(e){Object(l.default)(n,e);var t=jn(n);function n(e){var r;Object(s.default)(this,n),(r=t.call(this,e)).style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:5},".image-img-icon":{borderRadius:"50%"}},r.state={imgUrl:""},r.classAppIcon=!1,r.classIcon=!1,r.useBgMode=!1,r.useBgMode=r.getDataValueWithDefault("useBgMode",!1);var a=r.options.baseType||gn.IMAGE_TYPES.ICON;switch(r.baseType=a,a){case gn.IMAGE_TYPES.COMMON:r.initCommonComponent();break;case gn.IMAGE_TYPES.AD:r.initADComponent();break;case gn.IMAGE_TYPES.ICON:r.initIconComponent()}return r.useBgMode,r.updateInnerStyle(),r}return Object(c.default)(n,[{key:"initCommonComponent",value:function(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}},{key:"initIconComponent",value:function(){var e=this.getAdData(),t=[M.PRODUCT_TYPE.APPLE_APP_STORE,M.PRODUCT_TYPE.OPEN_PLATFORM_APP_MOB].includes(e.product_type),n=e.crt_size===M.CRT_SIZE.CRT_SIZE_GRID,r=[M.PRODUCT_TYPE.WE_CHAT_SHOP,M.PRODUCT_TYPE.JD_URL].includes(e.product_type),a=[M.CRT_SIZE.CRT_SIZE_REWARD_VEDIO169,M.CRT_SIZE.CRT_SIZE_REWARD_VEDIO916,M.CRT_SIZE.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;var i=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:n},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:a},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:r},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=Object(ee.getDataFromPaths)(e,i)}},{key:"initADComponent",value:function(){var e=this.getAdData(),t=e.image_url;if(!t.startsWith("http"))try{t=e.crtInfo[0].image_url||t}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||t}},{key:"doAction",value:function(e){var t=e.payload;t.action===gn.ACTIONS.IMAGESETSRC&&this.setState({imgUrl:this.getDataValue("imgUrl",t.value)})}},{key:"render",value:function(){var e=this.classAppIcon,t=this.classIcon,n=this.baseType===gn.IMAGE_TYPES.AD,r=this.state.imgUrl,a=["image-img"];return e&&a.push("image-img-appicon"),t&&a.push("image-img-icon"),'\n      <view id="container" class="image">\n        <image\n          id="img"\n          '+(n?'bubble-event="false"':"")+'\n          class="'+a.join(" ")+'"\n          src="'+r+'"\n        >\n      </view>\n    '}}]),n}(Sn);function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}var Nn=function(e){Object(l.default)(n,e);var t=Ln(n);function n(e){var r;Object(s.default)(this,n),(r=t.call(this,e)).style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:3,overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:16},".button-download-progress":{position:"absolute",left:0,top:0,width:0,height:"100%",overflow:"hidden"},".download-text-container":{position:"absolute",top:0,left:0,width:0,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.state={buttonText:""},r.downloadProgress=0,r.isHandleDownload=!1,r.handleAdCustomEvent=function(e){var t=e.action,n=e.value,a=void 0===n?{}:n;t===gn.CUSTOM_EVENT.CHANGEADBTNTEXT&&a.text&&(r.setState({buttonText:a.text}),a.progress&&(r.downloadProgress=a.progress))},r.handleButtonClick=function(e){r.emitAdCustomEvent(gn.CUSTOM_EVENT.BTNTAP,{event:e,isHandleDownload:r.isHandleDownload}),r.emitComponentEvent(gn.BUTTON_EVENT.BUTTONTAP,{event:e})};var a=r.options.baseType||gn.BUTTON_TYPES.LOGICCOMMON;return a===gn.BUTTON_TYPES.COMMON?r.initCommonComponent():a===gn.BUTTON_TYPES.LOGICCOMMON&&r.initLogicCommonComponent(),r.updateInnerStyle(),r.setStyle("downloadProgressBar",{width:r.downloadProgress+"%"}),r.setStyle("downloadTextContainer",{width:1e4/r.downloadProgress+"%"}),r.onClick("container",r.handleButtonClick,{isReport:!0,clickType:1}),r}return Object(c.default)(n,[{key:"destroy",value:function(){Object($t.default)(Object(f.default)(n.prototype),"destroy",this).call(this),this.offClick("container",this.handleButtonClick)}},{key:"getButtonText",value:function(){return this.state.buttonText}},{key:"initCommonComponent",value:function(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}},{key:"initLogicCommonComponent",value:function(){var e=this.getAdData(),t=this.getDataValue("buttonText");t?this.state.buttonText=t:e.product_type===Ke.WE_CHAT?this.state.buttonText=e.app.isFollowed?"查看":e.button_action.button_text:this.state.buttonText=e.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent),this.isHandleDownload=this.getDataValueWithDefault("isHandleDownload",!1)}},{key:"doAction",value:function(e){var t=e.payload;t.action===gn.ACTIONS.BUTTONSETTEXT&&this.setText(t.value)}},{key:"setText",value:function(e){this.setState({buttonText:this.getDataValue("text",e)})}},{key:"render",value:function(){var e=this.isHandleDownload,t=this.state.buttonText;return'\n      <view id="container" class="button" bubbleEvent="false">\n        <text id="button-text" class="button-text" value="'+t+'"></text>\n        '+(e?'\n          <view\n            id="download-progress-bar"\n            class="button-download-progress"\n          >\n            <view id="download-text-container" class="download-text-container"\n              <text id="download-text" class="button-text" value="'+t+'"></text>\n            </view>\n          </view>\n        ':"")+"\n      </view>\n    "}}]),n}(Sn),Bn={videoDataMap:{}},Fn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(Bn.videoDataMap[e]=t)};function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}var Wn=function(e){Object(l.default)(n,e);var t=Vn(n);function n(e){var r;return Object(s.default)(this,n),(r=t.call(this,e)).style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:6,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:24,height:24},".video-voice-box-topleft":{top:10,left:10},".video-voice-box-topright":{top:10,right:10},".video-voice-box-bottomleft":{bottom:10,left:10},".video-voice-box-bottomright":{bottom:10,right:10},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:12,width:32,height:16,lineHeight:16},".video-count-down-topleft":{top:10,left:10},".video-count-down-topright":{top:10,right:10},".video-count-down-bottomleft":{bottom:10,left:10},".video-count-down-bottomright":{bottom:10,right:10},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:3,backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:3,backgroundColor:"#07c160"}},r.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1},r.src="",r.poster="",r.isShowVoice=!0,r.isShowProgress=!0,r.isShowCountDown=!1,r.isShowEndPage=!1,r.voicePlacement=null,r.countDownPlacement=null,r.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",r.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",r.currentTime=0,r.videoDuration=0,r.objectFit="contain",r.toggleMuted=function(){r.setState({muted:!r.state.muted}),r.emitComponentEvent(gn.VIDEO_EVENT.MUTEDCHANGE,{muted:r.state.muted})},r.handleCustomEvent=function(e){var t=e.action,n=e.value,a=void 0===n?{}:n;switch(t){case gn.CUSTOM_EVENT.ADSHOWHALF:r.state.isEndPageShowing||r.operateVideoPlay("play");break;case gn.CUSTOM_EVENT.ADHIDEHALF:r.state.isEndPageShowing||r.operateVideoPlay("pause");break;case gn.CUSTOM_EVENT.APPENTERBACKGROUND:var i=Math.min(r.currentTime,r.videoDuration);a.inAdDetail?r.reportVideoPlay("partial","exit",i):r.reportVideoPlay("partial","app_exit",i);break;case gn.CUSTOM_EVENT.ENDPAGEINIT:r.isShowEndPage=r.getDataValueWithDefault("isShowEndPage",!1),r.isShowEndPage&&r.setState({loop:!1});break;case gn.CUSTOM_EVENT.ENDPAGEHIDE:r.isShowEndPage&&(r.setState({isEndPageShowing:!1}),r.operateVideoPlay("play"));break;case gn.CUSTOM_EVENT.ENDPAGESHOW:r.isShowEndPage&&r.setState({isEndPageShowing:!0});break;case gn.CUSTOM_EVENT.BTNTAP:r.reportVideoPlay(r.currentTime<r.videoDuration?"partial":"complete","land",r.videoDuration)}},r.handleError=function(e){r.adProxy.reportAdMonitorData(gn.IDKEY.AD_VIDEO_LOAD_FAILED,e)},r.handleTimeUpdate=function(e){var t,n=e.duration,a=e.position;if(null!=n&&null!=a){var i=Math.min(1,a/n);r.setStyle("videoProgressPlayed",{width:100*i+"%"}),r.isShowCountDown&&r.setState({countDownNumber:Math.ceil(n-a)+"s"}),r.emitComponentEvent(gn.VIDEO_EVENT.VIDEOTIMEUPDATE,{event:e,rate:i}),r.currentTime=1e3*a,r.videoDuration||(r.videoDuration=1e3*n);var o={currentTime:r.currentTime,duration:r.videoDuration},s=(null===(t=r.manager)||void 0===t?void 0:t.adCustomId)||r.adCustomId;Fn(s,o)}},r.handleEnded=function(e){var t;r.emitComponentEvent(gn.VIDEO_EVENT.VIDEOENDED,{event:e}),r.emitAdCustomEvent(gn.CUSTOM_EVENT.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:r.baseType}}),r.reportVideoPlay("viewable","end",r.videoDuration),b.IS_IOS&&r.reportVideoPlay("partial","start");var n={currentTime:r.videoDuration,duration:r.videoDuration},a=(null===(t=r.manager)||void 0===t?void 0:t.adCustomId)||r.adCustomId;Fn(a,n),r.currentTime=0,r.isShowEndPage&&r.emitAdCustomEvent(gn.CUSTOM_EVENT.SHOWENDPAGE,{videoId:r.id}),r.setState({countDownNumber:null})},r.handlePlay=function(e){r.emitComponentEvent(gn.VIDEO_EVENT.VIDEOPLAY,{event:e}),r.emitAdCustomEvent(gn.CUSTOM_EVENT.ADVIDEOPLAY),r.reportVideoPlay("partial","start",Math.min(r.currentTime,r.videoDuration))},r.handlePause=function(e){r.emitComponentEvent(gn.VIDEO_EVENT.VIDEOPAUSE,{event:e}),r.emitAdCustomEvent(gn.CUSTOM_EVENT.ADVIDEOPAUSE),r.reportVideoPlay("partial","close",Math.min(r.currentTime,r.videoDuration))},r.baseType=r.options.baseType||gn.VIDEO_TYPES.AD,r.baseType===gn.VIDEO_TYPES.COMMON?r.initCommonComponent():r.baseType===gn.VIDEO_TYPES.AD&&r.initADComponent(),r.isShowVoice=r.getDataValueWithDefault("isShowVoice",!0),r.voicePlacement=r.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),r.state.muted=r.getDataValueWithDefault("muted",!0),r.state.loop=r.getDataValueWithDefault("loop",!0),r.isShowProgress=r.getDataValueWithDefault("isShowProgress",!0),r.isShowCountDown=r.getDataValueWithDefault("isShowCountDown",!1),r.countDownPlacement=r.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),r.objectFit=r.getDataValueWithDefault("objectFit","contain"),r.updateInnerStyle(),r.bindEvent(),setTimeout((function(){r.emitComponentEvent(gn.VIDEO_EVENT.MUTEDCHANGE,{muted:r.state.muted})}),0),r}return Object(c.default)(n,[{key:"destroy",value:function(){Object($t.default)(Object(f.default)(n.prototype),"destroy",this).call(this),this.unbindEvent(),this.removeAdCustomListener()}},{key:"bindEvent",value:function(){this.onTimeUpdate("video",this.handleTimeUpdate),this.onEnded("video",this.handleEnded),this.onPlay("video",this.handlePlay),this.onPause("video",this.handlePause),this.onError("video",this.handleError),this.onClick("videovoicebox",this.toggleMuted,{clickType:1})}},{key:"unbindEvent",value:function(){this.offTimeUpdate("video",this.handleTimeUpdate),this.offEnded("video",this.handleEnded),this.offPlay("video",this.handlePlay),this.offPause("video",this.handlePause),this.offError("video",this.handleError),this.offClick("videovoicebox",this.toggleMuted)}},{key:"initCommonComponent",value:function(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}},{key:"initADComponent",value:function(){var e,t=this.getAdData();this.src=this.getDataValue("src")||Object(ee.get)(t,["video_info","videoUrl"])||Object(ee.get)(t,["short_video","video_url"]),this.poster=this.getDataValue("poster")||Object(ee.get)(t,["video_info","thumbUrl"])||Object(ee.get)(t,["short_video","trumb_url"]),this.addAdCustomListener(this.handleCustomEvent),this.videoDuration=Object(ee.get)(t,["wx_game_video","short_video","video_duration"])||Object(ee.get)(t,["crtInfo","0","short_video","video_duration"],0),this.videoDuration=1e3*this.videoDuration;var n={currentTime:0,duration:this.videoDuration},r=(null===(e=this.manager)||void 0===e?void 0:e.adCustomId)||this.adCustomId;Fn(r,n),this.emitAdCustomEvent(gn.CUSTOM_EVENT.REPORTTIMEPOINT,{key:"p8"})}},{key:"doAction",value:function(e){switch(e.payload.action){case gn.ACTIONS.VIDEOTOGGLEMUTED:this.toggleMuted();break;case gn.ACTIONS.VIDEOPLAY:this.operateVideoPlay("play");break;case gn.ACTIONS.VIDEOPAUSE:this.operateVideoPlay("pause");break;case gn.ACTIONS.VIDEOSTOP:this.operateVideoPlay("stop")}}},{key:"operateVideoPlay",value:function(e){if(["play","pause","stop","seek"].includes(e)){this.setState({autoplay:"play"===e});var t=this.getElementById("video");(null==t?void 0:t[e])&&t[e]()}}},{key:"reportVideoPlay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.baseType===gn.VIDEO_TYPES.AD&&this.emitAdCustomEvent(gn.CUSTOM_EVENT.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:n,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}},{key:"render",value:function(){var e=this.src,t=this.poster,n=this.isShowVoice,r=this.mutedIconSrc,a=this.voiceIconSrc,i=this.voicePlacement,o=this.countDownPlacement,s=this.isShowProgress,c=this.isShowCountDown,u=this.objectFit,l=this.state,d=l.muted,f=l.loop,p=l.autoplay,h=l.countDownNumber,v=l.isEndPageShowing,g=["video-voice-box"],y=["video-count-down"];return g.push("video-voice-box-"+i),y.push("video-count-down-"+o),'\n      <view id="container" class="video">\n        <video\n          id="video"\n          class="video-context"\n          src="'+e+'"\n          poster="'+t+'"\n          controls="false"\n          muted="'+d+'"\n          loop="'+f+'"\n          autoplay="'+p+'"\n          auto-insert="false"\n          under-game-view="false"\n          show-progress="false"\n          show-play-btn="false"\n          show-center-play-btn="false"\n          show-fullscreen-btn="false"\n          enable-progress-gesture="false"\n          object-fit="'+u+'"\n        >\n          '+(!v&&n?'\n            <view id="videovoicebox" bubble-event="false" class="'+g.join(" ")+'">\n              <image\n                src="'+(d?r:a)+'"\n                id="videovoiceimg"\n                class="video-voice-icon"\n              ></image>\n            </view>\n          ':"")+"\n          "+(s?'\n            <view id="video-progress" class="video-progress">\n              <view id="video-progress-played" class="video-progress-played"></view>\n            </view>\n          ':"")+"\n          "+(!v&&c&&h?'\n            <text id="video-count-down" class="'+y.join(" ")+'" value="'+h+'"></text>\n          ':"")+"\n        </video>\n      </view>\n    "}}]),n}(Sn);function Un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}var Gn=function(e){Object(l.default)(n,e);var t=Un(n);function n(e){var r;return Object(s.default)(this,n),(r=t.call(this,e)).style={".feedback-icon":{width:6,height:4,marginLeft:2,position:"relative"},".close-icon":{width:6,height:6,marginLeft:2,position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2},".feedback-hot-click":{position:"absolute",top:-10,left:-10,right:-10,bottom:-10},".feedback-tag-text":{fontSize:10,height:12,lineHeight:12,color:"#fff"},".feedback-list":{position:"absolute",width:134,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:4,zIndex:1000011},".feedback-list-bottomleft":{top:26,left:6},".feedback-list-bottomright":{top:26,right:6},".feedback-list-topleft":{bottom:26,left:6},".feedback-list-topright":{bottom:26,right:6},".feedback-btn":{position:"relative",width:132,height:32,lineHeight:32,color:"#566a97",fontSize:12,opacity:.9,textAlign:"center",zIndex:1000011},".feedback-title":{color:"#000",zIndex:1000011},".feedback-line":{width:100,height:1,opacity:.03,backgroundColor:"#000",zIndex:1000011}},r.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},r.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",r.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",r.dislikeReasonHandlers={},r.handleTagClick=function(e){if(r.baseType===gn.FEEDBACK_TYPES.SIMPLE)return r.handleSimpleTagClick(e);var t=r.state,n=t.isShowFeedback,a=t.isShowFeedbackMenu;n||a?r.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}):(r.setState({isShowFeedback:!0}),r.updateMenuPosition(),r.updateInnerStyle(),r.emitAdCustomEvent(gn.CUSTOM_EVENT.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"}),r.emitComponentEvent(gn.FEEDBACK_EVENT.TAGTAP,{event:e}))},r.handleDislikeClick=function(e){r.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),r.updateMenuPosition(),r.updateInnerStyle(),r.emitComponentEvent(gn.FEEDBACK_EVENT.DISLIKETAP,{event:e})},r.handleFeedbackBtnClick=function(e){r.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),r.emitComponentEvent(gn.FEEDBACK_EVENT.FEEDBACKBTNTAP,{event:e}),r.emitAdCustomEvent(gn.CUSTOM_EVENT.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉"}),r.emitAdCustomEvent(gn.CUSTOM_EVENT.FEEDBACKBTNTAP)},r.checkUseApx(),r.baseType=r.options.baseType||gn.FEEDBACK_TYPES.COMMON,r.bindEvent(),r.updateInnerStyle(),r}return Object(c.default)(n,[{key:"destroy",value:function(){Object($t.default)(Object(f.default)(n.prototype),"destroy",this).call(this),this.unbindEvent()}},{key:"bindEvent",value:function(){this.onClick("feedbackTagContainer",this.handleTagClick),this.onClick("feedbackBtn",this.handleFeedbackBtnClick),this.onClick("dislike",this.handleDislikeClick),this.dislikeReasonHandlers={isdismatch:this.onClick("isdismatch",this.handleDislikeReasonClick.bind(this,1)),isduplicate:this.onClick("isduplicate",this.handleDislikeReasonClick.bind(this,5)),isbadad:this.onClick("isbadad",this.handleDislikeReasonClick.bind(this,4))}}},{key:"unbindEvent",value:function(){this.offClick("feedbackTagContainer",this.handleTagClick),this.offClick("feedbackBtn",this.handleFeedbackBtnClick),this.offClick("dislike",this.handleDislikeClick);for(var e=0,t=Object.keys(this.dislikeReasonHandlers);e<t.length;e++){var n=t[e],r=this.dislikeReasonHandlers[n];this.offClick(n,r)}}},{key:"updateMenuPosition",value:function(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}},{key:"handleSimpleTagClick",value:function(e){this.emitAdCustomEvent(gn.CUSTOM_EVENT.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this.emitAdCustomEvent(gn.CUSTOM_EVENT.HIDEAD),this.emitComponentEvent(gn.FEEDBACK_EVENT.TAGTAP,{event:e})}},{key:"handleDislikeReasonClick",value:function(e,t){this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(gn.FEEDBACK_EVENT.DISLIKEREASONTAP,{event:t}),this.emitAdCustomEvent(gn.CUSTOM_EVENT.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e});var n=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===n?this.emitAdCustomEvent(gn.CUSTOM_EVENT.SHOWFEEDBACK):"hide"===n&&this.emitAdCustomEvent(gn.CUSTOM_EVENT.HIDEAD)}},{key:"render",value:function(){var e=this.state,t=e.isShowFeedback,n=e.isShowFeedbackMenu,r=e.position,a=["feedback-list"],i=["feedback-list"];r&&(a.push("feedback-list-"+r.toLowerCase()),i.push("feedback-list-"+r.toLowerCase()));var o=this.baseType===gn.FEEDBACK_TYPES.SIMPLE?this.closeIconSrc:this.feedbackIconSrc;return'\n      <view id="container" class="feedback" bubble-event="false">\n        <view id="feedback-tag-container" class="feedback-tag-container">\n          <text id="feedback-tag" class="feedback-tag-text" value="广告"></text>\n          <image id="feedback-icon" class="'+(this.baseType===gn.FEEDBACK_TYPES.SIMPLE?"close-icon":"feedback-icon")+'" src="'+o+'"></image>\n        </view>\n        '+(t?'\n          <view id="menu1" key="menu1" class="'+a.join(" ")+'">\n            <text class="feedback-btn feedback-title" value="由赞助商提供的内容"></text>\n            <view class="feedback-line"></view>\n            <text id="dislike" class="feedback-btn" value="不感兴趣"></text>\n            <view class="feedback-line"></view>\n            <text id="feedback-btn" class="feedback-btn" value="投诉"></text>\n          </view>\n        ':"")+"\n        "+(n?'\n          <view id="menu2" key="menu2" class="'+i.join(" ")+'">\n            <text id="isdismatch" class="feedback-btn" value="与我无关"></text>\n            <view class="feedback-line"></view>\n            <text id="isduplicate" class="feedback-btn" value="重复收到多次"></text>\n            <view class="feedback-line"></view>\n            <text id="isbadad" class="feedback-btn" value="内容太差"></text>\n          </view>\n        ':"")+"\n      </view>\n    "}}]),n}(Sn);function Hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}var Yn=function(e){Object(l.default)(n,e);var t=Hn(n);function n(e){var r;Object(s.default)(this,n),(r=t.call(this,e)).style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5}},r.state={isShowEndPage:!1},r.children=[],r.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",r.showTime=0,r.backgroundImage="",r.exposured=!1,r.viewableExposured=!1,r.viewableExposureTimer=null,r.handleAdCustomListener=function(e){switch(e.action){case gn.CUSTOM_EVENT.SHOWENDPAGE:r.setState({isShowEndPage:!0}),r.emitAdCustomEvent(gn.CUSTOM_EVENT.ENDPAGESHOW),r.showTime=Date.now(),!r.exposured&&r.reportEndPageExposure(),r.exposured=!0,r.viewableExposured||(r.viewableExposureTimer=setTimeout((function(){!r.viewableExposured&&r.reportEndPageExposure(!0)}),1e3)),r.emitComponentEvent(gn.ENDPAGE_EVENT.SHOW);break;case gn.CUSTOM_EVENT.APPENTERBACKGROUND:r.state.isShowEndPage&&r.reportEndPageDuration();break;case gn.CUSTOM_EVENT.APPENTERFOREGROUND:r.state.isShowEndPage&&(r.showTime=Date.now());break;case gn.CUSTOM_EVENT.ADSHOWHALF:r.state.isShowEndPage&&(r.showTime=Date.now(),r.viewableExposured||(r.viewableExposureTimer=setTimeout((function(){!r.viewableExposured&&r.reportEndPageExposure(!0)}),1e3)));break;case gn.CUSTOM_EVENT.ADHIDEHALF:r.state.isShowEndPage&&(r.reportEndPageDuration(),r.viewableExposureTimer&&(clearTimeout(r.viewableExposureTimer),r.viewableExposureTimer=null))}},r.handleReplay=function(){r.setState({isShowEndPage:!1}),r.emitAdCustomEvent(gn.CUSTOM_EVENT.ENDPAGEHIDE),r.emitComponentEvent(gn.ENDPAGE_EVENT.HIDE),r.reportEndPage({act_type:1003}),r.emitComponentEvent(gn.ENDPAGE_EVENT.REPLAY)},r.handleContainerClick=function(e){var t;r.reportEndPage({act_type:1002}),null===(t=r.reporter)||void 0===t||t.handleClick(e,2)};var a=r.getAdData();return r.cardInfo=Object(R.get)(a,["crtInfo",0,"card_info"],{}),r.cardInfo.end_page_type?(r.backgroundImage=r.cardInfo.head_bg_img,r.setStyle("refresh",{padding:"13apx 12apx"}),r.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),r.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),r.children=r.getChildren(),r.bindEvent(),r.updateInnerStyle(),setTimeout((function(){r.emitAdCustomEvent(gn.CUSTOM_EVENT.ENDPAGEINIT)}),0),r):Object(d.default)(r)}return Object(c.default)(n,[{key:"updateState",value:function(e){this.state.isShowEndPage!==e.isShowEndPage&&this.setStyle("container",{hidden:!e.isShowEndPage})}},{key:"getSubComponentProps",value:function(e,t){return Object.assign(Object.assign({},this.getCommonSubComponentProps()),{template:this.children[parseInt(t,10)]})}},{key:"bindEvent",value:function(){this.onClick("contiainer",this.handleContainerClick),this.onClick("refresh",this.handleReplay),this.addAdCustomListener(this.handleAdCustomListener)}},{key:"destroy",value:function(){Object($t.default)(Object(f.default)(n.prototype),"destroy",this).call(this),this.offClick("contiainer",this.handleContainerClick),this.offClick("refresh",this.handleReplay),this.removeAdCustomListener()}},{key:"reportEndPageDuration",value:function(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}},{key:"reportEndPageExposure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}},{key:"reportEndPage",value:function(e){this.emitAdCustomEvent(gn.CUSTOM_EVENT.REPORTENDPAGE,{data:e})}},{key:"doAction",value:function(e){e.payload.action===gn.ACTIONS.ENDPAGEHIDE&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(gn.CUSTOM_EVENT.ENDPAGEHIDE),this.emitComponentEvent(gn.ENDPAGE_EVENT.HIDE))}},{key:"getChildren",value:function(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),n={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},r={},a=this.template.id;r.feedBack={type:"feedback",id:a+"_endPageFeedback",style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:gn.ACTIONS.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},n)}}],dislikeReasonTap:[{action:gn.ACTIONS.TRIGGEREVENT,value:{eventName:gn.ENDPAGE_EVENT.VIDEODISLIKE}}]}}},r.iconBig={type:"image",id:a+"_endPageIconBig",style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},r.nickBig={type:"text",id:a+"_endPageNickBig",style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},r.descSmall={type:"text",id:a+"_endPageDescSmall",style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},r.button={type:"button",id:a+"_endPageButton",style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:gn.ACTIONS.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1001},n)}}]}}},r.iconSmall={type:"image",id:a+"_endPageIconSmall",style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},r.nickSmall={type:"text",id:a+"_endPageNickSmall",style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},r.layoutSmall={type:"layout",id:a+"_endPageLayoutSmall",style:{marginBottom:"16apx"},options:{baseType:2},children:[]},r.layoutSmall.children.push(r.iconSmall),r.layoutSmall.children.push(r.nickSmall),r.descBig={type:"text",id:a+"_endPageDescBig",style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var i=this.getDataValue("childrenConf");if(i)for(var o=0,s=Object.keys(i);o<s.length;o++){var c=s[o];r[c]&&Object(R.mergeDeep)(r[c],i[c])}var u=[];return u=2===this.cardInfo.end_page_type?[r.feedBack,r.layoutSmall,r.descBig,r.button]:[r.feedBack,r.iconBig,r.nickBig,r.descSmall,r.button],3===e?u.concat(this.template.children||[]):u}},{key:"render",value:function(){var e=this.backgroundImage,t=this.children,n=this.refreshIconSrc;return'\n      <view\n        id="container"\n        class="end"\n        bubble-event="false"\n      >\n        '+(e?'<image src="'+e+'"></image>':"")+"\n        "+t.map((function(e,t){return'\n          <CustomItem get-props="getSubComponentProps:'+t+'"></CustomItem>\n        '}))+'\n        <view id="refresh" class="end-refresh">\n          <image id="refresh-icon" class="end-refresh-icon" src='+n+"></image>\n        </view>\n      </view>\n    "}}]),n}(Sn);function qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}Yn.subComponents=function(){return{CustomItem:kn}};var Kn=function(e){Object(l.default)(n,e);var t=qn(n);function n(e){var r;return Object(s.default)(this,n),(r=t.call(this,e,{autoRegister:!1})).forType=r.options.baseType||gn.FOR_TYPES.COMMON,r.forArr=r.getDataValueWithDefault("forArr",[]),r.forType===gn.FOR_TYPES.COMMON?r.forArr=r.getDataValueWithDefault("forArr",[]):r.forType===gn.FOR_TYPES.ADS&&(r.forArr=r.getAdDatas()),r}return Object(c.default)(n,[{key:"getSubComponentProps",value:function(e,t,n){var r=this.template,a=this.forArr;return Object.assign(Object.assign({},this.getCommonSubComponentProps()),{idPrefix:this.idPrefix+(r.id||"")+t,forType:this.forType,forItem:a[Number(t)],template:r.children[Number(n)],forIndex:Number(t)})}},{key:"render",value:function(){var e=this.props.template;return"<Fragment>"+this.forArr.map((function(t,n){return e.children.map((function(e,t){return'\n        <CustomItem get-props="getSubComponentProps:'+n+":"+t+'"></CustomItem>\n      '})).join("\n")})).join("\n")+"</Fragment>"}}]),n}(Sn);Kn.subComponents=function(){return{CustomItem:kn}};var zn=n(91),Zn=1,Xn=/([+-]?\d+(?:\.\d+)?)apx/g,Jn=/([+-]?\d+(?:\.\d+)?)rpx/g,Qn=function(e){return(null==e?void 0:e.replace)?e.replace(Jn,(function(e,t){return function(e){if(0===e)return 0;var t=e/750*zn.deviceInfo.screenWidth;return t<0&&(t=-t),t=Math.floor(t+1e-4),e<0?-t:t}(Number(t))+"px"})):e};function $n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}var nr=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},rr=function(e){Object(l.default)(n,e);var t=tr(n);function n(e){var r;return Object(s.default)(this,n),(r=t.call(this,e)).style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},r.isViewable=!1,r.isPlaying=!1,r.animated=!1,r.timerSet=new Set,r.handleMaskClick=function(e){var t,n=null!=r.moveTime?(Date.now()-r.moveTime)/r.duration*r.size:0;t=r.animated?-r.animateCount*r.size+n:-n;var a=(r.isCol?e.relativeY:e.relativeX)-t,i=Math.floor(a/r.size);r.emitComponentEvent(gn.CAROUSEL_EVENT.UNITTAP,{index:i,event:e})},r.handleAdCustomEvent=function(e){var t=e.action;[gn.CUSTOM_EVENT.ADSHOWHALF].includes(t)?(r.isViewable=!0,r.autoplay()):[gn.CUSTOM_EVENT.ADHIDEHALF].includes(t)&&(r.isViewable=!1,r.clearTimers())},r.moveTime=null,r.baseType=r.options.baseType||gn.CAROUSEL_TYPES.ROWLOOP,r.showCount=r.getDataValueWithDefault("showCount",0),r.allCount=r.getDataValueWithDefault("allCount",0),r.animateCount=r.allCount-r.showCount,r.size=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?e:Qn(e);return t&&"string"==typeof t?t.replace(Xn,(function(e,t){return Number(t*Zn)+"px"})):t}(r.getDataValueWithDefault("size","0px")).replace("px",""),r.duration=r.getDataValueWithDefault("duration",1500),r.disabled=r.getDataValueWithDefault("disabled",!1),r.allIndexList=Array.from({length:r.allCount}).map((function(e,t){return t})),r.isCol=r.baseType===gn.CAROUSEL_TYPES.COLUMNLOOP,r.onClick("mask",r.handleMaskClick),r.baseType===gn.CAROUSEL_TYPES.ROWLOOP?r.initCarousel("width"):r.baseType===gn.CAROUSEL_TYPES.COLUMNLOOP&&r.initCarousel("height"),r.updateInnerStyle(),r}return Object(c.default)(n,[{key:"destroy",value:function(){Object($t.default)(Object(f.default)(n.prototype),"destroy",this).call(this),this.offClick("mask",this.handleMaskClick),this.clearTimers(),this.isViewable=!1}},{key:"initCarousel",value:function(e){this.setStyle("container",Object(y.default)({},e,this.showCount*this.size)),this.setStyle("list",Object(y.default)({},e,this.allCount*this.size)),this.addAdCustomListener(this.handleAdCustomEvent)}},{key:"clearTimers",value:function(){var e,t=$n(this.timerSet);try{for(t.s();!(e=t.n()).done;){var n=e.value;clearTimeout(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"autoplay",value:function(){return nr(this,void 0,void 0,i.a.mark((function e(){var t,n,r,a,o=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isViewable&&!this.isPlaying){e.next=2;break}return e.abrupt("return");case 2:if(t=this.baseType===gn.CAROUSEL_TYPES.ROWLOOP?"left":"top",!this.disabled){e.next=8;break}this.emitComponentEvent(gn.CAROUSEL_EVENT.SHOWCHANGE,{list:this.allIndexList.slice(0,this.showCount)||[]}),this.isPlaying=!1,e.next=29;break;case 8:if(!(this.animateCount<=0)){e.next=13;break}this.emitComponentEvent(gn.CAROUSEL_EVENT.SHOWCHANGE,{list:this.allIndexList||[]}),this.isPlaying=!1,e.next=29;break;case 13:for(this.isPlaying=!0,n=function(e){var t=o.animated,n=setTimeout((function(){o.timerSet.delete(n);var r=t?o.allIndexList.slice(o.allCount-e-o.showCount,o.allCount-e):o.allIndexList.slice(e,e+o.showCount);o.emitComponentEvent(gn.CAROUSEL_EVENT.SHOWCHANGE,{list:r})}),e*o.duration);o.timerSet.add(n)},r=0;r<this.animateCount;r+=1)n(r);return this.moveTime=Date.now(),e.prev=17,e.next=20,this.doAnimation({id:"list",emitEvent:!1,animation:{keys:[Object(y.default)({offset:0},t,this.animated?-1*this.animateCount*this.size:0),Object(y.default)({offset:1},t,this.animated?0:-1*this.animateCount*this.size)],duration:this.duration*this.animateCount,easing:"linear"}});case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(17);case 24:this.animated=!this.animated,this.isPlaying=!1,this.moveTime=null,a=setTimeout((function(){o.timerSet.delete(a),o.autoplay()}),this.duration/4),this.timerSet.add(a);case 29:case"end":return e.stop()}}),e,this,[[17,22]])})))}},{key:"getCustomItemProps",value:function(e,t){return Object.assign(Object.assign({},this.getCommonSubComponentProps()),{template:this.props.template.children[parseInt(t,10)]})}},{key:"render",value:function(){var e=this.props.template.children,t=this.baseType,n=this.allCount,r=this.showCount;return e&&e.length&&n&&r?'\n      <view id="container" class="carousel">\n        <view id="mask" class="carousel-mask"></view>\n        <view id="list" class="'+["carousel-list",t===gn.CAROUSEL_TYPES.ROWLOOP?"carousel-row":"carousel-col"].join(" ")+'">\n          '+e.map((function(e,t){return'\n            <CustomItem get-props="getCustomItemProps:'+t+'"></CustomItem>\n          '})).join("\n")+"\n        </view>\n      </view>\n    ":"<view></view>"}}]),n}(Sn);function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}rr.subComponents=function(){return{CustomItem:kn}};var ir=function(e){Object(l.default)(n,e);var t=ar(n);function n(e){var r;return Object(s.default)(this,n),(r=t.call(this,e)).style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},r.state={countdownValue:""},r.children=[],r.handleAdCustomEvent=function(e){var t=e.action,n=e.value,a=void 0===n?{}:n;if(t===gn.CUSTOM_EVENT.CHANGECOUNTDOWN){var i=r.getElementById("countdownvalue"),o=2===a.value.toString().length?18:11;r.setStyle("countdownvalue",{width:o}),i&&(i.value=a.value)}},r.children=r.getChildren(),r.updateInnerStyle(),r.addAdCustomListener(r.handleAdCustomEvent),r}return Object(c.default)(n,[{key:"destroy",value:function(){Object($t.default)(Object(f.default)(n.prototype),"destroy",this).call(this)}},{key:"getSubComponentProps",value:function(e,t){return Object.assign(Object.assign({},this.getCommonSubComponentProps()),{template:this.children[parseInt(t,10)]})}},{key:"getChildren",value:function(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),n={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},r={};r.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:gn.ACTIONS.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},n)}}],dislikeReasonTap:[{action:gn.ACTIONS.TRIGGEREVENT,value:{eventName:gn.ENDPAGE_EVENT.VIDEODISLIKE}}]},data:{}}};var a=this.getDataValue("childrenConf");if(a)for(var i=0,o=Object.keys(a);i<o.length;i++){var s=o[i];r[s]&&Object(R.mergeDeep)(r[s],a[s])}var c=[];return c=[r.feedBack],3===e?c.concat(this.template.children||[]):c}},{key:"render",value:function(){return'\n      <view id="container" class="countdown" bubble-event="false">\n        '+this.children.map((function(e,t){return'\n          <CustomItem get-props="getSubComponentProps:'+t+'"></CustomItem>\n        '}))+'\n        <view class="countdown-right">\n          <view id="split-line" class="split-line"></view>\n          <view id="countdown-container" class="countdown-container">\n            <text class="countdown-value" id="countdownvalue" value="5"></text>\n            <text class="countdown-text" value="秒"></text>\n          </view>\n        </view>\n      </view>\n    '}}]),n}(Sn);ir.subComponents=function(){return{CustomItem:kn}};var or=n(52),sr=n(81);function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}var ur=function(e){Object(l.default)(n,e);var t=cr(n);function n(){return Object(s.default)(this,n),t.apply(this,arguments)}return n}(n(115).default),lr={container:{zIndex:1000005,top:0,left:0,overflow:"hidden",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column"},adMaterialBg:{position:"absolute",hidden:!1,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"}},dr=Object.assign({},{container:{zIndex:1000005,top:0,left:0,position:"absolute",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",overflow:"hidden",backgroundColor:"#ffffff"},navigator:{hidden:!0,height:72,width:"100%",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column",overflow:"hidden"},adMaterialBg:{position:"absolute",hidden:!0,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"},adMaterialContainer:{hidden:!0,position:"absolute",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%"},adMaterialLandscape:{width:311,height:175,marginLeft:32,marginRight:32,borderRadius:8},adCardInfo:{flexDirection:"column",marginTop:32,width:311,height:150},adHeadInfo:{width:311,height:28,flexDirection:"row",alignItems:"center"},adHeadIcon:{width:16,height:16,marginRight:6,borderRadius:8},adversName:{width:88,height:28,lineHeight:28,fontSize:14,lineBreak:"ellipsis",color:"#ffffff",opacity:.6},adTitle:{marginTop:18,height:28,width:216,fontSize:24,color:"#ffffff"},appInfo:{flexDirection:"column",alignItems:"center",width:"100%",height:160,backgroundColor:"#ffffff"},appIcon:{borderRadius:24,marginTop:16,marginBottom:8,width:48,height:48},appName:{width:"100%",height:24,textAlign:"center",lineHeight:24,fontSize:17,color:"#000000"}},{adFeedbackList:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}},{topBar:{position:"absolute",justifyContent:"flex-start",flexDirection:"row",alignItems:"flex-start",left:0,top:40},adFeedback:{hidden:!1,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,color:"#ffffff",textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:8.4,height:4.9,marginTop:2,marginLeft:2.5},splitLineLeft:{width:1,height:18.5,marginLeft:8.5,marginRight:8.5,backgroundColor:"rgba(255, 255, 255, 0.25)"},count:{marginLeft:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:9,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppend:{width:15,height:32,lineHeight:32,color:"#ffffff",fontSize:14}},{card:{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:84,width:"100%"},adIcon:{borderRadius:20,opacity:.95,width:40,height:40,marginRight:8,marginBottom:12,marginLeft:16},adInformation:{marginBottom:12,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},adName:{height:24,lineHeight:24,fontSize:17,lineBreak:"ellipsis",color:"#000000",marginBottom:2},adWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:14},buttonContainer:{marginBottom:12,flex:1,flexDirection:"row",justifyContent:"flex-end",marginRight:16,marginLeft:12,overflow:"hidden"},button:{height:32,lineHeight:32,width:88,textAlign:"center",lineBreak:"ellipsis",fontSize:16,color:"#ffffff",backgroundColor:"#07c160",borderWidth:1,borderColor:"#07c160",borderRadius:3,marginRight:10,marginLeft:10}},{closeContainer:{flexDirection:"column",justifyContent:"flex-end",alignSelf:"flex-end",marginBottom:16,height:54},close:{height:32,lineHeight:32,width:60,marginLeft:12,marginRight:12,textAlign:"center",lineBreak:"ellipsis",fontSize:14,color:"#ffffff",borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"}},{tipsContainer:{marginTop:12,flex:1,height:32,width:"100%",flexDirection:"column",justifyContent:"center",overflow:"hidden"},tipsLineOne:{height:16,textAlign:"center",lineHeight:16,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11},tipsLineTwo:{height:16,lineHeight:16,textAlign:"center",lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11}},{adCloseTips:{hidden:!0,position:"absolute",overflow:"hidden",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0},adCloseTipsWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipsContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{mediaBottom:{backgroundColor:"#ffffff",borderRadius:8,height:24,width:"100%",alignSelf:"flex-end"}},{adButtonContainer:{width:375,height:64,overflow:"hidden",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.15)",borderRadius:2},adButton:{marginLeft:32,flex:1,height:28,lineHeight:28,lineBreak:"ellipsis",fontSize:17,color:"#ffffff",opacity:.9,borderRadius:3},actionIconContainer:{marginRight:32,flexDirection:"row",justifyContent:"center",alignItems:"center",width:12,height:14},actionIconWrap1:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},actionIconWrap2:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},iconArrow1:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow2:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5},iconArrow3:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow4:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5}}),fr={card:'\n  <view id="card">\n    <image id="ad-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/raphael/icon.png"></image>\n    <view id="ad-information" bubble-event="true">\n      <text id="ad-name" bubble-event="true" value="微信广告"></text>\n      <text id="ad-wording" bubble-event="true" value="本次封面广告赞助"></text>\n    </view>\n    <view id="button-container">\n      <text id="button" click-state="true" bubble-event="true" value="查看详情"></text>\n    </view>\n  </view>\n',appInfo:'\n  <view id="app-info">\n    <image id="app-icon"></image>\n    <text id="app-name"></text>\n  </view>\n',feedbackContent:'\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n',feedbackMenu:'\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n',topBar:'\n  <view id="top-bar">\n    <view id="count">\n      <view id="ad-feedback">\n        <text id="ad-text" value="广告" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" bubble-event="true"></image>\n        <view id="split-line-left" bubble-event="true"></view>\n      </view>\n      <text id="count-down" value="5"></text>\n      <text id="count-down-append" value="秒"></text>\n    </view>\n  </view>\n',close:'\n  <view id="close-container">\n    <text id="close" click-state="true" bubble-event="true" value="跳过"></text>\n  </view>\n',gameTips:'\n  <view id="tips-container">\n    <text id="tips-line-one" value="抵制不良游戏，拒绝盗版游戏。 注意自我保护，谨慎受骗上当。"></text>\n    <text id="tips-line-two" value="适度游戏益脑，沉迷游戏伤身。 合理安排时间，享受健康生活。"></text>\n  </view>\n',closeTips:'\n  <view id="ad-close-tips">\n    <view id="ad-close-tips-wrap">\n      <text id="ad-close-tips-content" bubble-event="true" value="感谢你的反馈"></text>\n    </view>\n  </view>\n',mediaBottom:'\n  <view id="media-bottom">\n  </view>\n',adHeadInfo:'\n  <view id="ad-head-info" bubble-event="true">\n    <image id="ad-head-icon" bubble-event="true" src=""></image>\n    <text id="advers-name" value="" bubble-event="true"></text>\n  </view>\n',adTitle:'\n  <text id="ad-title" value="" bubble-event="true"></text>\n',adButtonContainer:'\n  <view id="ad-button-container">\n    <text id="ad-button" bubble-event="true" value=""></text>\n    <view id="action-icon-container">\n      <view id="action-icon-wrap-1">\n        <view id="icon-arrow-1"></view>\n        <view id="icon-arrow-2"></view>\n      </view>\n      <view id="action-icon-wrap-2">\n        <view id="icon-arrow-3"></view>\n        <view id="icon-arrow-4"></view>\n      </view>\n    </view>\n  </view>\n'};function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.default)(e);if(t){var a=Object(f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.default)(this,n)}}function hr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gr=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},yr=function(){return Qt.logReport.apply(void 0,arguments)},mr=v()('\n  <view id="container">\n    <view id="navigator"></view>\n    <view id="ad-media">\n      <image id="ad-material-bg"></image>\n      <image id="ad-material" bubble-event="true"></image>\n      <view id="ad-material-container" bubble-event="true">\n        <image id="ad-material-landscape" bubble-event="true"></image>\n        <view id="ad-card-info" bubble-event="true"></view>\n      </view>\n    </view>\n  </view>\n').root,_r=0,br=0,Or=0,Er=0,Ir=0,Sr=0,Cr=0,kr=!1,Tr=!1,Ar=!1,Pr="",wr="",Dr="",Rr="",Mr=M.WX_AD_PATH+"/adinfos.txt",jr=b.IS_ANDROID?200:400,xr=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(Xt.getPrivateThis)(this),r=n.adProxy.isTriggerClick(e),a=r?0:1;return t&&Lr.call(this,e,a),r},Lr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Object(Xt.getPrivateThis)(this);if(r.container&&r.container.layoutBox){var a=r.container.layoutBox,i=a.width,o=a.height,s=0;[0,2,3].includes(n)&&(r.clickCount+=1,s=r.clickCount);var c={slotid:M.POS_ID_MAP[r.adType],costtype:(null===(t=r.adProxy.data)||void 0===t?void 0:t.is_cpm)?1:2,click_time:Date.now(),click_cnt:s,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:parseInt(i,10)||0,ad_height:parseInt(o,10)||0,press_interval:e.pressInterval,block_click:n};return r.adProxy.reportTouchClick(c)}},Nr=function(){var e=Object(Xt.getPrivateThis)(this),t=!1;return(0===e.startExposureTime||+new Date-e.startExposureTime<1e3)&&(t=!0),t},Br=function(e,t){var n,r=Object(Xt.getPrivateThis)(this),a=r.container.style,i=a.width,o=a.height,s={click_button:e,cost_type:(null===(n=r.adProxy.data)||void 0===n?void 0:n.is_cpm)?1:2,slotid:M.POS_ID_MAP[r.adType],is_game:kr?1:0,pageentertime:+new Date(r.adProxy.getProgramStartTime()),ad_width:parseInt(i,10)||0,ad_height:parseInt(o,10)||0,clientexptime:r.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:parseInt(t.absoluteX,10)||0,pos_y:parseInt(t.absoluteY,10)||0,screen_width:_r,screen_height:br};return r.adProxy.reportAntifraud(s)},Fr=function(e){var t=Object(Xt.getPrivateThis)(this),n=e.then((function(e){return/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0})).catch((function(){return t.adProxy.reportFollow({result:"fail"})}));yr(n,"splashAd","关注")},Vr=function(e){var t,n=Object(Xt.getPrivateThis)(this),r=+new Date,a={slotid:M.POS_ID_MAP[n.adType],is_game:kr?1:0,costtype:(null===(t=n.adProxy.data)||void 0===t?void 0:t.is_cpm)?1:2,close_type:e,exposure_duration:r-n.startExposureTime-n.hideDuration,start_time:n.startExposureTime,close_time:r};return n.adProxy.reportCloseAction(a)},Wr=function(e){var t,n=Object(Xt.getPrivateThis)(this),r={slotid:M.POS_ID_MAP[n.adType],is_game:kr?1:0,costtype:(null===(t=n.adProxy.data)||void 0===t?void 0:t.is_cpm)?1:2,button_type:e};return n.adProxy.reportAdEntranceExposure(r)},Ur=function(e){var t=e.firstGradeId,n=void 0===t?1:t,r=e.firstGradeDesc,a=void 0===r?"广告角标":r,i=e.secondGradeId,o=void 0===i?0:i,s=e.secondGradeDesc,c=void 0===s?"":s,u=e.feedbackReason,l=void 0===u?0:u,d=Object(Xt.getPrivateThis)(this);n&&!o&&(d.clickFirstGradeTime=+new Date),d.adProxy.reportAdFeedbackData({adWidth:_r,adHeight:br,adPosX:0,adPosY:0,expTime:d.startExposureTime,slotId:M.POS_ID_MAP[d.adType],firstGradeId:n,firstGradeDesc:a,firstGradeTime:n?d.clickFirstGradeTime:0,secondGradeId:o,secondGradeDesc:c,secondGradeTime:o?+new Date:0,feedbackReason:l})},Gr=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=Object(Xt.getPrivateThis)(this);if(r.isShowed){if(!r.data||!r.container.layoutBox)return Object(Qt.timeout)(100).then((function(){return e.call(t,n)}));var a=r.container.layoutBox,i=a.left,o=a.top,s=a.width,c=a.height;if(!r.isShowedExposureReported){r.isShowedExposureReported=!0,r.startExposureTime=+new Date,r.adProxy.setTimePoint("p6");var u=m.default.onReady((function(){r.adProxy.reportExposure({left:i,top:o,width:s,height:c,exposureType:"showed",source:r.source});var e="launch"===r.source?M.SPLASHAD_IDKEY.firstShowSuccess:M.SPLASHAD_IDKEY.secondShowSuccess;r.adProxy.reportAdMonitorData(e)}));yr(u,"splashAd","原始")}if(!r.isViewableExposureReported){if(!n)return Object(Qt.timeout)(1e3).then((function(){return e.call(t,!0)}));r.adProxy.setTimePoint("p7"),r.isViewableExposureReported=!0,r.adProxy.isViewable=!0;var l=r.adProxy.reportExposure({left:i,top:o,width:s,height:c,exposureType:"viewable",source:r.source});yr(l,"splashAd","可视")}}},Hr=function(e){var t=Object(Xt.getPrivateThis)(this);if(t.container&&t.container.layoutBox){var n=t.container.layoutBox,r=n.left,a=n.top,i=n.width,o=n.height,s=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-r,clickRelativeTop:e.absoluteY-a,pressInterval:e.pressInterval,left:r,top:a,width:i,height:o,source:t.source});return yr(s,"splashAd","点击"),s}},Yr=function(e,t){var n=this,r=Object(Xt.getPrivateThis)(this),a=r.data,i=a.appInfo,o=i.apkName,s=i.channelId,c=i.urlScheme,u=a.product_type,l=a.dest_type;if(12===u&&b.IS_ANDROID&&4===r.androidAppState&&c&&c.trim().length>0)Hr.call(this,e),Br.call(this,t,e),r.adProxy.launchApplication(c).catch((function(){})),r.lastJsapiName="launchApplication",r.isLandingPage=!0;else if(12===u&&b.IS_ANDROID&&r.isYYBInstalled){Hr.call(this,e),Br.call(this,t,e);var d=r.adProxy.data,f=d.aid,p=d.traceid,h=d.apurl,v=["ANDROIDWX.YYB.WX.ADVERTISE",p,f,o.replace(/\./g,"_"),"0",15,h.indexOf("ad.wx.com")>-1?1:0].join("."),g="tmast://download?oplist=1,2&pname="+o+"&channelid="+s+"&via="+v;r.adProxy.launchApplication(g).catch((function(){qr.call(n)})),r.lastJsapiName="launchApplication",r.isLandingPage=!0}else b.IS_IOS&&46===u&&6===l?Promise.race([Hr.call(this,e),Object(Qt.timeout)(500)]).then((function(){Br.call(n,t,e),qr.call(n)})).catch((function(){Br.call(n,t,e),qr.call(n)})):(Hr.call(this,e),Br.call(this,t,e),qr.call(this))},qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Xt.getPrivateThis)(this),n=t.adProxy.land(e);return 23===t.data.product_type&&e&&e.isButton&&!t.adProxy.data.biz_info.is_subscribed?(n.then((function(e){var n,r=/ok/.test(e.errMsg);r&&t.adProxy.data.biz_info&&(t.adProxy.data.biz_info.is_subscribed=1),e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var a=+new Date;t.lastJsapiStatus=0,t.lastJsapiCostTime=a-t.lastLandingTime,"private_addContact"===t.lastJsapiName&&t.adProxy.reportLandingTime({slotId:M.POS_ID_MAP[t.adType],costType:(null===(n=t.adProxy.data)||void 0===n?void 0:n.is_cpm)?1:2,openTime:t.lastLandingTime,closeTime:a,stayTime:t.lastJsapiCostTime,jsapiName:t.lastJsapiName,clickTime:t.lastLandingTime,clkCnt:t.clickCount,retCode:t.lastJsapiStatus,costTime:t.lastJsapiCostTime,actTypeInt:r?2:3,actTypeStr:r?"关注":"取消"})})).catch((function(){t.lastJsapiStatus=1})),Fr.call(this,n)):n.then((function(e){e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===t.lastJsapiName||"navigateToMiniProgram"===t.lastJsapiName||"openADCanvas"===t.lastJsapiName||"launchApplication"===t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((function(e){t.lastJsapiStatus=1,t.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.landingPageFail,{source:t.source,msg:e})})),n},Kr=function(e){var t,n=Object(Xt.getPrivateThis)(this),r=hr(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a]&&clearTimeout(n[a])}}catch(e){r.e(e)}finally{r.f()}},zr=function(){var e,t=Object(Xt.getPrivateThis)(this);t.eventsMap={},(null===(e=t.appInfo)||void 0===e?void 0:e.style)&&(t.appInfo.style.top=16),t.componentsRenderred=!1,t.firstInserted=!1,t.adFeedbackInserted=!1,t.isDynamic=!1,t.isShowedExposureReported=!1,t.startExposureTime=0,t.isViewableExposureReported=!1,t.isShowed=!1,t.adProxy.isViewable=!1,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.isClosing=!1,t.isShowCloseTip=!1,t.clickFirstGradeTime=0,t.source="",Kr.call(this,["countTimer"]),m.default.onReady((function(){var e,n,r;t.adProxy.reportTimePoints({slotid:M.POS_ID_MAP[t.adType],costtype:(null===(e=t.adProxy.data)||void 0===e?void 0:e.is_cpm)?1:2,splash_instance_id:null===(n=t.showInfo)||void 0===n?void 0:n.instanceId,scene:null===(r=t.showInfo)||void 0===r?void 0:r.scene,extInfo:{adInfos:t.adInfos}})}))},Zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t&&Vr.call(this,t),Object(D.closeSplashAd)(e)},Xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Xt.getPrivateThis)(this);return t.adProxy.fetch(!1,e).catch((function(){}))},Jr=function(){var e=Object(Xt.getPrivateThis)(this);if((b.IS_ANDROID||b.IS_IOS)&&!Ar)try{e.adFetchResult=Xr.call(this),e.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.OTHER_ADS_EMIT_FETCH)}catch(e){}},Qr=function(){var e,t=Object(Xt.getPrivateThis)(this).data||{},n={};if(null===(e=t.crtInfo)||void 0===e?void 0:e.card_info)n=t.crtInfo.card_info;else if(t.crtInfo&&t.crtInfo.length>0){var r=t.crtInfo?t.crtInfo[0]:{};n=(null==r?void 0:r.card_info)?r.card_info:{}}return n},$r=function e(){var t=this,n=Object(Xt.getPrivateThis)(this),r=5e3-(+new Date-n.startExposureTime-n.hideDuration);if(r>=0){var a=Math.ceil(r/1e3).toString();n.countDown&&(n.countDown.value=a),n.tplComponent&&n.tplComponent.emitAdCustomEvent(or.CUSTOM_EVENT.CHANGECOUNTDOWN,{value:a}),n.countTimer&&clearTimeout(n.countTimer),n.countTimer=setTimeout((function(){e.call(t)}),1e3)}else"launch"===n.source&&n.isShowedExposureReported&&(n.isDynamic&&n.tplComponent.hide(),Zr.call(this,{source:n.source,animated:!0},12))},ea=function(){var e,t=Object(Xt.getPrivateThis)(this);if("launch"===t.source)t.topBar&&Er&&(t.topBar.style.top=Er,t.adFeedbackMenu.style.top=Er+34,t.adFeedbackList.style.top=Er+34),t.closeContainer&&(t.closeContainer.style.marginTop=Ir-68),t.appInfo&&(t.appInfo.style.height=Sr,t.appInfo.style.width=_r,t.isDarkMode&&(t.appInfo.style.backgroundColor="#191919",t.container.style.backgroundColor="#191919")),t.appIcon&&(t.appIcon.src=t.showInfo.appIcon,t.appIcon.style.marginTop=kr?16:28),t.appName&&(t.appName.value=t.showInfo.appName,t.appName.style.width=_r,t.appName.style.color=t.isDarkMode?"#ffffff":"#000000"),t.tipsContainer&&(t.tipsContainer.style.height=32,t.tipsContainer.style.width=_r,t.tipsLineOne.style.width=_r,t.tipsLineOne.style.color=t.isDarkMode?"#ffffff":"#000000",t.tipsLineTwo.style.color=t.isDarkMode?"#ffffff":"#000000"),t.adCloseTips&&(t.adCloseTips.style.height=br-Sr,t.adCloseTips.style.width=_r);else if("menu"===t.source){if(!t.data)return;var n=t.data,r=Qr.call(this),a=Object(ne.getSystemInfoSync)();t.adIcon.src=r.thumb,t.adName.value=r.title,(null===(e=n.button_action)||void 0===e?void 0:e.button_text)&&(t.button.value=n.button_action.button_text),a.screenTop&&a.screenTop>0?Or=a.screenTop:Or&&0!==Or||(Or=88*br/812),t.navigator.style.height=Or,t.navigator.style.backgroundColor=t.isDarkMode?"#191919":"#ffffff",t.card.style.backgroundColor=t.isDarkMode?"#191919":"#ffffff",t.card.style.width=_r,t.card.style.height=Sr-Or,t.adName.style.color=t.isDarkMode?"#ffffff":"#000000",t.adWording.style.color=t.isDarkMode?"#ffffff":"#000000",t.mediaBottom&&(t.mediaBottom.style.marginTop=Ir-12,t.mediaBottom.style.width=_r,t.mediaBottom.style.backgroundColor=t.isDarkMode?"#191919":"#ffffff")}if("landscape"===t.crtOrientation){var i=t.data||{},o=Qr.call(this);if(o&&t.adHeadInfo&&(t.adHeadIcon.src=o.thumb||"",t.adversName.value=o.title||"",t.adHeadInfo.style.width=_r/375*311,t.adversName.style.width=_r/375*311),i.hint_txt&&t.adTitle&&i.crt_size!==M.CRT_SIZE.CRT_SIZE_BIG_PIC?(t.adTitle.value=i.hint_txt,t.adTitle.style.width=_r/375*311):o.description&&t.adTitle?(t.adTitle.value=o.description,t.adTitle.style.width=_r/375*311):t.adTitle&&i.product_type&&M.BIG_PIC_TITLE_MAP[i.product_type]&&(t.adTitle.value="今日"+M.BIG_PIC_TITLE_MAP[i.product_type]+"推荐",t.adTitle.style.width=_r/375*311),i.button_action&&t.adButtonContainer){t.adButton.value=i.button_action.button_text,t.adButtonContainer.style.width=_r,t.closeContainer&&(t.closeContainer.style.marginTop=Ir-132);var s={text:i.button_action.button_text,fontSize:17},c=Object(R.measureText)(s)||80;t.adButton.style.width=c+8,t.adButton.style.width+12>100&&(t.adButton.style.width=t.adButton.style.width+12)}}},ta=function(e){var t=Object(Xt.getPrivateThis)(this);if(t.dynamicElems||(t.dynamicElems={}),t.dynamicEmitter||oa.call(this),!t.dynamicElems.root){var n=t.data.adDynamicList,r=ra.call(this,{tpl:n,source:e}),a=r.getRootElement();t.dynamicElems.root=a,t.container.add(t.dynamicElems.root),r.show(),t.tplComponent=r,t.tplComponent.emitComponentEvent(sr.ROOT_EVENT.SPLASHADFIRSTRENDER)}},na=function(){var e="",t=Object(Xt.getPrivateThis)(this).adProxy.data,n=Qr.call(this);return t.hint_txt&&t.crt_size!==M.CRT_SIZE.CRT_SIZE_BIG_PIC?e=t.hint_txt:n.description?e=n.description:t.product_type&&M.BIG_PIC_TITLE_MAP[t.product_type]&&(e="今日"+M.BIG_PIC_TITLE_MAP[t.product_type]+"推荐"),e},ra=function(e){var t=e.tpl,n=e.source,r=Object(Xt.getPrivateThis)(this),a=r.adProxy.data,i=na.call(this),o=Qr.call(this);return Object(en.render)(An,{manager:null,reporter:null,emitter:r.dynamicEmitter,adProxy:r.adProxy,template:t,systemInfo:{screenWidth:_r,screenHeight:br},adData:a,adCustomId:"dynamic",isEmpty:!1,scope:{rightButtonTop:Er||40,source:n,screenTop:Or||88*br/812,isDarkMode:r.isDarkMode,adTitle:i||"",cardInfo:o,materialFile:Pr,materialBgFile:Dr,materialBlurFile:Rr,private:r,appIcon:r.showInfo.appIcon,appName:r.showInfo.appName}},!1)},aa=function(e){var t=Object(Xt.getPrivateThis)(this);xr.call(this,e,!1)&&(Nr.call(this)||"launch"===t.source&&Zr.call(this,{source:t.source,animated:!0},11))},ia=function(e){var t=this,n=Object(Xt.getPrivateThis)(this);switch(e.action){case or.CUSTOM_EVENT.LANDAD:var r=e.value,a=r.event,i=r.index;if(!xr.call(this,a,13===i))return;13===i&&Yr.call(this,a,i),Zr.call(this,{source:n.source,animated:!1},i),16===i&&(n.isLandingPage=!0,Object(Qt.timeout)(jr).then((function(){return Yr.call(t,a,i)})));break;case or.CUSTOM_EVENT.CHECKEXPOSURE:n.dynamicRendered=!0,n.isShowedExposureReported||Gr.call(this),n.countTimer||$r.call(this);break;case or.CUSTOM_EVENT.FEEDBACKREPORT:Ur.call(this,e.value);break;case or.CUSTOM_EVENT.FEEDBACKBTNTAP:n.data&&n.adProxy.openFeedbackUrl(1014);break;case or.CUSTOM_EVENT.REPORTMMDATA:e.value.id&&e.value.data&&n.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case or.CUSTOM_EVENT.SPLASHSKIPAD:var o=e.value.event;aa.call(this,o);break;case or.CUSTOM_EVENT.REPORTADMONITORDATA:var s=null==e?void 0:e.value,c=s.id,u=s.key,l=s.extInfo,d=c?{idKeyGroup:c,idKey:u}:u;n.adProxy.reportAdMonitorData(d,l)}},oa=function(){var e=this,t=Object(Xt.getPrivateThis)(this);t.dynamicEmitter=new ur,t.dynamicEmitter.on("adCustomEvent",(function(t){ia.call(e,t)}))},sa=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object(Xt.getPrivateThis)(this);e.forEach((function(e){var n=v()(fr[e.name]).root,a=Xt.create.call(t,n);r[e.parent].add(a)})),r.componentsRenderred=!0,ea.call(this),n&&ca.call(this)},ca=function(){var e=this,t=Object(Xt.getPrivateThis)(this);t.adFeedback&&!t.eventsMap.adFeedback&&t.adFeedback.on("click",(function(n){xr.call(e,n,!1)&&(t.adFeedbackList.style.hidden=!t.adFeedbackMenu.style.hidden||!t.adFeedbackList.style.hidden,t.adFeedbackMenu.style.hidden=!0,t.adFeedbackList.style.hidden||Ur.call(e,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),t.adFeedbackBtn&&!t.eventsMap.adFeedbackBtn&&t.adFeedbackBtn.on("click",(function(n){xr.call(e,n,!1)&&(t.adFeedbackList.style.hidden=!0,Ur.call(e,{secondGradeId:1,secondGradeDesc:"投诉"}),"launch"===t.source&&Zr.call(e,{source:t.source,animated:!0},17),t.data&&t.adProxy.openFeedbackUrl(1014))})),t.adDislikeBtn&&!t.eventsMap.adDislikeBtn&&t.adDislikeBtn.on("click",(function(n){xr.call(e,n,!1)&&(t.adFeedbackList.style.hidden=!0,t.adFeedbackMenu.style.hidden=!1,Ur.call(e,{secondGradeId:2,secondGradeDesc:"不感兴趣"}))})),t.adQualityBtn&&!t.eventsMap.adQualityBtn&&t.adQualityBtn.on("click",(function(n){xr.call(e,n,!1)&&(t.adFeedbackMenu.style.hidden=!0,Ur.call(e,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),"launch"===t.source&&Zr.call(e,{source:t.source,animated:!0},17))})),t.adDuplicateBtn&&!t.eventsMap.adDuplicateBtn&&t.adDuplicateBtn.on("click",(function(n){xr.call(e,n,!1)&&(t.adFeedbackMenu.style.hidden=!0,Ur.call(e,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),"launch"===t.source&&Zr.call(e,{source:t.source,animated:!0},17))})),t.adDismatchBtn&&!t.eventsMap.adDismatchBtn&&t.adDismatchBtn.on("click",(function(n){xr.call(e,n,!1)&&(t.adFeedbackMenu.style.hidden=!0,Ur.call(e,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),"launch"===t.source&&Zr.call(e,{source:t.source,animated:!0},17))})),t.closeContainer&&!t.eventsMap.closeContainer&&t.closeContainer.on("click",(function(n){xr.call(e,n,!1)&&(Nr.call(e)||"launch"===t.source&&Zr.call(e,{source:t.source,animated:!0},11))})),t.adMedia&&!t.eventsMap.adMedia&&t.adMedia.on("click",(function(t){ua.call(e,t,"adMedia")})),t.adButtonContainer&&!t.eventsMap.adButtonContainer&&t.adButtonContainer.on("click",(function(t){ua.call(e,t,"button")})),t.buttonContainer&&!t.eventsMap.buttonContainer&&t.buttonContainer.on("click",(function(n){if(xr.call(e,n,!1))return t.data?(Zr.call(e,{source:t.source,animated:!1},16),t.isLandingPage=!0,Object(Qt.timeout)(jr).then((function(){return Yr.call(e,n,16)}))):void 0}));for(var n=0,r=["adFeedback","adFeedbackBtn","adDislikeBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn","closeContainer","adMedia","buttonContainer","adButtonContainer"];n<r.length;n++){var a=r[n];t[a]&&!t.eventsMap[a]&&(t.eventsMap[a]=!0)}},ua=function(e){var t,n,r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=Object(Xt.getPrivateThis)(this),o=(null===(n=null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.condition)||void 0===n?void 0:n.widget_gray_splash_click_area_switch)||0;if((!o||"button"===a)&&xr.call(this,e,!1))return i.data&&"launch"===i.source?!kr||b.IS_ANDROID?(Yr.call(this,e,13),Object(Qt.timeout)(200).then((function(){return Zr.call(r,{source:i.source,animated:!1},13)}))):(Zr.call(this,{source:i.source,animated:!1},13),Yr.call(this,e,13)):void 0},la=function(){var e=Object(Xt.getPrivateThis)(this);if(e.data){var t=Qr.call(this);t&&"launch"===e.source&&Object(D.showSplashAdMenu)({showMenu:!0,title:t.title,icon:t.thumb,success:function(){e.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.showSplashAdMenuSuccess)},fail:function(t){e.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.showSplashAdMenuFail,{msg:t})}})}},da=function(){var e,t=Object(Xt.getPrivateThis)(this);try{var n=(null===(e=t.data)||void 0===e?void 0:e.aid)||"";t.adProxy.data&&t.adInfos&&t.adInfos.waidMap&&(t.adProxy.data.waid=t.adInfos.waidMap[n])}catch(e){}},fa=function(){var e=Object(Xt.getPrivateThis)(this);if(!e.data||""===e.data||"object"!==Object(p.default)(e.data)){var t=D.fs.readFileSync(wr,"utf-8");try{var n=JSON.parse(t);e.data=n,e.adProxy.data=n}catch(t){m.default.onReady((function(){e.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.readFileDataFail,{source:e.source,msg:t})}))}}},pa=function(){var e=Object(Xt.getPrivateThis)(this);if("launch"===e.source){sa.call(this,[{parent:"adMedia",name:"topBar"}],!0),e.adFeedbackInserted=!0}},ha=function(){var e=Object(Xt.getPrivateThis)(this);if("launch"===e.source){var t=[{parent:"container",name:"appInfo"},{parent:"adMedia",name:"feedbackContent"},{parent:"adMedia",name:"feedbackMenu"},{parent:"adMedia",name:"close"},{parent:"container",name:"closeTips"}];"landscape"===e.crtOrientation&&(t=t.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"},{parent:"adMedia",name:"adButtonContainer"}])),(b.IS_ANDROID||Er>0)&&(t.push({parent:"adMedia",name:"topBar"}),e.adFeedbackInserted=!0),e.showInfo.isGame&&t.push({parent:"appInfo",name:"gameTips"}),sa.call(this,t,!0),Object(D.splashAdAllViewLayoutStateChange)({state:0}),g.nativeviewLayout.layout().then((function(){Object(D.splashAdAllViewLayoutStateChange)({state:1}),g.nativeviewLayout.auto=!0})).catch((function(t){m.default.onReady((function(){e.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.secondInsertFail,{source:e.source,msg:t})}))}))}},va=function(){var e=Object(Xt.getPrivateThis)(this);Sr=Math.max(160,160*br/812),Ir=br-Sr,e.adMedia.style.width=_r,e.adMedia.style.height=Ir;var t=9*br/16;e.adMaterial.style.width=t,e.adMaterial.style.height=br,e.adMaterial.style.left=t>_r?(_r-t)/2:0,"portrait"===e.crtOrientation?e.adMaterial.src=Pr:"landscape"===e.crtOrientation&&(e.adMaterialBg.style.hidden=!1,e.adMaterialContainer.style.hidden=!1,e.adMaterial.style.width=_r,e.adMaterial.style.height=Ir,e.adMaterial.style.left=0,e.adMaterialContainer.style.width=_r,e.adMaterialContainer.style.height=Ir,e.adMaterial.src=Dr,e.adMaterialBg.style.width=.45*br*16/9,e.adMaterialBg.style.height=.45*br,e.adMaterialBg.style.left=-(.45*br*16/9-_r)/2,e.adMaterialLandscape.style.width=_r/375*311,e.adMaterialLandscape.style.height=_r/375*175,e.adMaterialBg.src=Pr,e.adMaterialLandscape.src=Pr,e.adCardInfo.style.width=_r/375*311,e.adCardInfo.style.marginLeft=8),e.adMaterial.scale=br/1920},ga=function(e){var t,n=this,r=Object(Xt.getPrivateThis)(this);if(r.showInfo=e,r.source=e.source,r.isDarkMode=e.isDarkMode||!1,e.isGame&&(kr=e.isGame),_r=e.screenWidth,br=e.screenHeight,null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.adDynamicList){var a=v()('\n  <view id="container">\n  </view>\n').root;Jt.call(this,a,lr),r.isDynamic=!0,ta.call(this,e.source)}else Jt.call(this,mr,dr),va.call(this);if(r.container.style.width=_r,r.container.style.height=br,r.container.style.backgroundColor=r.isDarkMode?"#191919":"#ffffff",g.nativeviewLayout.add(r.container),!r.isDynamic)try{D.fs.access({path:Rr,success:function(){r.adMaterialBg.src=Rr}})}catch(e){}var i=[];"menu"!==r.source||r.isDynamic||(fa.call(this),i=[{parent:"container",name:"card"},{parent:"adMedia",name:"mediaBottom"}],"landscape"===r.crtOrientation&&(i=i.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"}])),r.navigator.style.hidden=!1,sa.call(this,i,!0)),Object(D.splashAdFirstStepViewLayoutStateChange)({state:0}),g.nativeviewLayout.layout().then((function(){if(r.firstInserted=!0,r.isShowed=!0,Object(D.splashAdFirstStepViewLayoutStateChange)({state:1}),"launch"!==r.source||r.isDynamic)g.nativeviewLayout.auto=!0,r.container.requestLayout();else try{ha.call(n)}catch(e){m.default.onReady((function(){r.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.secondRenderFail,{source:r.source,msg:e})}))}})).catch((function(e){m.default.onReady((function(){r.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.firstInsertFail,{source:r.source,msg:e})}))}))},ya=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=Object(Xt.getPrivateThis)(this),i=M.SPLASHAD_ERROR_CODE[r],o=M.SPLASHAD_IDKEY[r];return m.default.onReady((function(){var n;a.adProxy.reportAdMonitorData(o,t),a.adProxy.reportTimePoints({slotid:M.POS_ID_MAP[a.adType],costtype:(null===(n=a.adProxy.data)||void 0===n?void 0:n.is_cpm)?1:2,splash_instance_id:e.instanceId,errCode:i,scene:e.scene,extInfo:t})})),Object(D.showSplashAd)({adCallTime:Date.now(),errCode:i,show:!1,eventReceivedTime:n.startInit,cgiFetchStart:n.startFetchTime||0,cgiFetchCallBack:n.fetchCallbackTime||0})},ma=function(e){Object(l.default)(n,e);var t=pr(n);function n(){var e;Object(s.default)(this,n),e=t.call(this);var a=Object(Xt.getPrivateThis)(Object(u.default)(e));return a.canShowed=!1,a.today=Object(R.getTodayFormat)(),a.countTimer=null,a.componentsRenderred=!1,a.isShowed=!1,a.firstInserted=!1,a.adFeedbackInserted=!1,a.isDynamic=!1,a.isShowedExposureReported=!1,a.startExposureTime=0,a.isViewableExposureReported=!1,a.clickCount=0,a.lastLandingTime=0,a.lastJsapiName="",a.lastJsapiStatus=0,a.lastJsapiCostTime=0,a.isLandingPage=!1,a.landingPageCostTime=0,a.hideTime=0,a.hideDuration=0,a.isClosing=!1,a.isShowCloseTip=!1,a.clickFirstGradeTime=0,a.eventsMap={},a.source="",a.crtOrientation="portrait",a.adType="splashAd",a.adProxy=new zt({adUnitId:"",adType:a.adType}),a.dynamicElems={},a.dynamicEmitter=null,a.tplComponent=null,Object(r.onSplashAdButtonClicked)((function(t){"close"===t.buttonType&&"launch"===t.source?(Vr.call(Object(u.default)(e),10),Kr.call(Object(u.default)(e),["countTimer"])):"close"===t.buttonType&&"menu"===t.source?Vr.call(Object(u.default)(e),14):"back"!==t.buttonType||"menu"!==t.source||a.isLandingPage?"menu"===t.buttonType&&Wr.call(Object(u.default)(e),1):Vr.call(Object(u.default)(e),15)})),Object(r.onSplashAdWillLayout)((function(t){if(t.menuViewFrame&&("launch"===t.source?(Er=t.menuViewFrame.y||0,a.dynamicEmitter&&a.isDynamic&&a.tplComponent&&Er&&a.tplComponent.emitComponentEvent(sr.ROOT_EVENT.SPLASHADMENUVIEW,{countdownTop:Er})):"menu"===t.source&&(Or=t.menuViewFrame.height||0,a.dynamicEmitter&&a.isDynamic&&a.tplComponent&&Or&&a.tplComponent.emitComponentEvent(sr.ROOT_EVENT.SPLASHADMENUVIEW,{navHeight:Or,menuHeight:172-Or})),b.IS_IOS&&a.firstInserted&&!a.adFeedbackInserted))try{pa.call(Object(u.default)(e))}catch(e){m.default.onReady((function(){a.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.iosThirdInsertFail,{source:a.source,msg:e})}))}})),Object(r.onSplashAdShow)((function(){a.adProxy.setTimePoint("p5"),"launch"!==a.source||a.isDynamic||(fa.call(Object(u.default)(e)),ea.call(Object(u.default)(e))),la.call(Object(u.default)(e)),da.call(Object(u.default)(e)),a.hideTime>0&&(a.hideDuration=+new Date-a.hideTime),Gr.call(Object(u.default)(e)),"launch"===a.source&&a.isShowedExposureReported&&$r.call(Object(u.default)(e)),a.isLandingPage&&(a.isLandingPage=!1)})),Object(r.onSplashAdHide)((function(){a.hideTime=+new Date,Kr.call(Object(u.default)(e),["countTimer"])})),Object(r.onSplashAdClose)((function(){Tr||(Tr=!0),b.IS_IOS&&a.startExposureTime>0&&+new Date-a.startExposureTime>1e3&&Gr.call(Object(u.default)(e),!0),a.container&&(a.isDynamic&&(a.tplComponent&&Object(en.unmount)(a.tplComponent),a.dynamicElems={},a.dynamicEmitter=null,a.tplComponent=null),g.nativeviewLayout.remove(a.container)),zr.call(Object(u.default)(e))})),e}return Object(c.default)(n,[{key:"otherAdsEmitFetch",value:function(){Jr.call(this)}},{key:"show",value:function(e){var t,n=this;Ar=!0;var r=Object(Xt.getPrivateThis)(this);r.showInfo=e,r.adProxy.scene=e.scene,r.adProxy.setTimePoint("p14");var a=r.adProxy.getTimePoint("p14");if(m.default.onReady((function(){setTimeout((function(){var t="launch"===e.source?M.SPLASHAD_IDKEY.launchAcceptShouldShow:M.SPLASHAD_IDKEY.menuAcceptShouldShow;r.adProxy.reportAdMonitorData(t)}),1500)})),"launch"===e.source){m.default.onReady((function(){setTimeout((function(){r.adFetchResult=Xr.call(n)}),1500)}));var i={};try{var o=D.fs.readFileSync(Mr,"utf-8");i.adInfos=o||{},r.adInfos=JSON.parse(o)}catch(e){r.adInfos={},i.errMsg=r.adProxy.processStackMsg(e),i.fileName=Mr}if(0===Object.keys(r.adInfos).length)return Cr=M.SPLASHAD_ERROR_CODE.NO_ADINFOS,ya.call(this,e,i,{startInit:a},"NO_ADINFOS");this.showAdByCheckAdsOnline(e,a);var s=r.adInfos.ads||[];r.adDatas={};var c,u=hr(s);try{for(u.s();!(c=u.n()).done;){var l=c.value;try{var d=M.WX_AD_PATH+"/"+l.aid+".txt",f=D.fs.readFileSync(d,"utf-8"),p=JSON.parse(f);r.adDatas[l.aid]=p}catch(e){}}}catch(e){u.e(e)}finally{u.f()}try{var h=(null===(t=r.adInfos)||void 0===t?void 0:t.deviceInfo)||{};r.adProxy.setDeviceInfo(h)}catch(e){}}else"menu"===e.source&&this.showDetail(e)}},{key:"showAdByRealtimeFetch",value:function(e){var t=this,n=Object(Xt.getPrivateThis)(this),r={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:Zt.SDKVersion,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:b.IS_IOS,isAndroid:b.IS_ANDROID,adNetworkType:e.networkType};return Xr.call(this,r).then((function(r){n.data=r,n.adProxy.data=r,t.showDetail(e,{aid:r.aid},!0)}))}},{key:"showAdByCheckAdsOnline",value:function(e,t){var n=this,r=Object(Xt.getPrivateThis)(this),a=r.adInfos.requestInQueue&&"true"===r.adInfos.requestInQueue,i=JSON.stringify({weapp_enter_scene:e.scene||0}),o={slot_id:M.POS_ID_MAP[r.adType],publisher_appid:e.appId,network_type:M.NET_TYPE_MAP[e.networkType]||0,app_service_type:e.isGame?2:1,sdk_version:Zt.SDKVersion,weixin_version:e.weixinVersion,os_version:e.osVersion,os_type:e.osType,model:e.model,ads:r.adInfos.ads||[],ext_check_ads_weapp:i};r.adProxy.setTimePoint("p15"),m.default.onReady((function(){setTimeout((function(){r.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.START_CHECK_AD_STATUS)}),1500)})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(D.adOperateWXData)({apiName:"webapi_getadvert",reqData:{action:"CheckAdIsOnline",request_data:JSON.stringify(e)},requestInQueue:t})}(o,a).then((function(t){m.default.onReady((function(){setTimeout((function(){r.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.CHECK_AD_STATUS_SUCCESS)}),1500)})),r.adProxy.setTimePoint("p16");var a=JSON.parse(t.rawData);n.showDetail(e,a)})).catch((function(a){return r.adProxy.setTimePoint("p16"),ya.call(n,e,{msg:a},{startInit:t},"CHECK_AD_STATUS_ERROR")}))}},{key:"showDetail",value:function(e){var t,n,r,a,s,c,u,l,d,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{aid:0},p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return gr(this,void 0,void 0,i.a.mark((function h(){var v,y,_,b,O,E,I,S,C,k,T,A,P=this;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(g.nativeviewLayout.style.width=e.screenWidth,g.nativeviewLayout.style.height=e.screenHeight,g.nativeviewLayout.auto=!1,v=Object(Xt.getPrivateThis)(this),y={startInit:v.adProxy.getTimePoint("p14"),startFetchTime:v.adProxy.getTimePoint("p15"),fetchCallbackTime:v.adProxy.getTimePoint("p16")},_=[],b=f.aid,"launch"!==e.source||!p){i.next=19;break}O=(null===(n=null===(t=null==v?void 0:v.data)||void 0===t?void 0:t.rerankingExtInfo)||void 0===n?void 0:n.material_hash)||"",Pr=M.WX_AD_PATH+"/"+b+"_"+O+".png",Dr=M.WX_AD_PATH+"/"+b+"_"+O+"_pure_color.png",Rr=M.WX_AD_PATH+"/"+b+"_"+O+"_blur.png",_.push(Pr),v.crtOrientation="portrait",E=(null===(r=null==v?void 0:v.data)||void 0===r?void 0:r.crtInfo[0])||{},Object.keys(E).length>0&&(I=E.width,S=E.height,v.crtOrientation=I>S?"landscape":"portrait"),"landscape"===v.crtOrientation&&_.push(Dr),i.next=37;break;case 19:if("launch"!==e.source||p){i.next=36;break}if(b&&"0"!==b){i.next=22;break}return i.abrupt("return",ya.call(this,e,{adInfos:v.adInfos,checkAdStatus:f},y,"NO_AID"));case 22:if(b&&(null===(a=null==v?void 0:v.adDatas)||void 0===a?void 0:a[b])&&(v.data=v.adDatas[b],v.adProxy.data=v.adDatas[b]),v.crtOrientation=b?null===(c=null===(s=null==v?void 0:v.adInfos)||void 0===s?void 0:s.crtSizeMap)||void 0===c?void 0:c[b]:"",v.crtOrientation){i.next=26;break}return i.abrupt("return",ya.call(this,e,{adInfos:v.adInfos,checkAdStatus:f},y,"CRT_ORIENTATION_NOT_SURE"));case 26:C=b?null===(u=null==v?void 0:v.adInfos)||void 0===u?void 0:u.materialHashMap[b]:"",wr=M.WX_AD_PATH+"/"+b+".txt",Pr=M.WX_AD_PATH+"/"+b+"_"+C+".png",Dr=M.WX_AD_PATH+"/"+b+"_"+C+"_pure_color.png",Rr=M.WX_AD_PATH+"/"+b+"_"+C+"_blur.png",_.push(wr),_.push(Pr),"landscape"===v.crtOrientation&&_.push(Dr),i.next=37;break;case 36:"menu"===e.source&&(k={},(null===(l=v.data)||void 0===l?void 0:l.crtInfo)&&v.data.crtInfo.length>0?(T=Object(o.default)(v.data.crtInfo,1),k=T[0]):(null===(d=v.data)||void 0===d?void 0:d.crtInfo)&&(k=v.data.crtInfo),Object.keys(k).length>0&&!v.crtOrientation&&(v.crtOrientation=v.data.crtInfo.width>v.data.crtInfo.height?"landscape":"portrait"),Wr.call(this,2));case 37:i.prev=37,"launch"===e.source&&_.forEach((function(e){D.fs.accessSync(e)})),i.next=51;break;case 41:if(i.prev=41,i.t0=i.catch(37),Cr=M.SPLASHAD_ERROR_CODE.MATERIAL_NOT_READY,A=v.adProxy.processStackMsg(i.t0),!v.data){i.next=50;break}return i.next=48,v.adProxy.handleBulkSaveMaterials(v.data);case 48:i.next=51;break;case 50:return i.abrupt("return",ya.call(this,e,{adInfos:v.adInfos,checkAdStatus:f,msg:A},y,"MATERIAL_NOT_READY"));case 51:v.adProxy.setTimePoint("p17"),"launch"===e.source&&Object(D.showSplashAd)({showMenu:!0,show:!0,errCode:Cr,adCallTime:v.adProxy.getTimePoint("p17"),eventReceivedTime:y.startInit,cgiFetchStart:y.startFetchTime,cgiFetchCallBack:y.fetchCallbackTime,success:function(){v.adProxy.setTimePoint("p18"),m.default.onReady((function(){v.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.launchShowSplashAdSuccess)}))},fail:function(e){v.adProxy.setTimePoint("p18"),m.default.onReady((function(){v.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.showSplashAdFail,{adInfos:v.adInfos,checkAdStatus:f,msg:e})})),zr.call(P),v.container&&g.nativeviewLayout.remove(v.container)}});try{v.adProxy.setTimePoint("p4"),ga.call(this,e)}catch(t){Zr.call(this,{source:e.source,animated:!1},19),zr.call(this),m.default.onReady((function(){v.adProxy.reportAdMonitorData(M.SPLASHAD_IDKEY.firstRenderFail,{adInfos:v.adInfos,source:e.source,msg:t})}))}case 54:case"end":return i.stop()}}),h,this,[[37,41]])})))}}]),n}(Xt.Component);try{var _a=new ma;Object(r.onShouldShowSplashAd)((function(e){_a.show(e)}))}catch(e){}}]);;})(this);
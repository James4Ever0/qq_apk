(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1197:function(e,t,s){"use strict";s(851)},1198:function(e,t,s){"use strict";s(852)},1199:function(e,t,s){"use strict";s(853)},1200:function(e,t,s){"use strict";s(854)},1201:function(e,t,s){"use strict";s(855)},1202:function(e,t,s){"use strict";s(856)},1210:function(e,t,s){"use strict";s.r(t);var a=s(1),i=s.n(a),r=s(0),n=s(23),c=s(43),o={mixins:[r.i,r.k],props:{item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}},data:function(){return{}},computed:{word:function(){return this.item.wordHighlight||this.item.word}},methods:{onTapSuggestionSearch:function(){var e=this,t=e.M_composeParentSid({t:r.b.parentType.SUG,s:e.$store.state.sug.sugId,did:e.item.word});e.M_checkSpecialSearchBeforeLaunchNewSearch({query:e.item.word,callback:function(){r.f.setSearchInputWord({query:e.item.word,isInputChange:!1}),r.a.$emit(r.b.events.goto,{page:r.b.PAGE_RESULT,query:e.item.word,action:r.b.pageAction.sugClick,extReqParams:{key:"parentSearchID",textValue:t},searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:t}]}}),Object(c.d)({scene:e.base.scene,businessType:e.base.type,docId:e.item.word,docPos:e.pos,typePos:e.typePos,query:e.item.word,suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,expand:"suggestion",expand1:new Date-e.ts,searchId:""}),Object(n.d)(r.j.feature.sug),r.e.reportEventTrack({actionType:18,query:e.item.word})},onTapSuggestionAddto:function(){var e=this;r.f.setSearchInputWord({query:e.item.word,isInputChange:!0}),Object(c.d)({scene:r.c.scene,businessType:r.c.type,docId:e.item.word,docPos:e.pos,typePos:e.typePos,expand:"suggestionAttach",suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,searchId:""}),Object(n.d)(r.j.feature.sugAdd)}}},u=(s(1197),s(36)),p=Object(u.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"line sug__simple",on:{click:e.onTapSuggestionSearch}},[s("div",{staticClass:"line__item"},[s("svg-icon",{attrs:{"class-name":"sug__simple-icon",name:"magnifier"}})],1),e._v(" "),s("div",{staticClass:"line__item primary"},[s("p",{domProps:{innerHTML:e._s(e.word)}})]),e._v(" "),s("div",{staticClass:"line__item"},[s("div",{staticClass:"sug__simple-active",on:{click:function(e){e.stopPropagation()},touchend:function(t){return t.stopPropagation(),t.preventDefault(),e.onTapSuggestionAddto(t)}}},[s("div",{staticClass:"sug__simple-end"})])])])}),[],!1,null,null,null).exports,l=s(94),m=s(14);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var y={mixins:[r.k],props:{item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}},computed:{sub:function(){return this.item.subHighlight||this.item.sub},word:function(){return this.item.wordHighlight||this.item.word}},methods:{tap:function(){var e=this;l.a.isSupportOpenView_8?m.a.openView(g(g({},e.base),{},{actionType:8,jumpUrl:e.item.jumpUrl,query:e.item.word})):e.M_go(Object.assign({docId:e.item.word},e.item)),Object(c.d)({scene:e.base.scene,businessType:e.base.type,docId:e.item.sub||"",docPos:e.pos,typePos:e.typePos,query:e.item.word,suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,expand:"suggestion",expand1:new Date-e.ts}),Object(n.d)(r.j.feature.sugH5),r.e.reportEventTrack({actionType:18,query:e.item.word})}}},h=(s(1198),{components:{simple:p,external:Object(u.a)(y,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"line with-arrow sug__simple sug__external",on:{click:e.tap}},[s("div",{staticClass:"line__item"},[s("svg-icon",{staticClass:"sug__simple-icon",attrs:{name:"link"}})],1),e._v(" "),s("div",{staticClass:"line__item primary"},[e.word?s("div",{staticClass:"line"},[s("div",{staticClass:"line__item"},[s("p",{domProps:{innerHTML:e._s(e.word)}})]),e._v(" "),e.item.tag?s("div",{staticClass:"line__item"},[s("span",{staticClass:"tag gold"},[e._v("\n                    "+e._s(e.item.tag)+"\n                ")])]):e._e()]):e._e(),e._v(" "),s("p",{staticClass:"sug__external-sub"},[e._v("\n            "+e._s(e.sub)+"\n        ")])])])}),[],!1,null,null,null).exports},props:{item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}}}),b=(s(1199),Object(u.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return 1===this.item.showType?t("external",this._b({},"external",this.$props,!1)):t("simple",this._b({},"simple",this.$props,!1))}),[],!1,null,null,null).exports),f=s(69),_=s(20),v={mixins:[r.k,r.i],props:["item","type","tapCb","pos","typePos"],data:function(){return{isActive:!1,isVerify:!1,isTradmarkProtection:!1}},methods:{onTap:function(){var e=this,t=e.item.nickName;if(r.c.type==r.l.itemType.OFFICE_ACCOUNT||3==this.item.opType)r.f.startSearchItemDetailPage(Object.assign(this.item,{type:1,opType:this.item.opType||_.b.bizSession,query:r.c.query,searchId:e.searchId,extraParams:"from_sug=1&search_type=1&docid="+decodeURIComponent(this.item.docID)+"&scene="+r.c.scene}));else{e.$store.commit({type:"result/updateMoment",tagInfo:{tagType:r.c.MOMENT_TAG_BIZNEWS,tagText:""},matchUser:{matchWord:t,userName:e.item.docID},nextObjID:"",tagList:[{tagName:t,tagType:r.c.MOMENT_TAG_BIZNEWS}]});var s=e.M_composeParentSid({t:r.b.parentType.SUG,s:e.$store.state.sug.sugId,did:t});e.M_checkSpecialSearchBeforeLaunchNewSearch({query:t,callback:function(){r.c.custom="",r.f.setSearchInputWord({query:t,custom:"",tagList:[{tagName:t,tagType:r.c.MOMENT_TAG_BIZNEWS,userName:e.item.userName}],isInputChange:!1}),r.a.$emit(r.b.events.goto,{page:r.c.PAGE_RESULT,query:t,extReqParams:{key:"parentSearchID",textValue:s},action:r.b.pageAction.sugBizClick,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:s}]}})}Object(n.b)(f.a.detail.suggestion.suggestionItemBiz),Object(c.d)({scene:r.c.scene,businessType:r.c.type,docId:t,docPos:e.pos,typePos:e.typePos,clickType:1,suggestionId:e.$store.state.sug.sugId,searchId:""})},onTapContact:function(){r.a.$emit(r.b.events.resetMomentsFilter);var e=this,t=e.item.nickName;e.$store.commit({type:"result/updateMoment",nextObjID:"",tagInfo:{tagType:r.c.MOMENT_TAG_SNSALBUM,tagText:""},matchUser:{matchWord:t,userName:e.item.userName},tagList:[{tagName:t,tagType:r.c.MOMENT_TAG_SNSALBUM}]});var s=e.M_composeParentSid({t:r.b.parentType.SUG,s:e.$store.state.sug.sugId,did:t});e.M_checkSpecialSearchBeforeLaunchNewSearch({query:t,callback:function(){r.f.setSearchInputWord({query:t,custom:"",tagList:[{tagName:t,tagType:r.c.MOMENT_TAG_SNSALBUM,userName:e.item.userName}],isInputChange:!1}),r.c.custom="",r.a.$emit(r.b.events.goto,{page:r.c.PAGE_RESULT,query:t,extReqParams:{key:"parentSearchID",textValue:s},action:r.b.pageAction.sugContactClick,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:s}]}}),Object(n.b)(f.a.detail.suggestion.suggestionItemContact),Object(c.d)({scene:r.c.scene,businessType:r.c.type,docId:t,docPos:e.pos,typePos:e.typePos,clickType:1,suggestionId:e.$store.state.sug.sugId,searchId:""})}}},T=Object(u.a)(v,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return 3==e.type?s("div",{staticClass:"weui-cell sug_biz",class:{active:e.isActive},on:{click:e.onTapContact}},[s("div",{staticClass:"weui-cell_hd"},[s("client-image",{key:e.item.vueId,staticClass:"sug__moment-thumb",attrs:{item:e.item,type:8}})],1),e._v(" "),s("div",{staticClass:"weui-cell__bd biz_item"},[s("h4",{domProps:{innerHTML:e._s(e.xss(e.item.nickNameHighlight||e.item.nickName))}}),e._v(" "),e.item.extraHighlight?s("p",{staticClass:"biz_account_tips",domProps:{innerHTML:e._s(e.xss(e.item.extraHighlight))}}):e._e()])]):s("div",{staticClass:"weui-cell sug_biz",class:{active:e.isActive},attrs:{docid:e.item.docID},on:{click:e.onTap}},[s("div",{staticClass:"weui-cell_hd"},[s("div",{staticClass:"sug__biz-thumb",style:{backgroundImage:"url("+e.item.iconUrl+")"}})]),e._v(" "),s("div",{staticClass:"weui-cell__bd biz_item"},[s("h4",{domProps:{innerHTML:e._s(e.xss(e.item.nickNameHighlight||e.item.nickName))}}),e._v(" "),e.item.extraHighlight?s("p",{staticClass:"biz_account_tips",domProps:{innerHTML:e._s(e.xss(e.item.extraHighlight))}}):e._e()])])}),[],!1,null,null,null).exports,S={mixins:[r.k],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},data:function(){return{fixed:!1}},mounted:function(){this._calculateHeight()},methods:{_calculateHeight:function(){var e=this.$parent.$parent.$el.clientHeight,t=this.$el.clientHeight,s=r.f.getWindowHeight();this.fixed=e+t<s},tap:function(){this.M_go(this.item)}}},O=(s(1200),Object(u.a)(S,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sug-complaint",class:{fixed:this.fixed}},[t("span",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__opacity",on:{click:this.tap}},[this._v("\n        "+this._s(this.item.word)+"\n    ")])])}),[],!1,null,null,null).exports),I=s(25),P=new I.a({complaint:1}),w={components:{complaint:O},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{types:P}}},x=(s(1201),Object(u.a)(w,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sug-bottom"},e._l(e.data.items,(function(t,a){return s(e.types[t.type],e._b({key:a,tag:"components",attrs:{item:t}},"components",e.$props,!1))})),1)}),[],!1,null,null,null).exports),j=s(789),k=s.n(j),C=s(149),q={requestType:new I.a({net:0,local:1})};Object.freeze(q);var D=q;function N(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function $(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?N(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var E={components:{general:b,contactSug:T,bottom:x},mixins:[r.k],data:function(){return{isShow:!1,dataReadyTs:0}},computed:{suggestoinObj:function(){return this.$store.state.sug.data},bottom:function(){return this.$store.state.sug.bottom}},watch:{$route:function(e){e.name===_.d.suggestion&&this.$store.dispatch({type:"sug/handleSug",data:{}})}},created:function(){var e=this;e.query="",e.lastQuery="",e.inputFinishTimestamp=+new Date,e.preGetSearchDataTimeout=null,e.preGetSearchDataArgs="",e.preGetSearchDataResolve=null;var t=e.$route.params.option;t.query&&e.getData({query:t.query}),C.b.onInputChange((function(t){e.inputFinishTimestamp=+new Date,t.query&&(e.getData(t),l.a.isSupportSugPreSearchOnInputChange&&e._preGetSearchData()),e.$store.commit("result/updateCacheArgs",null),e.$store.commit("result/updateCachePromise",null)})),C.b.onInputConfirm((function(t){clearTimeout(e.preGetSearchDataTimeout),r.e.reportEventTrack({actionType:17,timeStamp:e.inputFinishTimestamp,query:t.query||r.c.query})})),C.b.onSugReady((function(t){e.$store.dispatch({type:"sug/handleSug",data:t}),l.a.isSupportSugPreSearchOnInputChange||e._preGetSearchData(),e.dataReadyTs=+new Date})),C.b.onResultReady((function(t){t.requestId&&t.requestId===e.preGetSearchDataArgs.requestId&&(e.$store.commit("result/cacheResultData",t),e.preGetSearchDataResolve(t))}))},methods:{hide:function(){this.isShow=!1,this.styleObject={height:0,opacity:0}},getData:function(e){var t=this,s=Object.assign({query:t.base.query},e);t.getSearchSuggestionData(s),t.lastQuery=t.query,t.query=s.query},_preGetSearchData:function(){var e=this;e.lastQuery!==e.query&&!/\w/.test(e.query)&&e.query.length>1&&this.$store.state.common.preSearchSwitch&&(clearTimeout(e.preGetSearchDataTimeout),e.preGetSearchDataTimeout=setTimeout((function(){e.preGetSearchData(e.query)}),100))},getSearchSuggestionData:function(e){var t=this;C.a.getSug({scene:t.base.scene,version:t.base.version,query:e.query||"",type:t.base.type,isHomePage:t.base.isHomePage,requestType:e.requestType||8===t.base.type&&D.requestType.local,sugId:"",sessionId:t.base.sessionId})},preGetSearchData:function(e){var t=this,s=t.$store.getters.getBase,a=t.$store.state.result;if(!a.self.base.isLoading){var i=r.f.generateGuuId(),n=[{key:"netType",textValue:r.c.netType},{key:"subType",uintValue:+r.c.subType,textValue:r.c.subType?r.c.subType+"":""},{key:"currentPage",uintValue:1},{key:"requestId",textValue:i},{key:"cookies",textValue:a.state.cookies},{key:"widgetVersion",uintValue:+k.a.version}].concat(r.c.extParams.crossExtReqParams||[]),c=Object.assign($($({},s),{},{query:e||"",offset:0,tagInfo:t.$store.getters["result/tagInfo"],type:s.type,isHomePage:s.isHomePage,subType:s.subType,sceneActionType:r.b.sceneActionType.preSearch,matchUser:t.$store.getters["result/matchUser"],numConditions:a.moment.numConditions,extReqParams:n,requestId:i,fromTagSearch:r.c.queryString.fromTagSearch,extClientParams:r.c.queryString.extClientParams,isBackButtonClick:!0}),{parentSearchID:"",sugId:""});C.a.getResult(c),t.preGetSearchDataArgs=c,t.$store.commit("result/cacheResultData",{}),t.$store.commit("result/updateCacheArgs",t.preGetSearchDataArgs),t.$store.commit("result/updateCachePromise",new Promise((function(e){t.preGetSearchDataResolve=e}))),r.e.reportEventTrack(Object.assign({actionType:3,requestId:i,isPreload:100},c))}}}},M=(s(1202),Object(u.a)(E,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"suggestion-list"},[e._l(e.suggestoinObj,(function(t,a){return s("div",{key:a,staticClass:"weui-cells",style:{marginTop:a>0?"5px":0}},[t.title?s("div",{staticClass:"weui-cells_title"},[e._v("\n            "+e._s(t.title)+"\n        ")]):e._e(),e._v(" "),e._l(t.items,(function(i,r){return[1==t.type||4==t.type?s("general",{key:r+""+a,attrs:{item:i,type:t.type,pos:r+1,"type-pos":a+1,ts:e.dataReadyTs}}):e._e(),e._v(" "),2==t.type||3==t.type?s("contactSug",{key:r+""+a,attrs:{item:i,type:t.type,pos:r+1,"type-pos":a+1}}):e._e()]}))],2)})),e._v(" "),e.bottom?s("bottom",{attrs:{data:e.bottom}}):e._e()],2)}),[],!1,null,null,null));t.default=M.exports},851:function(e,t,s){},852:function(e,t,s){},853:function(e,t,s){},854:function(e,t,s){},855:function(e,t,s){},856:function(e,t,s){}}]);
window.JsBridge=function(){function a(a){var c=document.createElement("iframe");c.style.display="none",c.id="jsbridge_"+b,c.onload=function(){var a=JsBridge["callback_"+b]?JsBridge["callback_"+b]:JsBridge.callback;a(b,{r:-201,result:"error"})},c.src=a,document.body.appendChild(c);var d=iOSQQApi.__RETURN_VALUE;return iOSQQApi.__RETURN_VALUE=void 0,d?d.result:null}var b,c=navigator.userAgent,d=/(Android)/i.test(c),e=/(iPhone|iPad|iPod|iOS)/i.test(c),f=function(){var a=1;return function(){return a++}}(),g={};return window.iOSQQApi={},{openURL:a,invokeClientMethod:function(c,h,i,j){b=f(),"function"==typeof i&&(j=i,i=""),g[b]=j||function(){},e&&(i=i||{},i.callback="callback_"+b,window["callback_"+b]=g[b]);var k="jsbridge://"+c+"/"+h+(d?"/"+b:"/?p=")+(i?(d?"/":"")+encodeURIComponent(JSON.stringify(i||{})):"");return console.log("[API]"+k),a(k)},invokeClientMethodByAndriod:function(c,d,e){b=f();for(var g=0,h=e.length;h>g;g++)e[g]=encodeURIComponent(e[g]);var i="jsbridge://"+c+"/"+d+"/"+b+"/"+e.join("/");return console.log("[API]"+i),a(i)},callback:function(a,b){var a=String(a);b=b||{r:-200};var c=g[a];c&&setTimeout(function(){c(b.result)},0),delete g[a];var d=document.getElementById("jsbridge_"+a);d&&document.body.removeChild(d)}}}(),function(){function a(a,b){i(a,function(c){if(c&&0===c.retcode){a=a.replace(/[(^\s*)|(\s*$)]/g,"");var d=c.result;if(!d.group_list||!d.group_list.length)return b(0),void 0;if(1===d.group_list.length&&d.group_list[0].code==a)return b(1),void 0;b(2)}else b(0)})}function b(){var b={};b.keywords=d.value,b.from=b.reportid=($.isAndroid?"3":"2")+"00"+(/^\d{5,11}$/.test(d.value)?"1":"2"),a(b.keywords,function(a){if(2===a){var c="http://qqweb.qq.com/m/relativegroup/index.html?_bid=165&source=qun_rec&keyword=";c+=encodeURIComponent(d.value),$.isAndroid?JsBridge.invokeClientMethod("Troop","openUrl",{url:c}):JsBridge.invokeClientMethod("nav","openLinkInNewWebView",{url:c,options:{styleCode:4,isNotRotate:1}})}else 1===a?JsBridge.invokeClientMethod("Troop","searchTroop",b):h.fadeIn()}),d.focus()}"undefined"==typeof window.$&&(window.$=function(a){return document.getElementById(a)});var c=navigator.userAgent;$.isAndroid=/(Android)/i.test(c),$.isIOS=/(iPhone|iPad|iPod|iOS)/i.test(c);var d=$("iptSearch"),e=$("searchClr"),f=$("btnSearch"),g=$("form-search");e.addEventListener("touchend",function(a){d.value="",d.focus(),e.style.display="none",g.className="form-search",a.preventDefault()}),d.addEventListener("input",function(){this.value?(e.style.display="block",g.className="form-search hasContent"):(e.style.display="none",g.className="form-search")}),g.addEventListener("touchstart",function(){d.focus()});var h=function(){function a(){clearTimeout(c),$("#tipsCnt").html("未找到符合搜索条件的群"),$("#tips").css({top:0,opacity:1}),c=setTimeout(b,d)}function b(){var a=$("#tips");a.css({top:0-a.height()+"px",opacity:0})}var c,d=2500;return{fadeIn:a,fadeOut:b}}(),i=function(a,b){var c=+new Date,d="http://xiaoqu.qq.com/cgi-bin/bar/qunlist_search",e=0,f="re_callback_1",g={retype:2,keyword:a,page:e,wantnum:1,city_flag:2,ver:1,from:1,callback:f},h=[];for(var i in g){var j;g.hasOwnProperty(i)&&(j=g[i],j=encodeURIComponent(j),h.push(i+"="+j))}d+="?"+h.join("&");var k=function(a){b&&b(a),QUNFIND.reporter.mobileMonitor.mmReport(d,a.retcode,+new Date-c)};window[f]=function(a){k(a)},$.ajax.jsonp(d,!0)};d.addEventListener("keyup",function(a){13===a.keyCode&&b()}),f.addEventListener("touchend",b),f.addEventListener("click",function(){d.focus()}),document.addEventListener("touchend",function(a){var b=a.target;-1==b.className.indexOf("ipt-search")&&-1==b.className.indexOf("search-clr")&&-1==b.className.indexOf("btn-search")&&d.blur()})}(),function(a){function b(a,b){for(var d=0,e=a.length;e>d;d++)c(a[d],b);return b}function c(a,b){b[b.length]=a,b.length++}function d(a,b){var c=[];if(!(b=trim(b)))return c;var d=b.match(w),e=b.match(y);if(d||e)for(d&&(d=d[1]),e&&(e=e[0].toUpperCase()),a=a.firstChild;a;)1===a.nodeType&&g(a,e,d)&&c.push(a),a=a.nextSibling;return c}function e(a,b){if(b.nodeType)return a.appendChild(b),void 0;if(b instanceof m)for(var c=0,d=b.length;d>c;c++)a.appendChild(b[c])}function f(a,b){for(var c=0,d=a.length;d>c;c++)a[c].style.display=b?"block":"none";return a}function g(a,b,c){return!(b&&a.nodeName!=b||c&&!j(a,c))}function h(a,b,c){for(var d=0,e=a.length;e>d;d++)a[d].style[b]=c}function i(a,b){if("string"!=typeof a||!(a=trim(a)))return[];var c=a.match(x);if(c)return c=n.getElementById(c[1]),c?[c]:[];var d=a.match(y),e=a.match(w);if(d&&(d=d[0]),e&&(e=e[1]),b=b||n,b.querySelectorAll)return d=d||"",e&&(d+="."+e),v(b.querySelectorAll(d));var f,g=b.getElementsByTagName(d||"*");if(e){f=[];for(var h=0,i=g.length;i>h;h++)j(d=g[h],e)&&f.push(d)}return f||g}function j(a,b){if(!a||1!==a.nodeType||!a.className||!b)return!1;var c=a.className.split(/\s/g);return-1!=u(b,c)}function k(a,b){if(a&&1===a.nodeType&&b){if(!a.className)return a.className=b,void 0;b=b.split(/\s/g),allClasses=a.className.split(/\s/g);for(var c=b.length-1;c>=0;c--)-1!=u(b[c],allClasses)&&b.splice(c,1);b.length&&(a.className+=" "+b.join(" "))}}function l(a,b){if(a&&1===a.nodeType&&a.className){if(!b||"string"!=typeof b)return a.className="",void 0;b=b.split(/\s/g);for(var c,d,e=a.className.split(/\s/g),f=b.length-1;f>=0;f--)-1!=(d=u(b[f],e))&&(e.splice(d,1),c=!0);c&&(a.className=e.join(" "))}}var m=a.$=function(a){return this instanceof m?this.add(a):new m(a)};m.fn=m.prototype;{var n=a.document,o=(Array.prototype.push,Array.prototype.slice,Object.prototype.hasOwnProperty,String.prototype.trim),p=Array.prototype.indexOf,q=Object.prototype.toString;m.now=function(){return(new Date).getTime()},m.noop=function(){}}m.isArray=function(a){return"[object Array]"==q.call(a)},m.inArray=function(a,b,c){if(m.isArray(b)){if(p)return p.call(b,a,c);var d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1};var r="__imweb_",s=m.uuid=function(){return r+m.now()},t=(s(),m.isFunction=function(a){return"function"==typeof a},/^\s+|\s+$/g);trim=o?function(a){return null==a?"":o.call(a)}:function(a){return null==a?"":a.toString().replace(t,"")},m.trim=trim;var u=m.inArray=m.inArray,v=m.toArray=function(a){if(m.isArray(a))return a;var b=[];if(a&&a.length>0)for(var c=0,d=a.length;d>c;c++)b[c]=a[c];return b},w=/\.([^#.:\s]+)/,x=/#([^#.:\s]+)/,y=/^[^#.:\s]+/,z=/^\[(.+)\]$/;m.fn.add=function(a){if(this.length=parseInt(this.length)||0,"string"==typeof a)return b(i(a),this);if(a){if(a.nodeType)return c(a,this);for(var d=0,e=a.length;e>d;d++){var f=a[d];"string"==typeof f?b(i(f),this):f instanceof m?b(f,this):f&&f.nodeType&&c(f,this)}}return this},m.fn.children=function(a){var b,c=new m;if(!a||"string"!=typeof a){for(var e=0,f=this.length;f>e;e++)b=this[e],1===b.nodeType&&c.add(b.childNodes);return c}for(var e=0,f=this.length;f>e;e++)b=this[e],1===b.nodeType&&c.add(d(b,a));return c},m.fn.closest=function(a){var b,c=new m;if(!(a=trim(a)))return c;var d=a.match(w),e=a.match(y),f=a.match(z);if(d&&(d=d[1]),e&&(e=e[0].toUpperCase()),f&&(f=f[1]),d||e)for(var h=0,i=this.length;i>h;h++){for(b=this[h];b&&!g(b,e,d);)b=b.parentNode;c.add(b)}if(f)for(var h=0,i=this.length;i>h;h++){for(b=this[h];b&&null==m(b).attr(f);)b=b.parentNode;c.add(b)}return c},m.fn.append=function(a){if(!a)return this;"string"==typeof a&&(a=m(a));for(var b=0,c=this.length;c>b;b++)e(this[b],a);return this},m.fn.show=function(){return f(this,!0)},m.fn.hide=function(){return f(this)},m.fn.html=function(){if(arguments.length<1)return this[0]&&this[0].innerHTML;for(var a=0,b=this.length;b>a;a++)this[a].innerHTML=arguments[0];return this},m.fn.attr=function(a,b){if(arguments.length<2)return this[0]&&this[0].getAttribute(a);for(var c=0,d=this.length;d>c;c++)this[c].setAttribute(a,b);return this},m.fn.css=function(a,b){if(!a)return this;if(arguments.length>1)return h(this,a,b),this;if("object"==typeof a)for(var c in a)h(this,c,a[c]);return this},m.fn.width=function(){return this[0]&&this[0].offsetWidth},m.fn.height=function(){return this[0]&&this[0].offsetHeight},m.fn.extend=function(a){for(var b in a)this[b]=a[b];return this},m.extend=function(a,b){for(var c in b)a[c]=b[c];return a},m.fn.extend=function(a){return m.extend(this,a)},m.fn.hasClass=function(a){return j(this[0],a)},m.fn.addClass=function(a){for(var b=0,c=this.length;c>b;b++)k(this[b],a);return this},m.fn.removeClass=function(a){for(var b=0,c=this.length;c>b;b++)l(this[b],a);return this},m.fn.bind=function(a,b){if("object"==typeof a){for(var c in a)for(var d=0,e=this.length;e>d;d++)this[d].addEventListener(c,a[c]);return this}for(var d=0,e=this.length;e>d;d++)this[d].addEventListener(a,b);return this},m.fn.unbind=function(a,b){if("object"==typeof a){for(var c in a)for(var d=0,e=this.length;e>d;d++)this[d].removeEventListener(c,a[c]);return this}for(var d=0,e=this.length;e>d;d++)this[d].removeEventListener(a,b);return this},m.fn.taphold=function(a,b){for(var c=0,d=this.length;d>c;c++)m(this[c]).bind("touchstart",function(c){function d(a){var b=j;if(b&&!m(b).hasClass("unactivate"))do a?m(b).addClass("active"):m(b).removeClass("active"),b=b.parentNode;while(b&&b!=k[0]&&j!=k[0]&&!m(b).hasClass("unactivate"))}function e(){d(!1),i=!0}function f(b){i||(a.call(k[0],b),g())}function g(){m(n.body).unbind(l),clearTimeout(h),d(!1)}var h,i,j=c.target,k=m(this),l={touchmove:e,touchend:f};m(n.body).bind(l),(b=parseInt(b))?h=setTimeout(function(){i||d(!0)},b):d(!0),c.stopPropagation()})},m.localData=function(){function a(){return"undefined"==typeof c&&(c=localStorage),!0}function b(a){return"string"!=typeof a?!1:d.test(a)}var c,d=/^[0-9A-Za-z_-]*$/;return{set:function(d,e){var f=!1;if(b(d)&&a())try{e+="",c.setItem(d,e),f=!0}catch(g){}return f},get:function(d){if(b(d)&&a())try{return c.getItem(d)}catch(e){}return null},remove:function(d){if(b(d)&&a())try{return c.removeItem(d),!0}catch(e){}return!1}}}(),m.cookie=function(){function a(a){if(!a)return m.report&&m.report(0),"";for(var b=5381,c=0,d=a.length;d>c;++c)b+=(b<<5)+a.charAt(c).charCodeAt();return 2147483647&b}var b=/([-.*()])/g;return{get:function(a){var c=n.cookie;if(!c)return null;a=encodeURIComponent(a).replace(b,"\\$1");var d=c.match(new RegExp("(^| )"+a+"=([^;]*)"));return d?decodeURIComponent(d[2]):null},getBkn:function(){return a(this.get("skey"))+""},getUin:function(){var a;return function(){return a||(a=m.cookie.get("uin"),a=a&&parseInt(a.substring(1,a.length),10)),a}}()}}(),m.html=function(){function a(a,b,c){return b||c?String.fromCharCode(b||c):e[a]||a}function b(a){return j[a]}var c=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,d=/['<> "&]/g,e={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},f=/\u00a0/g,g=/<br\s*\/?>/gi,h=/\r?\n/g,i=/\s/g,j={};for(var k in e)j[e[k]]=k;return e["&apos;"]="'",j["'"]="&#39;",{encode:function(a){return a?(""+a).replace(d,b).replace(h,"<br/>").replace(i,"&nbsp;"):""},decode:function(b){return b?(""+b).replace(g,"\n").replace(c,a).replace(f," "):""}}}(),m.tmpl=function(){function a(a){return a.replace(f,"\r")}var b={},c=/\W/,d=/[\r\t\n]/g,e=/((^|%>)[^\t]*)'/g,f=/'/g,g=/\t=(.*?)%>/g,h=" ",i="<%",j="%>",k="	",l="',$1,'",o="');",p="p.push('",q="\r",r="\\'";return function(f,s){var t=c.test(f)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+f.replace(d,h).split(i).join(k).replace(e,a).replace(g,l).split(k).join(o).split(j).join(p).split(q).join(r)+"');}return p.join('');"):b[f]=b[f]||m.tmpl(n.getElementById(f).innerHTML);return s?t(s):t}}(),function(){var a=navigator.userAgent;m.isAndroid=/(Android)/i.test(a),m.isIOS=/(iPhone|iPad|iPod|iOS)/i.test(a);var b=navigator.userAgent.match(/AppleWebKit\/([0-9]+)/),c=!!b&&b[1],d=a.indexOf("Android")<-1&&534>c;m.canInvokeTribeInterface=d?!1:!0}(),m.queryString=function(b){var c=a.location.search.match(new RegExp("(^\\?|&)"+b+"=([^&]+)"));return c?decodeURIComponent(c[2]):""},m.addURLBid=function(a,b){var c=a,d=!0,e=!1,f=-1;return(f=c.search(/_bid=/i))>0?a:((f=c.search(/\?/i))>0?(f+=1,d=!1,e=!0):(f=c.search(/\#/i))>0||(f=c.length),a=c.substr(0,f)+(d?"?":"")+"_bid="+b+(e?"&":"")+c.substr(f))},m.addURLTimestamp=function(a,b){var c=a,d=!0,e=!1,f=-1;return(f=c.search(/\?/i))>0?(f+=1,d=!1,e=!0):(f=c.search(/\#/i))>0||(f=c.length),a=c.substr(0,f)+(d?"?":"")+"_t"+ +new Date+"=1"+(e?"&":"")+c.substr(f),b&&(a=m.addURLBid(a,b)),a}}(window),window.monitor=function(){$.version="4.6",$.logs=$.logs||{},$.logs.getVersionStart=new Date-0,$.isAndroid?JsBridge.invokeClientMethod("Troop","getVersion",function(a){$.version=a,$.logs.getVersionEnd=new Date-0,$.logs.version=$.version}):($.version=JsBridge.invokeClientMethod("device","qqVersion"),$.logs.getVersionEnd=new Date-0,$.logs.version=$.version),$.timing=function(){$.timing=$.noop;var a="http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=7809&flag2=30&flag3=";if(window.performance&&window.performance.timing){for(var b=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],c="",d=window.performance.timing,e=d[b[0]],f=1;f<b.length;f++)if("undefined"==typeof d[b[f]]&&(d[b[f]]=0),0!=e||0!=(e=d[b[f]])){var g=d[b[f]]-e;0>=g||(c+="&"+f+"="+g)}(new Image).src=[a+(window.location.href.indexOf("index.html")>-1?"1":"2"),c,$.now()].join("&")}},$.report=function(){var a,b=$.isAndroid?[396482,358628,358629,358630,358631,358632,358633,358634,358635,358636,358637,358638,358639,358640,358641,358642,358643,358644,360081,360082,396483,358657,358660,358661,358662,358663,358664,358665,358666,371121,371122,382443,382444]:[396474,382380,382381,382382,382383,382384,382385,382386,382387,382388,382389,0,382390,382391,382392,382393,382394,382395,382396,382397,396484,382401,382402,382403,382404,382405,382406,382407,382408,382398,382399,382445,382446],c=[],d={},e=function(){var a=new Image,c=[];for(var e in d)c.push(e+"-"+d[e].v+"-"+(b[e]?b[e]:e)+"_"+d[e].v);a.src="http://jsreport.qq.com/cgi-bin/report?id=135&rs="+c.join("|_|")+"&r="+Math.random(),a=null,d={}};return function(b,f,g){if(f=f||1,"once"==g){if(-1!=$.inArray(b,c))return;c.push(b)}d[b]?d[b].v+=f:d[b]={v:f},clearTimeout(a),"now"==g?e():a=setTimeout(e,500)}}()}(),function(a,b){"function"==typeof define&&define.amd?define(["report"],b):a.report=b(a.report)}(this,function(a){function b(){if(e)return e;var a=[],b=10,c=0;return e=function(){var d=c++%b;return a[d]||(a[d]=new Image)}}function c(a,c){if(a){var d=[];if(c)for(var e in c)c[e]&&d.push(e+"="+c[e]);var a=a+d.join("&");return b()().src=a}}a=a||{},"object"!=typeof JSON&&(JSON={}),"function"!=typeof JSON.stringify&&(JSON.stringify=function(){});var d={TDW:"http://cgi.connect.qq.com/report/tdw/report?"},e=null,f=function(a,b,e,f,g){if(a&&b&&e){var h={table:a,fields:encodeURIComponent(JSON.stringify(b)),datas:encodeURIComponent(JSON.stringify(e)),pr_ip:f||"obj3",pr_t:g||"ts",t:+new Date};c(d.TDW,h)}},g=Object.prototype.toString,h={},i=[],j=[];reportTable="";var k=function(a,b,c){if(!a)throw"params can not be null";reportTable=c||reportTable||"dc00141";var d;switch(g.call(a)){case"[object Array]":d=a;break;case"[object Object]":if(!b){var e=[],k=[];for(var l in a)"obj3"!==l&&"ts"!==l&&(e.push(l),k.push(a[l]));return f(reportTable,e,[k],a.obj3,a.ts)}d=[a]}for(var l=0,m=d.length;m>l;l++){var n=d[l],o=[];j.push(o);for(var p in n){var q;p in h?(q=h[p],i[q]=p):(i.push(p),h[p]=q=i.length-1),o[q]=n[p]||""}}b||this.goto()};return a.toreport=function(){var a=j.length;if(a>1)for(var b=0;a>b;b++)for(var c=0,d=i.length;d>c;c++)j[b][c]||0===j[b][c]||(j[b][c]="");f(reportTable,i,j),h.length=i.length=j.length=0,reportTable=""},a.tdw=k,a}),function(a){"undefined"==typeof window[a]&&(window[a]={});var b=window[a];b.reporter||(b.reporter={}),b.reporter.mobileMonitor={reportURL:"http://wspeed.qq.com/w.cgi?",mmTransport:new Image,mmReportObj:{appid:1000154,releaseversion:"201407010952",frequency:1},mmReport:function(a,b,c){var d,e=this,f=[];if(e.mmReportObj.touin);else try{e.mmReportObj.touin=$.cookie.getUin()}catch(g){e.mmReportObj.touin=""}if(e.mmReportObj.commandid=a,e.mmReportObj.resultcode=b,e.mmReportObj.tmcost=c,0==b){e.mmReportObj.frequency=20;var h=Math.floor(100*Math.random()+1);if(h>5)return}else e.mmReportObj.frequency=1;for(var i in e.mmReportObj)e.mmReportObj.hasOwnProperty(i)&&f.push(i+"="+encodeURIComponent(e.mmReportObj[i]));d=e.reportURL+f.join("&"),e.mmTransport.src=d}}}("QUNFIND"),function(a){function b(a){return a=parseInt(a)||0,a>1e6?(a/=1e6,a=parseInt(a),a+="百万"):a>1e4?(a/=1e4,a=parseInt(a),a+="万"):a>1e3?(a/=1e3,a=parseInt(a),a+="千"):a>100&&(a/=100,a=parseInt(a),a+="百"),a}a||(a=window.QUNFIND={});var c={},d="http://xiaoqu.qq.com/mobile/barindex.html?_bid=128#bid=",e="http://xiaoqu.qq.com/mobile/detail.html?_bid=128#bid=";c.processData=function(a){var c={name:"英雄联盟",pic:"http://p.qpic.cn/qqconadmin/0/73ca7b8356e3428da7fd36aaa69094ed/0",bid:10038,url:d+"10038",pids:2154,fans:2100},f={title:""},g={uin:$.cookie.getUin(),ts:new Date-0,opername:"Grp_tribe",module:"join_list",obj1:"",obj2:$.version,obj3:"",ver2:$.isAndroid?1:0,ver3:"",ver4:""};a.followItem&&window.setTimeout(function(){g.action="exp_three",g.ver1=a.followItem.bid,report.tdw(g,!1)},500),a.followMostItem&&window.setTimeout(function(){g.action="exp_one",g.ver1=a.followMostItem.bid,report.tdw(g,!1)},1500),a.postMostItem&&window.setTimeout(function(){g.action="exp_two",g.ver1=a.postMostItem.bid,report.tdw(g,!1)},2500);var h=a.followItem||c,i=a.followMostItem||c,j=a.postMostItem||c,k=a.banner||f;return h.url=h.url||d+h.bid,h.url+="&from=search",i.url=i.url||d+i.bid,i.url+="&from=search",j.url=j.url||d+j.bid,j.url+="&from=search",k.url="1"===k.type?k.url||d+k.bid:k.url||e+k.bid+"&pid="+k.pid,k.url+="&from=search",h.fans=b(h.fans),h.pids=b(h.pids),i.fans=b(i.fans),i.pids=b(i.pids),j.fans=b(j.fans),j.pids=b(j.pids),a.followItem=h,a.followMostItem=i,a.postMostItem=j,a.banner=k,a.PLATFORM_INT=$.isAndroid?1:0,a},a.TRIBE_SEC_MODEL=c}(window.QUNFIND),function(a){a||(a=window.QUNFIND={});var b={};b.processData=function(a){return a.forEach(function(a){var b=a.sec;b.forEach(function(a){var b=a.third;b.forEach(function(a,b,c){"tribe"===a.type?(c[b].openTribeFlag=!0,c[b].liClassName="bar"):c[b].liClassName=a.type})})}),a},a.CATEGORIE_MODEL=b}(window.QUNFIND),function(a){a||(a=window.QUNFIND={});var b={};b.processData=function(a){var b=a.category_rcmd;return b=b||{wording:""}},a.CATEGORY_SEC_MODEL=b}(window.QUNFIND);var Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e);return f}();Handlebars.registerHelper("equal",function(a,b,c){if(arguments.length<3)throw new Error("Handlebars Helper equal needs 2 parameters");return a!=b?c.inverse(this):c.fn(this)}),Handlebars.registerHelper("ifCond",function(a,b,c,d){switch(b){case"==":return a==c?d.fn(this):d.inverse(this);case"===":return a===c?d.fn(this):d.inverse(this);case"<":return c>a?d.fn(this):d.inverse(this);case"<=":return c>=a?d.fn(this):d.inverse(this);case">":return a>c?d.fn(this):d.inverse(this);case">=":return a>=c?d.fn(this):d.inverse(this);case"&&":return a&&c?d.fn(this):d.inverse(this);case"||":return a||c?d.fn(this):d.inverse(this);default:return d.inverse(this)}}),this.JST=this.JST||{},this.JST["tribe-sec"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='\n\n<p class="sec-title">热门部落</p>\n\n<div class="sec-inner">\n\n    <div class="sec-inner-title-container" data-open-tribe="'+i((f=b&&b.banner,f=null==f||f===!1?f:f.url,typeof f===h?f.apply(b):f))+'" data-report-dc-str="opername=Grp_tribe,module=join_list,action=Clk_recom,ver1='+i((f=b&&b.banner,f=null==f||f===!1?f:f.bid,typeof f===h?f.apply(b):f))+'">\n        <span class="sec-inner-title">今日推荐</span>\n        <span class="sec-inner-title-desc">'+i((f=b&&b.banner,f=null==f||f===!1?f:f.title,typeof f===h?f.apply(b):f))+'</span>\n    </div>\n\n    <ul class="ul-hot">\n\n        \n        <li data-open-tribe="'+i((f=b&&b.followMostItem,f=null==f||f===!1?f:f.url,typeof f===h?f.apply(b):f))+'" class="li-hot" data-report-dc-str="opername=Grp_tribe,module=join_list,action=Clk_one,ver1='+i((f=b&&b.followMostItem,f=null==f||f===!1?f:f.bid,typeof f===h?f.apply(b):f))+'">\n\n            <div class="hot-con-wrapper">\n                <div class="hot-con">\n                    <img class="tribe-avatar" src="'+i((f=b&&b.followMostItem,f=null==f||f===!1?f:f.pic,typeof f===h?f.apply(b):f))+'"/>\n                    <div class="tribe-desc-container">\n                        <p class="tribe-name">'+i((f=b&&b.followMostItem,f=null==f||f===!1?f:f.name,typeof f===h?f.apply(b):f))+"</p>\n                        <span>话题</span>\n                        <span>"+i((f=b&&b.followMostItem,f=null==f||f===!1?f:f.pids,typeof f===h?f.apply(b):f))+"</span>\n                        <span>关注</span>\n                        <span>"+i((f=b&&b.followMostItem,f=null==f||f===!1?f:f.fans,typeof f===h?f.apply(b):f))+'</span>\n                    </div>\n                </div>\n            </div>\n        </li>\n\n        \n        <li data-open-tribe="'+i((f=b&&b.postMostItem,f=null==f||f===!1?f:f.url,typeof f===h?f.apply(b):f))+'" class="li-hot" data-report-dc-str="opername=Grp_tribe,module=join_list,action=Clk_two,ver1='+i((f=b&&b.postMostItem,f=null==f||f===!1?f:f.bid,typeof f===h?f.apply(b):f))+'">\n\n            <div class="hot-con-wrapper">\n                <div class="hot-con">\n                    <img class="tribe-avatar" src="'+i((f=b&&b.postMostItem,f=null==f||f===!1?f:f.pic,typeof f===h?f.apply(b):f))+'"/>\n                    <div class="tribe-desc-container">\n                        <p class="tribe-name">'+i((f=b&&b.postMostItem,f=null==f||f===!1?f:f.name,typeof f===h?f.apply(b):f))+"</p>\n                        <span>话题</span>\n                        <span>"+i((f=b&&b.postMostItem,f=null==f||f===!1?f:f.pids,typeof f===h?f.apply(b):f))+"</span>\n                        <span>关注</span>\n                        <span>"+i((f=b&&b.postMostItem,f=null==f||f===!1?f:f.fans,typeof f===h?f.apply(b):f))+'</span>\n                    </div>\n                </div>\n            </div>\n\n        </li>\n\n        \n        <li data-open-tribe="'+i((f=b&&b.followItem,f=null==f||f===!1?f:f.url,typeof f===h?f.apply(b):f))+'" class="li-hot" data-report-dc-str="opername=Grp_tribe,module=join_list,action=Clk_three,ver1='+i((f=b&&b.followItem,f=null==f||f===!1?f:f.bid,typeof f===h?f.apply(b):f))+'">\n\n            <div class="hot-con-wrapper">\n                <div class="hot-con">\n                    <img class="tribe-avatar" src="'+i((f=b&&b.followItem,f=null==f||f===!1?f:f.pic,typeof f===h?f.apply(b):f))+'"/>\n                    <div class="tribe-desc-container">\n                        <p class="tribe-name">'+i((f=b&&b.followItem,f=null==f||f===!1?f:f.name,typeof f===h?f.apply(b):f))+"</p>\n                        <span>话题</span>\n                        <span>"+i((f=b&&b.followItem,f=null==f||f===!1?f:f.pids,typeof f===h?f.apply(b):f))+"</span>\n                        <span>关注</span>\n                        <span>"+i((f=b&&b.followItem,f=null==f||f===!1?f:f.fans,typeof f===h?f.apply(b):f))+'</span>\n                    </div>\n                </div>\n            </div>\n\n        </li>\n\n        \n        <li data-open-tribe="more" class="li-hot" data-report-dc-str="opername=Grp_tribe,module=join_list,action=Clk_more">\n\n            <div class="hot-con-wrapper">\n                <div class="hot-con">\n                    <div class="more-img">\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                    </div>\n                    <p class="more-desc">更多部落</p>\n                </div>\n            </div>\n\n        </li>\n    </ul>\n</div>'}),this.JST=this.JST||{},this.JST["categories-list"]=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f,h="";return h+='\n    <div class="hot-item" id="',(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===k?f.call(a,{hash:{},data:b}):f),h+=l(e)+'">\n        <div class="hot-cat">\n            <span class="item-key">',(f=c.item)?e=f.call(a,{hash:{},data:b}):(f=a&&a.item,e=typeof f===k?f.call(a,{hash:{},data:b}):f),h+=l(e)+'</span>\n        </div>\n        <ul class="cat-keys">\n            ',e=c.each.call(a,a&&a.third,{hash:{},inverse:m.noop,fn:m.programWithDepth(2,g,b,a,d),data:b}),(e||0===e)&&(h+=e),h+="\n        </ul>\n    </div>\n"}function g(a,b,d,e){var f,g,i="";return i+='\n                <li class="li-hot ',(g=c.liClassName)?f=g.call(a,{hash:{},data:b}):(g=a&&a.liClassName,f=typeof g===k?g.call(a,{hash:{},data:b}):g),i+=l(f)+'"\n                    role="link"\n                    ',f=c["if"].call(a,a&&a.openTribeFlag,{hash:{},inverse:m.noop,fn:m.program(3,h,b),data:b}),(f||0===f)&&(i+=f),i+='\n                    data-report-dc-str="opername=Grp_join,module=keyword_two,action=Clk,ver1=',(g=c.key)?f=g.call(a,{hash:{},data:b}):(g=a&&a.key,f=typeof g===k?g.call(a,{hash:{},data:b}):g),i+=l(f)+",ver4="+l((f=e&&e.firstID,typeof f===k?f.apply(a):f))+",ver3="+l((f=d&&d.item,typeof f===k?f.apply(a):f))+'"\n                    key="',(g=c.key)?f=g.call(a,{hash:{},data:b}):(g=a&&a.key,f=typeof g===k?g.call(a,{hash:{},data:b}):g),i+=l(f)+'">\n                    <div class="hot-con">\n                        <span>',(g=c.key)?f=g.call(a,{hash:{},data:b}):(g=a&&a.key,f=typeof g===k?g.call(a,{hash:{},data:b}):g),i+=l(f)+"</span>\n                    </div>\n                </li>\n            "}function h(a,b){var d,e,f="";return f+='\n                        blink="http://xiaoqu.qq.com/mobile/barindex.html?_bid=128#bid=',(e=c.bid)?d=e.call(a,{hash:{},data:b}):(e=a&&a.bid,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+'&from=search"\n                    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j="",k="function",l=this.escapeExpression,m=this;return j+="\n",i=c.each.call(b,b&&b.secCategories,{hash:{},inverse:m.noop,fn:m.programWithDepth(1,f,e,b),data:e}),(i||0===i)&&(j+=i),j}),$.parseJSON=function(data){try{return window.JSON&&window.JSON.parse?window.JSON.parse(data)||!1:eval("("+data+")")||!1
}catch(e){return!1}},$.ajax=function(){function a(){try{return new window.XMLHttpRequest}catch(a){return!1}}function b(c,d,e,f,g,h){f=f||0,g=g||0,h=h||"POST";var i,j={retcode:404},k=Date.now(),l=a(),m=function(){if(4==l.readyState){if(i&&clearTimeout(i),l.onreadystatechange=$.noop,l.status>=200&&l.status<300||304===l.status||1223===l.status){if(j=$.parseJSON(l.responseText),j&&0==j.retcode?e(j):g?b(c,d,e,f,--g):e(j),"http://qun.qq.com/cgi-bin/bar/qun_rcmd"===c){var a,h=l.getAllResponseHeaders();(a=h.match(/ETag: (\S+)/))&&(a=a[1],a&&localStorage.setItem("qun_find_category_ETag",a))}}else e(!1,l);window.QUNFIND&&window.QUNFIND.reporter&&window.QUNFIND.reporter.mobileMonitor&&window.QUNFIND.reporter.mobileMonitor.mmReport(c.split("?")[0],j.retcode||0,Date.now()-k)}};if(l.open(h,c,!0),"http://qun.qq.com/cgi-bin/bar/qun_rcmd"===c){var n=localStorage.getItem("qun_find_category_ETag");n&&l.setRequestHeader("If-None-Match",n)}l.onreadystatechange=m;var o="";if(d)for(var p in d)o+="&"+p+"="+d[p];l.send(o),f&&(i=setTimeout(function(){l.abort(),e(!1)},f))}function c(a,b){try{var c=document,d=c.createElement("script");d.src=a,b&&c.getElementsByTagName("head")[0].appendChild(d)}catch(e){alert(e)}}return{post:b,jsonp:c}}(),$.face={_face_seq_cbk:[],_face_seq:0,_face_cbk:function(a){var b=this,c=b._face_seq_cbk[a.seq];if(a&&0===a.ec){if(a.grp){var d=a.grp;for(var e in d){var f=d[e];"string"==typeof f||"object"==typeof f&&f.u&&(f=f.u,a.grp[e]=f)}}c&&c.succ(a)}else c&&c.err(a)},_face_cbk_reged:!1,_addFaceCbk:function(a){var b=this,c=b._face_seq;return b._face_seq_cbk[b._face_seq]=a,b._face_seq++,c},_get:function(a){if(a&&a.param&&(a.param.qq||a.param.grp)&&(a.err||a.succ)){var b=this,c="http://face.imweb.qq.com/cgi-bin/face?",d=[];if(d.push("app=group_info"),d.push("redir=0"),!b._face_cbk_reged){var e=window.callback;window.callback=function(a){e&&e(a),b._face_cbk(a)},b._face_cbk_reged=!0}var f=b._addFaceCbk({err:a.err,succ:a.succ});if(d.push("seq="+f),a.param&&a.param.qq){var g=a.param.qq,h=g.size||"40",i=g.ls.join("_");d.push("qq="+h+"|"+i)}if(a.param&&a.param.grp){var j=a.param.grp,k=j.size||"100",l=j.ls.join("_");d.push("grp="+k+"|"+l)}c+=d.join("&");var m=function(a){var b=document.createElement("script");b.src=a,document.getElementsByTagName("head")[0].appendChild(b)};m(c)}},_imgCache:{},get:function(a){for(var b=this,c=a.param&&a.param.grp&&a.param.grp.ls||[],d=a.param&&a.param.qq&&a.param.qq.ls||[],e=function(a){var b="";for(var c in a)b=c;return b},f="http://3.url.cn/face/grp/0_100.png",g=function(a,b){for(var c=0,d=a.length;d>c;c++){var g=a[c],h=e(g),i=g[h];b[h]&&b[h]!=f&&i.src!=b[h]&&(i.onload=i.onerror=function(){this.onload=this.onerror=null},i.src=b[h])}},h=[],i=0;i<c.length;i++)h.push({type:"grp",value:c[i]});for(var i=0;i<d.length;i++)h.push({type:"qq",value:d[i]});var j=[];if("object"==typeof h[0].value){var k=$.extend({},a);k.param.grp&&delete k.param.grp,k.param.qq&&delete k.param.qq;for(var l=[],i=0,m=h.length;m>i;i++){{var n=h[i],o=n.value,p=e(o);o[p]}b._imgCache[p]?l.push(o):("grp"==n.type&&(!k.param.grp&&(k.param.grp={ls:[]}),k.param.grp.ls.push(p)),"qq"==n.type&&(!k.param.qq&&(k.param.qq={ls:[]}),k.qq.ls.push(p)),j.push(o))}l.length&&g(l,b._imgCache),k.succ=function(c){g(j,$.extend($.extend(b._imgCache,c.grp),c.qq)),a.succ(c)},k.err=function(b){for(var c=0,d=j.length;d>c;c++){var f=j[c],g=e(f),h=f[g];h.style.visibility="visible"}a.err(b)},b._get(k)}else b._get(a)}},function(){function a(a){a=a||"服务器繁忙，请稍后重试"}function b(a){if($.canInvokeTribeInterface){var b=window.JST["tribe-sec"](a);$("#tribe-sec").html(b)}var c=window.QUNFIND.CATEGORY_SEC_MODEL.processData(a);$("#categories-rcmd-info").html(c.wording),$("#categories-rcmd-info-container").attr("data-open-categories-rcmd",c.param).attr("data-open-categories-rcmd-type",c.type)}function c(){function a(a){if(a){var b,c;b=a.retcode,c=a.result,b||(c=QUNFIND.CATEGORIE_MODEL.processData(c.categories),window.localStorage.setItem("qun_find_list_data",JSON.stringify(c)))}else;}$.ajax.post("http://qun.qq.com/cgi-bin/bar/qun_categery",{},a,3e4)}function d(a){var b=a.split(","),c=[],d={};b.forEach(function(a){c.push(a.split("="))});for(var e=0,f=c.length;f>e;e++)for(var g=0,h=c[e],i=h.length;i>g;g++)d[h[0]]=h[1];d.ts=new Date-0,d.obj2=$.version,d.uin=$.cookie.getUin(),d.ver2=$.isAndroid?1:0,report.tdw(d,!1)}var e=function(){var e=document.documentElement.clientHeight,f=document.documentElement.clientWidth,g=function(){var a;return{get:function(b){b=$.isFunction(b)?b:$.noop,a?b(a):$.isAndroid?($.logs.getBknStart=new Date-0,JsBridge.invokeClientMethod("Troop","getBkn",function(c){$.logs.getBknEnd=new Date-0,b(a=c)})):b(a=$.cookie.getBkn())}}}(),h=function(a,b,c,d){report.tdw({uin:$.cookie.getUin(),ts:new Date-0,opername:d||"nearby_opengrp",module:c||"grpfind_phone",action:a,obj1:b,obj2:$.version,obj3:"",ver1:"",ver2:"",ver3:"",ver4:""},!0)},i="http://cgi.connect.qq.com/report/report_vm?",j=function(a){var b=new Image;b.src=i+"monitors=["+a+"]"},k=function(){var a=500;window.btoa=function(){function a(a){var b,c,d,e;for(b="",d=a.length,c=0;d>c;c++)e=a.charCodeAt(c),e>=1&&127>=e?b+=a.charAt(c):e>2047?(b+=String.fromCharCode(224|e>>12&15),b+=String.fromCharCode(128|e>>6&63),b+=String.fromCharCode(128|e>>0&63)):(b+=String.fromCharCode(192|e>>6&31),b+=String.fromCharCode(128|e>>0&63));return b}function b(a){var b,d,e,f,g,h="",i="",j="",k=0;do b=a.charCodeAt(k++),d=a.charCodeAt(k++),i=a.charCodeAt(k++),e=b>>2,f=(3&b)<<4|d>>4,g=(15&d)<<2|i>>6,j=63&i,isNaN(d)?g=j=64:isNaN(i)&&(j=64),h=h+c.charAt(e)+c.charAt(f)+c.charAt(g)+c.charAt(j),b=d=i="",e=f=g=j="";while(k<a.length);return h}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(c){return b(a(c))}}();var b=function(a){var b={groupCode:a.gcode,troopName:$.html.decode(a.name),location:$.html.decode(a.pos.replace(/<br>/g,"\n")),memberCnt:a.num,intro:$.html.decode(a.intro.replace(/<br>/g,"\n")),distance:a.distance};return"mqqapi://im/chat?uin="+a.gc+"&chat_type=opengroup&version=1&src_type=web&group_info="+window.btoa(JSON.stringify(b))},c=function(){if(l.isNGTab())for(var b=$('.li-interest[open="1"]'),c=0,d=b.length;d>c;c++){var f=b[c];1!=f.getAttribute("report")&&f.getBoundingClientRect().top<e&&(h("exp_opengrp",f.getAttribute("gc")),f.setAttribute("report",1))}setTimeout(function(){report.toreport()},a)};return{join:b,report:c}}(),l=function(){var a,b=0,c=1;return{NG_TAB:b,RC_TAB:c,getTab:function(){return a},isInited:function(){return a===b||a===c},isTab:function(b){return a===b},isNGTab:function(){return this.isTab(b)},isRCTab:function(){return this.isTab(c)},select:function(b){a=b,b==c?($("#ulRecommend").show(),$("#ulNeighbor").hide(),$(".neighbor-tab").removeClass("selected"),$(".recommend-tab").addClass("selected")):($("#ulRecommend").hide(),$("#ulNeighbor").show(),$(".recommend-tab").removeClass("selected"),$(".neighbor-tab").addClass("selected"))},selectNGTab:function(){this.select(b)},selectRCTab:function(){this.select(c)}}}(),m=function(){function a(a,c,d,e){var f=b(a),g=b(d),h=f-g,i=b(c)-b(e),j=2*Math.asin(Math.sqrt(Math.pow(Math.sin(h/2),2)+Math.cos(f)*Math.cos(g)*Math.pow(Math.sin(i/2),2)));return j*=r,j=Math.round(1e4*j)/1e4}function b(a){return a*Math.PI/180}function c(a){return a=a||{},a.lat=a.stGps?a.stGps.iLat/q||0:a.lat||0,a.lon=a.stGps?a.stGps.iLon/q||0:a.lon||0,a}function d(){return k&&"undefined"!=typeof k.lat&&"undefined"!=typeof k.lon?'{"stGps":{"eType":0,"iLat":'+k.lat*q+',"iAlt":0,"iLon":'+k.lon*q+"}}":k||""}function e(a){a=$.isFunction(a)?a:$.noop,k?a(d()):$.isAndroid?(window.getRealLocationCallback=function(b,c){if(0==b&&c&&c.data)k=c.data.replace(/\+/g,"_").replace(/\//g,"-").replace(/=/g,"@"),l=o;else if("undefined"!=typeof b&&null!=b){var e=String(b).split(",");0!=e[0]&&0!=e[1]&&(k={lon:e[0],lat:e[1]}),l=o}else l=p;a(d())},JsBridge.invokeClientMethodByAndriod("publicAccount","getRealLocationDes",["{}","getRealLocationCallback"])):$.isIOS?JsBridge.invokeClientMethod("data","getOSLocation",{params:{desiredAccuracy:2,isWGS84:1,isShowAlert:1}},function(b,c){c&&"undefined"!=typeof c.lat&&"undefined"!=typeof c.lon?(k=c,l=o):l=p,a(d())}):a()}function f(b){return b=c(b),a(b.lat,b.lon,k.lat,k.lon)}function g(){return l=$.isIOS?JsBridge.invokeClientMethod("data","getLBSState"):o}function h(){return l=l||g(),l==o}function i(){return j()||l==o}function j(){return h(),l===m||l===n}var k,l,m=1,n=2,o=4,p=-1,q=1e6,r=6378137;return{getDistance:f,getLocation:e,getLBSState:g,getData:d,isOpen:h,canOpen:i,isToOpen:j}}(),n=function(){var a="mqq_search_sid_1",b=new Function;return b.prototype.identify=function(){return $.queryString("sid")==$.localData.get(a)},b.prototype.read=function(a){return $.localData.get(a)},b.prototype.write=function(a,b){$.localData.set(a,b)},b.prototype.ticket=function(){$.localData.set(a,$.queryString("sid"))},b.prototype.remove=function(a){$.localData.remove(a)},b.prototype.hasKey=function(a){return!!$.localData.get(a)},b.prototype.extend=function(a){for(var b in a)this[b]=a[b];return this},b}(),o=function(){var a=new n,b=n.prototype,c="mqq_search_ng_lbs_1",d="mqq_search_ng_time_1",e="mqq_search_ng_group_1",f=6e5,g=200;return a.extend({read:function(){return b.read.call(a,e)},write:function(f){b.write.call(a,d,new Date-0),b.write.call(a,e,f),b.write.call(a,c,m.getData()),b.ticket.call(a)},isExisted:function(){return!!b.hasKey.call(a,e)},isTimeValid:function(){var c=new Date-0,e=b.read.call(a,d);return!!e&&f>=c-e},isDistanceValid:function(d){if($.isAndroid)return!1;var e=b.read.call(a,c);return!!e&&m.getDistance($.parseJSON(e),d)<=g}})}(),p=function(){var a=new n,b=n.prototype,c="mqq_search_rc_time_1",d="mqq_search_rc_group_1",e=432e5;return a.extend({read:function(){return b.read.call(a,d)},write:function(e){b.write.call(a,c,new Date-0),b.write.call(a,d,e),b.ticket.call(a)},isExisted:function(){return!!b.hasKey.call(a,d)},isTimeValid:function(){var d=new Date-0,f=b.read.call(a,c);return!!f&&e>=d-f}})}(),q=function(){function a(){$("#loader").removeClass("loading").removeClass("completed").removeClass("no-lbs").removeClass("view-more"),clearInterval(e),c=0,d=0}var b=14,c=0,d=0,e=-1;return{show:function(){a(),e=setInterval(function(){$("#loader").addClass("loading"),$("#loading").css("background-position",-d*b+"px "+-c*b+"px"),d++,d>3&&(d=0,c++),c>2&&(c=0)},75)},hide:a,complete:function(b){a(),$("#loader").addClass("completed"),b&&$("#noMore").html(b)},isActivate:function(){var a=$("#loader");return!a.hasClass("loading")&&!a.hasClass("completed")&&!a.hasClass("no-lbs")},showNoLBS:function(){a(),$("#loader").addClass("no-lbs")},showViewMore:function(){a(),$("#loader").addClass("view-more")}}}(),r=function(){function a(){$("#NGloading").hide(),clearInterval(e),c=0,d=0}var b=14,c=0,d=0,e=-1;return{show:function(){a(),e=setInterval(function(){$("#NGloading").css("background-position",-d*b+"px "+-c*b+"px").show(),d++,d>3&&(d=0,c++),c>2&&(c=0)},75)},hide:a}}(),s=function(){function a(){clearInterval(o),q=0}function b(){a(),o=setInterval(function(){$("#plLoading")[0].style.webkitTransform="rotate("+p*q++ +"deg)"},75)}function c(){var a=$("#"+i);a.length||(a=document.createElement("div"),a.id=i,a.className=j,document.body.appendChild(a),a=$(a)),a.show()}function d(){$("#"+i).hide()}function e(){var a=$("#"+k);a.length||(a=document.createElement("div"),a.id=k,a.className=l,a.innerHTML='<div class="pl-bg"></div><div class="pl-con"><div class="pl-loading" id="plLoading"></div><div class="pl-tips">正在加载...</div></div>',document.body.appendChild(a),a=$(a)),a.show()}function f(){$("#"+k).hide()}function g(){m=setTimeout(function(){c(),e(),b()},n)}function h(){clearTimeout(m),d(),f(),a()}var i="loadingMasker",j="loading-masker",k="pageLoading",l="page-loading",m=-1,n=100,o=-1,p=30,q=0;return{show:g,hide:h}}(),t=function(){function a(a){clearTimeout(c),$("#tipsCnt").html(e[a]||f),$("#tips").css({top:0,opacity:1}),c=setTimeout(b,d)}function b(){var a=$("#tips");a.css({top:0-a.height()+"px",opacity:0})}var c,d=2500,e={1281:"由于你被多次举报，已无法进入公开群",1284:"该群人数已经满，请稍后再来",1282:"该群已被关闭，无法进入"},f="加群失败";return{fadeIn:a,fadeOut:b}}(),u=function(){function a(a){for(var b=0,c=n.length;c>b;b++)if(n[b].gc==a)return n[b]}function b(){for(var a=$("."+(l.isNGTab()?"ng-face":"rc-face")+'[init="0"]'),b=[],c=0,d=a.length;d>c;c++){var e={};e[a[c].getAttribute("gc")]=a[c],b.push(e)}b.length&&$.face.get({param:{grp:{size:100,ls:b}},succ:function(){a.attr("init",1)},err:function(){a.attr("init",1)}})}function c(a){console.debug("_faceTid="+j),a?j||(j=setTimeout(function(){b(),j=null},u)):b()}function e(a,b){var c=document.createElement("ul");for(c.innerHTML=$.tmpl(y,{list:b,groupNameMaxWidth:w});c.children.length;)a.append(c.children[0])}function g(a){for(var b=[],c=0,d=a.ng.length;d>c;c++){var f=a.ng[c];f.gc=f.lCode,o.indexOf(f.gc)>-1||(f.name=f.strName,f.num=f.iMemberCnt,f.pos=f.strLocation||"",f.intro=f.strIntro,f.open=1048576&f.dwGroupFlagExt,f.active=f.bAlive,f.cert=2048&f.dwGroupFlagExt,f.distance=f.iDistance,f.gcode=a.gu[f.gc],f.ng=!0,b.push(f),o.push(f.gc),n.push(f))}e($("#ulNeighbor"),b)}function h(a){for(var b=[],c=0,d=a.gList.length;d>c;c++){var f=a.gList[c];p.indexOf(f.gc)>-1||(f.name=f.gName,f.num=f.gMemNum,f.pos=f.gLocation||"",f.intro=f.gIntro,f.active=f.gHot,b.push(f),p.push(f.gc))}e($("#ulRecommend"),b)}function i(a){q.hide(),a&&0!=a.ec&&q.showViewMore(),(l.isRCTab()&&v.isRCCompleted()||l.isNGTab()&&v.isNGCompleted())&&q.complete("暂无更多的群"),l.isRCTab()&&v.isRCEmpty()&&q.complete("暂无推荐群"),l.isNGTab()&&v.isNGEmpty()&&q.complete("附近暂时没有群"),l.isNGTab()&&m.isToOpen()&&q.hide(),l.isNGTab()&&!m.canOpen()&&q.showNoLBS()}var j,n=[],o=[],p=[],s=!1,t=!1,u=500,w=f-160,x="http://qplus3.idqqimg.com/qun/portal/search/mobileqq/modules/index/img/group.png",y='<% for (var i = 0, len = list.length; i < len; i++) {%>                            <li class="li-interest" gc=<%=list[i].gc%> open="<%=list[i].open ? 1 : 0%>" role="option">                                <div class="group-face-cover"><img init="0" src="'+x+"\" gc=\"<%=list[i].gc%>\" class=\"group-face <%=list[i].ng ? 'ng-face' : 'rc-face'%>\"></div>                                <%=list[i].active ? '<span class=\"active-group\"></span>' : ''%>                                <div class=\"group-info\">                                    <p class=\"group-name <%=list[i].cert ? 'cert-group' : ''%>\"><span <%=list[i].open ? 'class=\"open-g-name\" style=\"max-width:' + (groupNameMaxWidth - (list[i].cert ? 15 : 0)) + 'px\"' : ''%>><%=list[i].name%></span><%=list[i].open ? '<span class=\"open-g-ico\">公开群</span>' : ''%></p>                                    <p class=\"group-fea\">                                        <span class=\"group-peo\"><%=list[i].num%>人</span>                                        <span class=\"<%=list[i].pos ? 'group-pos' : ''%>\"><%=list[i].pos%></span>                                    </p>                                    <p class=\"group-intro\"><%=list[i].intro%></p>                                    <p style=\"height:0;overflow:hidden;\"><%=list[i].open ? '连按两次进入公开群' : '连按两次来查看群资料'%></p>                                </div>                            </li>                        <% } %>";return{showFSGroup:function(a,b){"string"==typeof b&&(b=$.parseJSON(b)),l.isInited()||(l.select(a),$.report(18+a)),this.updateFSGroup(a,b),$("#bottom").show()},updateFSGroup:function(a,b){"string"==typeof b&&(b=$.parseJSON(b)),a==l.NG_TAB&&b&&b.ng&&b.ng.length&&($("#ulNeighbor").html(""),o=[],n=[],g(b)),a==l.RC_TAB&&b&&b.gList&&b.gList.length&&($("#ulRecommend").html(""),p=[],h(b)),c(!0),i(b)},getShownNGGroups:function(){return o},getShownRCGroups:function(){return p},showGroups:function(a){"string"==typeof a&&(a=$.parseJSON(a)),g(a),h(a),c(),i(a),d("opername=Grp_join,module=nearbygrp_list,action=exp"),d("opername=Grp_join,module=recomgrp_list,action=exp")},manageLoader:i,manageFace:function(){c(!0)},setNGUpdateState:function(a){s=a,a?r.show():(r.hide(),k.report())},isNGUpdating:function(){return s},setRCUpdateState:function(a){t=a},isRCUpdating:function(){return t},indexGroupOf:a}}(),v=function(){var f=[0,0],i=[5,9999],j=!1,n=!1,r=500,v=300,w=77,x=Math.max(2,Math.ceil((e-v)/w)),y=x+3,z=12,A=function(){function b(a){for(var b=0,c=e.length;c>b;b++){var d=e[b];if(d.p==a.p&&d.n==a.n&&d.nn==a.nn&&d.gl==a.gl)return!0}return!1}function d(b){function d(d){if(d){var e,f,g;e=d.retcode,f=d.result||{},g=f.need_update||0,e||(f=window.QUNFIND.TRIBE_SEC_MODEL.processData(f),b&&b(f),g&&c(),f&&localStorage.setItem("qun_find_tribe_rec_data",JSON.stringify(f)))}else a()}var e=localStorage.getItem("qun_find_tribe_rec_data");if(e)try{e=JSON.parse(e),b&&b(e)}catch(f){}$.ajax.post("http://qun.qq.com/cgi-bin/bar/qun_rcmd",{support_tribe:$.canInvokeTribeInterface?1:0},d,3e4,null,"GET")}var e=[],h=function(a,c,d){if(!b(a)){c=$.isFunction(c)?c:$.noop,e.push(a),$.logs.postDataStart=new Date-0;var g=function(b){if(b=b||{ec:-1},b.ng=b.ng||[],b.gList=b.gList||[],b.gu=b.gu||{},e.splice(e.indexOf(a),1),0==b.ec){if(a.n){var d=b.gList.length;b.rcend=!d,!f[l.RC_TAB]++&&d&&p.write(JSON.stringify(b))}if(a.nn){var d=b.ng.length;b.ngend=!d,!f[l.NG_TAB]++&&d&&o.write(JSON.stringify(b))}}if(c(b),$.logs.postDataEnd=new Date-0,$.logs.postDataEnd-$.logs.postDataStart>=5e3?$.report(29):$.report(30),0==b.ec){var g=new Date-a.r;500>g?$.report(12):1e3>g?$.report(13):$.report(14)}else 12==b.ec&&$.report(17),$.report(15)};$.ajax.post("http://qun.qq.com/cgi-bin/promote_group/"+(a.n>0?"recommend_group_mobile":"nearby_group_mobile"),a,function(b){var c=d-(new Date-0-a.r);c>0?setTimeout(function(){g(b)},c):g(b)})}},i=function(a,b){b=$.isFunction(b)?b:$.noop,g.get(function(c){b({k:"",p:f[a],n:a==l.RC_TAB?f[l.RC_TAB]?z:y:0,nn:a==l.NG_TAB?f[l.NG_TAB]?z:y:0,c:5,t:0,d:$.isAndroid?1:0,v:$.version,st:1,open:$.version>="4.7"?1:0,bkn:c,lbs:a==l.NG_TAB?m.getData():"",r:new Date-0,gl:a==l.NG_TAB?u.getShownNGGroups().join("|"):u.getShownRCGroups().join("|")})})};return{requestNGGroup:function(a,b){a=$.isFunction(a)?a:$.noop,i(l.NG_TAB,function(c){h(c,a,b||0)})},requestRCGroup:function(a,b){a=$.isFunction(a)?a:$.noop,i(l.RC_TAB,function(c){h(c,a,b||0)})},autoRequest:function(){l.isNGTab()&&m.canOpen()?m.getLocation(function(a){a&&(q.show(),A.requestNGGroup(function(a){B(l.NG_TAB,a),u.showGroups(a),k.report()}))}):l.isRCTab()&&(q.show(),A.requestRCGroup(function(a){B(l.RC_TAB,a),u.showGroups(a)}))},getTribeRecInfo:d}}(),B=function(a,b){a==l.NG_TAB&&b&&b.ngend&&(j=!0),a==l.RC_TAB&&b&&b.rcend&&(n=!0)},C=function(){if(m.isOpen()&&o.identify()&&o.isExisted()&&o.isTimeValid()){var a=$.parseJSON(o.read());B(l.NG_TAB,a),u.showFSGroup(l.NG_TAB,a),f[l.NG_TAB]=1}if(p.identify()&&p.isExisted()&&p.isTimeValid()){var a=$.parseJSON(p.read());B(l.RC_TAB,a),u.showFSGroup(l.RC_TAB,a),f[l.RC_TAB]=1}else A.requestRCGroup(function(a){B(l.RC_TAB,a),u.showFSGroup(l.RC_TAB,a)});A.getTribeRecInfo(b)},D=function(){if(m.isOpen()){var a=$.parseJSON(o.read());B(l.NG_TAB,a),u.showFSGroup(l.NG_TAB,a),u.setNGUpdateState(!0),g.get(function(){m.getLocation(function(a){a?o.isDistanceValid(a)?(f[l.NG_TAB]=1,u.setNGUpdateState(!1)):(f[l.NG_TAB]=0,A.requestNGGroup(function(a){B(l.NG_TAB,a),u.updateFSGroup(l.NG_TAB,a),u.setNGUpdateState(!1)},r)):u.setNGUpdateState(!1)})})}},E=function(){$("[data-open-categories]").taphold(function(){var a=this.getAttribute("data-open-categories");a&&($.isAndroid?JsBridge.invokeClientMethod("Troop","openUrl",{url:"http://qun.qq.com/search/mobileqq/categories.html?_bid=118&tar="+a}):JsBridge.invokeClientMethod("nav","openLinkInNewWebView",{url:"http://qun.qq.com/search/mobileqq/categories.html?_bid=118&tar="+a,options:{styleCode:4,isNotRotate:1}}),$.report(this.getAttribute("index")))}),$("[data-open-categories-rcmd]").taphold(function(){var a=this.getAttribute("data-open-categories-rcmd-type"),b=this.getAttribute("data-open-categories-rcmd");switch(a){case"1":var c={};c.keywords=b;var d="http://qqweb.qq.com/m/relativegroup/index.html?_bid=165&source=qun_rec&keyword=";d+=encodeURIComponent(b),$.isAndroid?JsBridge.invokeClientMethod("Troop","openUrl",{url:d}):JsBridge.invokeClientMethod("nav","openLinkInNewWebView",{url:d,options:{styleCode:4,isNotRotate:1}});break;case"3":JsBridge.invokeClientMethod("Troop","showTroopProfile",{gc:b});break;case"4":b="http://xiaoqu.qq.com/mobile/barindex.html#bid="+b;case"2":$.isAndroid?JsBridge.invokeClientMethod("Troop","openUrl",{url:b}):JsBridge.invokeClientMethod("nav","openLinkInNewWebView",{url:b,options:{styleCode:4,isNotRotate:1}})}}),$("#tribe-sec").taphold(function(a){var b,c,d,e=a.target;b=$(e).closest(".li-hot"),c=$(e).closest(".sec-inner-title-container"),d=b.attr("data-open-tribe")||c.attr("data-open-tribe"),d&&("more"===d&&(d="http://xiaoqu.qq.com/mobile/?_wv=5123#list&from=search"),d=$.addURLTimestamp(d,128),$.isAndroid?JsBridge.invokeClientMethod("Troop","openUrl",{url:d}):JsBridge.invokeClientMethod("nav","openLinkInNewWebView",{url:d,options:{styleCode:4,isNotRotate:1}}))}),$(".ul-interest").taphold(function(a){var b=$(a.target),c=b.closest(".li-interest");if(c.length){var e=c.attr("gc");if(l.isRCTab()?d("opername=Grp_join,module=recomgrp_data,action=Clk,obj1="+e):d("opername=Grp_join,module=nearbygrp_data,action=Clk,obj1="+e),1==c.attr("open")){if(1==c.attr("loading"))return;c.attr("loading",1),s.show(),g.get(function(a){$.ajax.post("http://qun.qq.com/cgi-bin/open_group/join_pub_group",{gc:e,bkn:a},function(a){if(h("Clk_opengrp",e),0==a.ec){var b=u.indexGroupOf(e);b&&(JsBridge.openURL(k.join(b)),h("suc_in_opengrp",e))}else t.fadeIn(a.ec);s.hide(),setTimeout(function(){c.attr("loading",0)},2e3),report.toreport()})})}else JsBridge.invokeClientMethod("Troop","showTroopProfile",{gc:e,from:$.isAndroid?l.isRCTab()?"3016":"3015":l.isRCTab()?"2016":"2015",reportid:$.isAndroid?l.isRCTab()?"3016":"3015":l.isRCTab()?"2016":"2015"}),$.report(31+l.getTab())}},100);var a=function(){var a=document.body.scrollTop+document.documentElement.clientHeight>=document.body.scrollHeight-2*w;a&&q.isActivate()?A.autoRequest():k.report()};$(".neighbor-tab").taphold(function(){l.isNGTab()||(l.selectNGTab(),u.manageLoader(),u.manageFace(),a(),$.report(9))}),$(".recommend-tab").taphold(function(){l.isRCTab()||(l.selectRCTab(),u.manageLoader(),u.manageFace(),a(),$.report(10))}),window.addEventListener("scroll",a),window.addEventListener("touchend",a),document.addEventListener("click",function(a){var b,c,e;try{b=a.target,c=$(b).closest("[data-report-dc-str]"),e=c.attr("data-report-dc-str")}catch(f){return}e&&d(e),a.stopPropagation()},!1)};return{FSInit:function(){C(),D(),E()},isNGCompleted:function(){return j||f[l.NG_TAB]>=i[l.NG_TAB]||$("#ulNeighbor").children().length<x},isRCCompleted:function(){return n||f[l.RC_TAB]>=i[l.RC_TAB]||$("#ulRecommend").children().length<x},isNGEmpty:function(){return!$("#ulNeighbor").children().length},isRCEmpty:function(){return!$("#ulRecommend").children().length}}}();return{init:function(){v.FSInit(),setTimeout(function(){$.report(0),$.timing(),j(422859),d("opername=Grp_join,module=join_list,action=exp")},2e3)}}}();e.init()}();
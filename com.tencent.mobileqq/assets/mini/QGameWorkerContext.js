/*! /** 2020.8.1 23:29:27  * / */!function(e){var t={};function n(_){if(t[_])return t[_].exports;var r=t[_]={i:_,l:!1,exports:{}};return e[_].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,_){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:_})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var _=Object.create(null);if(n.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(_,r,function(t){return e[t]}.bind(null,r));return _},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=195)}({15:function(e,t,n){(function(t){var _=n(3),r=console.error,i={},o=!1,a=void 0!==t&&t.__ttObjdec__||{},u=!1;function f(e,t){if(!i[e]){if(_.isDevtool)return!!M(i[e],e).mod||(r("can't find module : ".concat(e)),o=!1,!1);o=t;try{if(null===e)return r("文件".concat(e,"为null \n")),!1;var n=a.util.loadJS(e,a.__tt__shouldPrintAll__exception?1:0)}catch(t){return o=!1,r("文件".concat(e,"加载异常(可能是es6的问题)\n"),t),!1}return o=!1,0===n?!0:(n<2e5?r("文件".concat(e,"加载失败(获取路径失败，错误码为").concat(n,")")):n<3e5?r("文件".concat(e,"加载失败(获取路径成功，加载js文件失败，错误码为").concat(n,")")):n<4e5&&r("文件".concat(e,"加载失败(js库参数错误，错误码为").concat(n,")")),!1)}return!0}function s(e,t){if(f(e,t)){var n=i[e],_=M(n,e);if(n=_.mod,e=_.path,void 0!==n){if(1===n.status){var o=n.factory,a={exports:{}},u=void 0;try{o&&(u=o(c(e),a,a.exports))}catch(t){return r("文件".concat(e,"执行出现异常\n"),t),void(n.status=3)}n.exports=a.exports||u,n.status=2}return n.exports}}}function c(e,t){var n,_=(null==(n=e.match(/(.*)\/([^\/]+)?$/))?void 0:n[1])?n[1]:"./";return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var n=[],r="".concat(_,"/").concat(e).split("/"),i=0,o=r.length;i<o;++i){var a=r[i];if(""!=a&&"."!=a)if(".."==a){if(0==n.length)throw new Error("can't find module : ".concat(e));n.pop()}else i+1<o&&".."==r[i+1]?i++:n.push(a)}try{var u=n.join("/");return/\.js$/.test(u)||(u+=".js"),_.match(/(^|\/)miniprogram_npm\//)&&(u=e),s(u,t)}catch(e){throw e}}}var M=function(e,t){var n=t,_=e;return _||(-1!==n.indexOf(".js")&&(n=n.replace(".js","")),n="miniprogram_npm/".concat(n,"/index.js"),_=i[n]),{mod:_,path:n}},l=c("",!0);e.exports={define:function(e,t){if(!i[e]||i[e].__coverEnable__){var n={exports:{},factory:t,status:1};n.__coverEnable__=o,i[e]=n}},require:l,allModules:i,getPreload:function(e){var t,n=(null==(t=e.match(/(.*)\/([^\/]+)?$/))?void 0:t[1])?t[1]:"./";return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var t=[],_="".concat(n,"/").concat(e).split("/"),r=0,i=_.length;r<i;++r){var o=_[r];if(""!=o&&"."!=o)if(".."==o){if(0==t.length)throw new Error("can't find module : ".concat(e));t.pop()}else r+1<i&&".."==_[r+1]?r++:t.push(o)}try{var a=t.join("/");/\.js$/.test(a)||(a+=".js"),n.match(/(^|\/)miniprogram_npm\//)&&(a=e),f(a)}catch(e){throw e}}},getRequire:c,requirePlugin:function(e){var t;if("string"!=typeof e)throw new Error("requirePlugin args must be a string.");if(!(null===(t=__wxConfig)||void 0===t?void 0:t.plugins))throw new Error("This application has not registered any plugins yet.");var n=e.match(/([^\/]*)\/?(.*)/);if(!n||n.length<2)throw new Error('Plugin "'.concat(e,'" has not registered.'));var r=n[1],o=n[2],a=__wxConfig.plugins[r];if(!a)throw new Error('Plugin "'.concat(e,'" has not registered.'));"dev"!==a.version&&_.isIOS&&r.length>0&&function(e){if(!u){c("qqNative/plugin",!0)("".concat(e,"/plugin.js"));var t=__wxConfig.plugins[e],n="plugin";if((null==t?void 0:t.provider)&&(n="__plugin__/".concat(t.provider,"/index.js")),void 0===i[n])throw new Error('Plugin "'.concat(e,'" inject fail.'));console.log('Plugin "'.concat(e,'" inject success.')),u=!0}}(r);var f="__plugin__/".concat(a.provider);o?f+="/".concat(o):/\.js$/.test(f)||(f+=".js"),s(f)}}}).call(this,n(5))},195:function(e,t,n){"undefined"!=typeof window&&(window.__tt__start__loadJSSDK=!0);var _=n(3),r=(i="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self).__ttObjdec__||{};if(null==r.Triton){r.Triton=Triton;try{Triton=void 0}catch(e){}}if(_.isAndroid){n(33),n(38),n(36),n(8),n(196),n(37),(i="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self).worker=wx.createWorker()}else{var i,o=n(197),a=n(15);(i="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self).worker=new o.Worker,i.define=a.define,i.require=a.require,i.util=new r.Triton.GlobalUtil,i.setTimeout=function(e,t){return i.util.setTimeout(e,t||0)},i.setInterval=function(e,t){return i.util.setInterval(e,t||0)},i.clearTimeout=function(e){return i.util.clearTimeout(e)},i.clearInterval=function(e){return i.util.clearInterval(e)}}"undefined"!=typeof window&&(window.__tt__success__loadJSSDK=!0)},196:function(e,t){__TT__GLOBAL__,__TT__GLOBAL__;var n,_,r=__TT__GLOBAL__;__TT__GLOBAL__;n=r.__ttObjdec__,_=void 0,wx.createWorker=function(){return null!=_&&(_.terminate(),_=void 0),_=n.worker}},197:function(e,t,n){var _=[],r=n(8).WeixinNativeBuffer,i="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self;function o(){this._worker=WeixinWorker}WeixinWorker.appServiceMsgHandler=function(e){var t=r.unpack(e);null!=t.__cmd__&&"requireScript"===t.__cmd__?function(e){if(null==e)throw new Error("worker 入口 undefined");e.startsWith("/")&&(e=e.substring(1)),i.require(e)}(t.__script__):_.forEach((function(e){e(t)}))},o.prototype.postMessage=function(e){try{var t=r.pack(e),n=JSON.stringify(t);this._worker.postMsgToAppService(n)}catch(e){console.error("worker->postMessage 出现异常： "+e)}},o.prototype.onMessage=function(e){_.push(e)},e.exports={Worker:o}},20:function(e,t){var n={GL_COMMAND_ACTIVE_TEXTURE:0,GL_COMMAND_ATTACH_SHADER:1,GL_COMMAND_BIND_ATTRIB_LOCATION:2,GL_COMMAND_BIND_BUFFER:3,GL_COMMAND_BIND_FRAME_BUFFER:4,GL_COMMAND_BIND_RENDER_BUFFER:5,GL_COMMAND_BIND_TEXTURE:6,GL_COMMAND_BLEND_COLOR:7,GL_COMMAND_BLEND_EQUATION:8,GL_COMMAND_BLEND_EQUATION_SEPARATE:9,GL_COMMAND_BLEND_FUNC:10,GL_COMMAND_BLEND_FUNC_SEPARATE:11,GL_COMMAND_BUFFER_DATA:12,GL_COMMAND_BUFFER_SUB_DATA:13,GL_COMMAND_CHECK_FRAME_BUFFER_STATUS:14,GL_COMMAND_CLEAR:15,GL_COMMAND_CLEAR_COLOR:16,GL_COMMAND_CLEAR_DEPTH:17,GL_COMMAND_CLEAR_STENCIL:18,GL_COMMAND_COLOR_MASK:19,GL_COMMAND_COMMIT:20,GL_COMMAND_COMPILE_SHADER:21,GL_COMMAND_COMPRESSED_TEX_IMAGE_2D:22,GL_COMMAND_COMPRESSED_TEX_SUB_IMAGE_2D:23,GL_COMMAND_COPY_TEX_IMAGE_2D:24,GL_COMMAND_COPY_TEX_SUB_IMAGE_2D:25,GL_COMMAND_CREATE_BUFFER:26,GL_COMMAND_CREATE_FRAME_BUFFER:27,GL_COMMAND_CREATE_PROGRAM:28,GL_COMMAND_CREATE_RENDER_BUFFER:29,GL_COMMAND_CREATE_SHADER:30,GL_COMMAND_CREATE_TEXTURE:31,GL_COMMAND_CULL_FACE:32,GL_COMMAND_DELETE_BUFFER:33,GL_COMMAND_DELETE_FRAME_BUFFER:34,GL_COMMAND_DELETE_PROGRAM:35,GL_COMMAND_DELETE_RENDER_BUFFER:36,GL_COMMAND_DELETE_SHADER:37,GL_COMMAND_DELETE_TEXTURE:38,GL_COMMAND_DEPTH_FUNC:39,GL_COMMAND_DEPTH_MASK:40,GL_COMMAND_DEPTH_RANGE:41,GL_COMMAND_DETACH_SHADER:42,GL_COMMAND_DISABLE:43,GL_COMMAND_DISABLE_VERTEX_ATTRIB_ARRAY:44,GL_COMMAND_DRAW_ARRAYS:45,GL_COMMAND_DRAW_ELEMENTS:46,GL_COMMAND_ENABLE:47,GL_COMMAND_ENABLE_VERTEX_ATTRIB_ARRAY:48,GL_COMMAND_FINISH:49,GL_COMMAND_FLUSH:50,GL_COMMAND_FRAME_BUFFER_RENDER_BUFFER:51,GL_COMMAND_FRAME_BUFFER_TEXTURE_2D:52,GL_COMMAND_FRONT_FACE:53,GL_COMMAND_GENERATE_MIPMAP:54,GL_COMMAND_GET_EXTENSION:55,GL_COMMAND_GET_CONTEXT_ATTRIBUTES:56,GL_COMMAND_GET_SUPPORTED_EXTENSIONS:57,GL_COMMAND_GET_ACTIVE_ATTRIB:58,GL_COMMAND_GET_ACTIVE_UNIFORM:59,GL_COMMAND_GET_ATTACHED_SHADERS:60,GL_COMMAND_GET_ATTRIB_LOCATION:61,GL_COMMAND_GET_BUFFER_PARAMETER:62,GL_COMMAND_GET_ERROR:63,GL_COMMAND_GET_FRAME_BUFFER_ATTACHMENT_PARAMETER:64,GL_COMMAND_GET_PARAMETER:65,GL_COMMAND_GET_PROGRAM_INFO_LOG:66,GL_COMMAND_GET_PROGRAM_PARAMENTER:67,GL_COMMAND_GET_RENDER_BUFFER_PARAMETER:68,GL_COMMAND_GET_SHADER_INFO_LOG:69,GL_COMMAND_GET_SHADER_PARAMETER:70,GL_COMMAND_GET_SHADER_PRECISION_FORMAT:71,GL_COMMAND_GET_SHADER_SOURCE:72,GL_COMMAND_GET_TEX_PARAMETER:73,GL_COMMAND_GET_UNIFORM:74,GL_COMMAND_GET_UNIFORM_LOCATION:75,GL_COMMAND_GET_VERTEX_ATTRIB:76,GL_COMMAND_GET_VERTEX_ATTRIB_OFFSET:77,GL_COMMAND_READPIXELS:78,GL_COMMAND_HINT:79,GL_COMMAND_IS_BUFFER:80,GL_COMMAND_IS_ENABLED:81,GL_COMMAND_IS_FRAME_BUFFER:82,GL_COMMAND_IS_PROGRAM:83,GL_COMMAND_IS_RENDER_BUFFER:84,GL_COMMAND_IS_SHADER:85,GL_COMMAND_IS_TEXTURE:86,GL_COMMAND_IS_VERTEX_ARRAY:87,GL_COMMAND_LINE_WIDTH:88,GL_COMMAND_LINK_PROGRAM:89,GL_COMMAND_PIXEL_STOREI:90,GL_COMMAND_POLYGON_OFFSET:91,GL_COMMAND_RENDER_BUFFER_STORAGE:92,GL_COMMAND_SAMPLE_COVERAGE:93,GL_COMMAND_SCISSOR:94,GL_COMMAND_SHADER_SOURCE:95,GL_COMMAND_STENCIL_FUNC:96,GL_COMMAND_STENCIL_FUNC_SEPARATE:97,GL_COMMAND_STENCIL_MASK:98,GL_COMMAND_STENCIL_MASK_SEPARATE:99,GL_COMMAND_STENCIL_OP:100,GL_COMMAND_STENCIL_OP_SEPARATE:101,GL_COMMAND_TEX_IMAGE_2D:102,GL_COMMAND_TEX_PARAMETER_F:103,GL_COMMAND_TEX_PARAMETER_I:104,GL_COMMAND_TEX_SUB_IMAGE_2D:105,GL_COMMAND_UNIFORM_1F:106,GL_COMMAND_UNIFORM_1FV:107,GL_COMMAND_UNIFORM_1I:108,GL_COMMAND_UNIFORM_1IV:109,GL_COMMAND_UNIFORM_2F:110,GL_COMMAND_UNIFORM_2FV:111,GL_COMMAND_UNIFORM_2I:112,GL_COMMAND_UNIFORM_2IV:113,GL_COMMAND_UNIFORM_3F:114,GL_COMMAND_UNIFORM_3FV:115,GL_COMMAND_UNIFORM_3I:116,GL_COMMAND_UNIFORM_3IV:117,GL_COMMAND_UNIFORM_4F:118,GL_COMMAND_UNIFORM_4FV:119,GL_COMMAND_UNIFORM_4I:120,GL_COMMAND_UNIFORM_4IV:121,GL_COMMAND_UNIFORM_MATRIX_2FV:122,GL_COMMAND_UNIFORM_MATRIX_3FV:123,GL_COMMAND_UNIFORM_MATRIX_4FV:124,GL_COMMAND_USE_PROGRAM:125,GL_COMMAND_VALIDATE_PROGRAM:126,GL_COMMAND_VERTEX_ATTRIB_1F:127,GL_COMMAND_VERTEX_ATTRIB_1FV:128,GL_COMMAND_VERTEX_ATTRIB_2F:129,GL_COMMAND_VERTEX_ATTRIB_2FV:130,GL_COMMAND_VERTEX_ATTRIB_3F:131,GL_COMMAND_VERTEX_ATTRIB_3FV:132,GL_COMMAND_VERTEX_ATTRIB_4F:133,GL_COMMAND_VERTEX_ATTRIB_4FV:134,GL_COMMAND_VERTEX_ATTRIB_POINTER:135,GL_COMMAND_VIEW_PORT:136,GL_COMMAND_CREATE_VERTEX_ARRAY:200,GL_COMMAND_BIND_VERTEX_ARRAY:201,GL_COMMAND_DELETE_VERTEX_ARRAY:202,GL_COMMAND_DRAW_ARRAYS_INSTANCE:203,GL_COMMAND_DRAW_ELEMENTS_INSTANCE:204,GL_COMMAND_VERTEX_ATTRIB_DIVISOR:205,GL_COMMAND_BIND_VERTEX_ARRAY_OES:300,GL_COMMAND_CREATE_VERTEX_ARRAY_OES:301,GL_COMMAND_DELETE_VERTEX_ARRAY_OES:302,GL_COMMAND_IS_VERTEX_ARRAY_OES:303};t.WebGLCmdConstant=n,t.attachWebGLCmdConstant=function(e){for(var t in n)"function"!=typeof n[t]&&null!==n[t]&&(e[t]=n[t])},t.CmdParamType={GMD_PARAM_TYPE_QUEUE_H:1,GMD_PARAM_TYPE_COMMAND_H:2,GMD_PARAM_TYPE_ARGS:3},t.FlushType={FLUSH_TYPE_END_FRAME:1,FLUSH_TYPE_OVER_BUFFER:2,FLUSH_TYPE_SYNC:3,FLUSH_TYPE_CALLER_CHANGE:4}},3:function(e,t){var n="undefined"!=typeof __wxConfig?__wxConfig.platform:"undefined";e.exports.isIOS="ios"===n,e.exports.isAndroid="android"===n,e.exports.isDevtool="devtools"===n},33:function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__,_=__TT__GLOBAL__,r=n.__ttObjdec__;r.logInterface=function(e,t){try{if(t.length>0){var n=t.map((function(e){try{return"string"==typeof e?e:JSON.stringify(e)}catch(t){return e}})).join(" ");r.Triton.Script.log(e,0,n)}else r.Triton.Script.log(e,0,"no args log")}catch(e){r.Triton.Script.log(103,0,"tt.Triton.Script.logInterface error! err ="+e)}};var i=console.log,o=console.error,a=console.warn,u=console.debug;console.log=function(){var e=Array.prototype.slice.call(arguments);r.logInterface(101,e),i.apply(console,arguments)},console.info=console.log,console.error=function(){var e=Array.prototype.slice.call(arguments);r.logInterface(103,e),o.apply(console,arguments)},console.warn=function(){var e=Array.prototype.slice.call(arguments);r.logInterface(102,e),a.apply(console,arguments)},console.debug=function(){var e=Array.prototype.slice.call(arguments);r.logInterface(100,e),u.apply(console,arguments)},console.group=console.log,console.groupEnd=function(){},_.console=console},36:function(e,t){__TT__GLOBAL__;var n,_,r,i=__TT__GLOBAL__;__TT__GLOBAL__;n=i.__ttObjdec__,_=[],r=function(){var e={};return e._worker=new n.Triton.Worker,e.runScript=function(t){e._worker.runScript(t)},e.postMessage=function(t){t=WeixinNativeBuffer.pack(t);var n=JSON.stringify(t);e._worker.postMessage(n)},e.onMessage=function(e){_.push(e)},e.terminate=function(){e._worker.terminate()},e._worker.onMessage((function(e){var t=WeixinNativeBuffer.unpack(e);_.forEach((function(e){e(t)}))})),e},n.worker=r()},37:function(e,t,n){function _(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _=0,i=function(){};return{s:i,n:function(){return _>=e.length?{done:!0}:{done:!1,value:e[_++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,_=new Array(t);n<t;n++)_[n]=e[n];return _}__TT__GLOBAL__;var i=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){i.setTimeout=function(t,n){return n=n||0,e.Triton.MessageQueue.setTimeout(t,n)},i.clearTimeout=function(t){t&&e.Triton.MessageQueue.removeTimeout(t)},i.setInterval=function(t,n){n=n||0;var _={};return _.id=e.Triton.MessageQueue.setTimeout((function r(){_.id=e.Triton.MessageQueue.setTimeout(r,n),t()}),n),_},i.clearInterval=function(t){t&&"number"==typeof t.id&&e.Triton.MessageQueue.removeTimeout(t.id)};var t=0,n=new Map,r=new Map;i.requestAnimationFrame=function(e){if("function"==typeof e){var _=t++;return n.set(_,e),_}},i.cancelAnimationFrame=function(e){n.delete(e)},e.Triton.__processAnimateFrame__=function(e){var t=n;n=r;var i,o=_(t.values());try{for(o.s();!(i=o.n()).done;){(0,i.value)(e)}}catch(e){o.e(e)}finally{o.f()}t.clear(),r=t}}(i.__ttObjdec__),function(e){var t=n(20).FlushType,_=!1;function r(){return scriptEngineContextType&&(scriptEngineContextType==CONTEXT_TYPE_MAIN||scriptEngineContextType==CONTEXT_TYPE_OPENDATA)}wx.__tt___changeGameState__=function(e){_=!e},r()&&e.Triton.Director.init(),e.Triton.__onVSync__=function(n){_?r()&&i.q9zq.saveToFile():(r()&&i.q9zq.frameStart(),e.Triton.__processAnimateFrame__(n),r()&&(null!=e.lastMergeCanvas&&(e.lastMergeCanvas.flushImage(),e.lastMergeCanvas=null),e.CommandQueueV2.Instance.flushCmd(t.FLUSH_TYPE_END_FRAME),e.CommandQueue.Instance.flushCmd()))}}(i.__ttObjdec__),function(e){function t(){return Date.now()}var n=t(),_=function(){return t()-n};i.q9zq={fpIndex:0,funIndex:0,haveCartoned:!1,allFrames:[],lastRecIndex:-1,tempFrameRec:[],frameStartTime:10,mainRec:[],FrameProfileRunning:!1,enableFrameProfile:function(){return e.enableTimeMonitor||this.FrameProfileRunning},FrameProfileStart:function(e){i.timePerformanceResult&&(this.FrameProfileRunning=!0,setTimeout((function(){i.timePerformanceResult("",e)}),0))},FrameProfileEnd:function(e){if(i.timePerformanceResult){this.FrameProfileRunning=!1;var t=this.getDataStr();setTimeout((function(){i.timePerformanceResult(t,e)}),0)}},frameStart:function(){this.preFrameEnd(),this.frameStartTime=_(),this.tempFrameRec=[],this.lastRecIndex=-1,this.fpIndex=(this.fpIndex+1)%1e7,this.funIndex=0,this.mainRec=[]},preFrameEnd:function(){this.enableFrameProfile()&&this.lastRecIndex>=0&&(_()-this.frameStartTime>16?(this.tempFrameRec.length>this.lastRecIndex+1&&this.tempFrameRec.splice(this.lastRecIndex+1,this.tempFrameRec.length-(this.lastRecIndex+1)),this.allFrames.push({time:this.frameStartTime,list:this.tempFrameRec}),this.haveCartoned=!0):(this.FrameProfileRunning||this.haveCartoned)&&this.allFrames.push({time:this.frameStartTime,list:this.mainRec}));this.tempFrameRec=[],this.lastRecIndex=-1},mainStart:function(e){var t=this.a(e);return this.mainRec.push(this.tempFrameRec[this.lastRecIndex]),t},mainEnd:function(e,t){this.b(e,t),this.lastRecIndex>0&&this.mainRec.push(this.tempFrameRec[this.lastRecIndex])},a:function(e){e.a&&(e=e.a),this.funIndex++;var t=this.fpIndex+"_"+this.funIndex+"_"+e;return this.tempFrameRec[++this.lastRecIndex]={key:e,type:"start",time:_(),callIndex:t},t},b:function(e,t){if(e.a&&(e=e.a),t.s&&!(this.lastRecIndex<0)){var n=_(),r=this.tempFrameRec[this.lastRecIndex];r.callIndex==t.s&&n-r.time<.001?this.lastRecIndex--:this.tempFrameRec[++this.lastRecIndex]={key:e,type:"end",time:_(),callIndex:t.s}}},c:function(e,t){this.b(t,{s:e})},getDataStr:function(){if(0!=this.allFrames.length){for(var e=0;e<this.allFrames.length;e++){var t=this.allFrames[e];if(t.list){for(var n=[],_=[],r=0;r<t.list.length;r++){if("start"==(c=t.list[r]).type)n.push(c),_.push(c);else for(;;){var i=n.pop();if(!i){c.disable=!0,__err("打点数据出现非预期的异常情况(只有end，没有start)");break}if(i.callIndex==c.callIndex){c.searchInfo="searchInfo: "+i.key+"_"+(c&&c.time-i.time),_.push(c);break}i.disable=!0,_.push({key:i.key,type:"end",time:c&&c.time,callIndex:i.callIndex,addedPoint:!0,"searchInfo:":"searchInfo: "+i.key+"_"+(c&&c.time-i.time)+"_exception"})}}for(var o=_[_.length-1]&&_[_.length-1].time,a=n.length-1;a>=0;a--){var u=n[a];u.disable=!0,_.push({key:u.key,type:"end",time:o,callIndex:u.callIndex,addedPoint:!0})}for(var f=[],s=0;s<t.list.length;s++){var c;(c=t.list[s]).disable||f.push(c)}t.list=_}}var M=JSON.stringify(this.allFrames);return this.allFrames=[],this.haveCartoned=!1,M}},saveToFile:function(){var e=this.getDataStr();if(e){if(!this.moniterFileTime){var t=new Date(Date.now()),n=t.getSeconds()+":"+t.getHours()+":"+t.getMinutes();this.moniterFileTime=n,this.moniterFileIndex=0}var _="wxfile://usr/js_time_monitor_"+ ++this.moniterFileIndex+"_"+this.moniterFileTime+".json";wx.getFileSystemManager().writeFile({filePath:_,data:e,success:function(){console.log("save moniter success: "+_)}})}}},e.initFrameProfile=function(){scriptEngineContextType==CONTEXT_TYPE_MAIN&&(console.log("initFrameProfile"),wx.registerProfile((function(e){if(console.log("FrameProfile onMessage:",e),e){var t=e.cmd,n=e.id;"start"===t?i.q9zq.FrameProfileStart(n):"end"===t&&i.q9zq.FrameProfileEnd(n)}})))}}(i.__ttObjdec__)},38:function(e,t){var n=__TT__GLOBAL__;!function(e){var t={};function _(n){t[n]||e.Triton.Script.loadJS(n)}function r(e){var t=e.match(/(.*)\/([^\/]+)?$/);return t&&t[1]?t[1]:"./"}function i(e,t){if("string"!=typeof t)throw new Error("require args must be a string");for(var n=[],_=(e+"/"+t).split("/"),r=0,i=_.length;r<i;++r){var o=_[r];if(""!==o&&"."!==o)if(".."===o){if(0===n.length)throw new Error("can't find module : "+t);n.pop()}else r+1<i&&".."===_[r+1]?r++:n.push(o)}var a=n.join("/");return/\.js$/.test(a)||(a+=".js"),a}function o(e,t){if(1===e.status){var n,_=e.factory,r={exports:{}};_&&(n=_(t,r,r.exports)),e.exports=r.exports||n,e.status=2}}function a(e){var n=r(e);return function(e){return function(e){_(e);var n=t[e];return o(n,a(e)),n.exports}(i(n,e))}}var u,f={},s={};function c(e){var t=s[e];if(void 0===t)throw new Error("can't find plugin "+e);return"__plugin__/"+t}n.__tt__allModules=t,n.define=function(e,n){t[e]||(t[e]={exports:{},factory:n,status:1})},n.definePlugin=function(e,t,n){s[e]=t,n((function(e,t){f[e]||(f[e]={exports:{},factory:t,status:1})}))},n.require=a(""),n.requirePlugin=function(t){var n=t.match(/([^\/]+)(\/(.*))?/);if(n){var _=n[1],a=n[3];!function(t){s[t]||e.Triton.Script.loadPlugin(t)}(_);var u=function e(t,n){return function(_){var a;if(void 0!==_){if(!(a=i(r(n),_)).startsWith(c(t)+"/"))throw new Error("invalid plugin file "+t+"/"+_)}else{if(n!==c(t))throw new Error("require args must be a string");a=c(t)+".js"}var u=f[a];if(void 0===u)throw _?new Error("can't find plugin file "+t+" "+_):new Error("can't find plugin "+t);return o(u,e(t,a)),u.exports}}(_,c(_));u(void 0===a?void 0:s[_]+"/"+a)}},n.__tt__preloadjs=(u=r(""),function(e){_(i(u,e))})}(n.__ttObjdec__)},5:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},8:function(e,t){var n="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self,_=function(e){var t=e.WeixinNativeBuffer,n=e.getNativeBufferId,_=e.setNativeBuffer,r=(e.getNativeBuffer,e.__wxConfig||{}),i=!1,o=e.WeixinNativeBuffer,a=(e.getNativeBufferId,e.setNativeBuffer,e.getNativeBuffer);e.__wxConfig;i="android"===r.platform||"ios"===r.platform&&null!=t&&r.nativeBufferEnabled;var u=function(e){var r={};return i?r.id=function(e){var r=e.__proto__;e.__proto__=ArrayBuffer.prototype;var i=-1;return t?i=t.new(e):"function"==typeof n&&"function"==typeof _&&(i=n(),_(i,e)),e.__proto__=r,i}(e):r.base64=M(e),r},f=function(e){if(e)if(i&&null!=e.id){if(i)return o.get(e.id);if("function"==typeof a)return a(e.id)}else if(e.base64)return l(e.base64)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=c||function(e){for(var t,n,_=String(e),r="",i=0,o=s;_.charAt(0|i)||(o="=",i%1);r+=o.charAt(63&t>>8-i%1*8)){if(255<(n=_.charCodeAt(i+=.75)))throw new Error('"btoa" failed');t=t<<8|n}return r},M=function(e){for(var t="",n=new Uint8Array(e),_=n.byteLength,r=0;r<_;r++)t+=String.fromCharCode(n[r]);return c(t)},l=function(e){for(var t=function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var _,r,i=0,o=0;r=t.charAt(o++);~r&&(_=i%4?64*_+r:r,i++%4)?n+=String.fromCharCode(255&_>>(-2*i&6)):0)r=s.indexOf(r);return n}(e),n=t.length,_=new Uint8Array(n),r=0;r<n;r++)_[r]=t.charCodeAt(r);return _.buffer},A=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]};return delete e.WeixinNativeBuffer,delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer,{new:u,get:f,useCompatibleMode:function(e){t&&t.useCompatibleMode(e)},pack:function(e){if(null==e)return e;var t=[];for(var n in e){var _=e[n];void 0!==_&&"ArrayBuffer"===A(_)&&void 0!==_.byteLength&&((i=u(_)).key=n,t.push(i))}if(0<t.length){for(var r=0;r<t.length;r++){var i;delete e[(i=t[r]).key]}e.__nativeBuffers__=t}return e},unpack:function(e){if(null==e||null==e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n=0;n<t.length;n++){var _=t[n];if(null!=_){var r=f(_);void 0!==r&&"ArrayBuffer"===A(r)&&(e[_.key]=r)}}return e}}}(n);n.WeixinNativeBuffer=_,_=null,e.exports={WeixinNativeBuffer:n.WeixinNativeBuffer}}});